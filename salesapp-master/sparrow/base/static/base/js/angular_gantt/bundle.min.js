"format amd";!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=rt.type(t);return"function"!==n&&!rt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(rt.isFunction(e))return rt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return rt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ht.test(e))return rt.filter(e,t,n);e=rt.filter(e,t)}return rt.grep(t,function(t){return rt.inArray(t,e)>=0!==n})}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e=bt[t]={};return rt.each(t.match(yt)||[],function(t,n){e[n]=!0}),e}function s(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(pt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(s(),rt.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(kt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ct.test(n)?rt.parseJSON(n):n)}catch(t){}rt.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!rt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(rt.acceptData(t)){var r,o,s=rt.expando,a=t.nodeType,l=a?rt.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=a?t[s]=q.pop()||rt.guid++:s),l[u]||(l[u]=a?{}:{toJSON:rt.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[u]=rt.extend(l[u],e):l[u].data=rt.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[rt.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[rt.camelCase(e)]):r=o,r}}function d(t,e,n){if(rt.acceptData(t)){var i,r,o=t.nodeType,s=o?rt.cache:t,a=o?t[rt.expando]:rt.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){rt.isArray(e)?e=e.concat(rt.map(e,rt.camelCase)):e in i?e=[e]:(e=rt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!u(i):!rt.isEmptyObject(i))return}(n||(delete s[a].data,u(s[a])))&&(o?rt.cleanData([t],!0):nt.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function h(){return!0}function f(){return!1}function p(){try{return pt.activeElement}catch(t){}}function g(t){var e=Ft.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function m(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==xt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==xt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||rt.nodeName(i,e)?o.push(i):rt.merge(o,m(i,e));return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],o):o}function v(t){Tt.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function b(t){return t.type=(null!==rt.find.attr(t,"type"))+"/"+t.type,t}function w(t){var e=zt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function $(t,e){for(var n,i=0;null!=(n=t[i]);i++)rt._data(n,"globalEval",!e||rt._data(e[i],"globalEval"))}function x(t,e){if(1===e.nodeType&&rt.hasData(t)){var n,i,r,o=rt._data(t),s=rt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)rt.event.add(e,n,a[n][i])}s.data&&(s.data=rt.extend({},s.data))}}function C(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[rt.expando]){r=rt._data(e);for(i in r.events)rt.removeEvent(e,i,r.handle);e.removeAttribute(rt.expando)}"script"===n&&e.text!==t.text?(b(e).text=t.text,w(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!rt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Tt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function k(e,n){var i,r=rt(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),o}function S(t){var e=pt,n=Jt[t];return n||("none"!==(n=k(t,e))&&n||(Zt=(Zt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),(e=(Zt[0].contentWindow||Zt[0].contentDocument).document).write(),e.close(),n=k(t,e),Zt.detach()),Jt[t]=n),n}function E(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=ce.length;r--;)if((e=ce[r]+n)in t)return e;return i}function _(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)(i=t[s]).style&&(o[s]=rt._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Dt(i)&&(o[s]=rt._data(i,"olddisplay",S(i.nodeName)))):(r=Dt(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(s=0;a>s;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function T(t,e,n){var i=se.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function P(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=rt.css(t,n+Et[o],!0,r)),i?("content"===n&&(s-=rt.css(t,"padding"+Et[o],!0,r)),"margin"!==n&&(s-=rt.css(t,"border"+Et[o]+"Width",!0,r))):(s+=rt.css(t,"padding"+Et[o],!0,r),"padding"!==n&&(s+=rt.css(t,"border"+Et[o]+"Width",!0,r)));return s}function M(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Qt(t),s=nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,o);if(0>=r||null==r){if((0>(r=Kt(t,e,o))||null==r)&&(r=t.style[e]),ee.test(r))return r;i=s&&(nt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+P(t,e,n||(s?"border":"content"),i,o)+"px"}function j(t,e,n,i,r){return new j.prototype.init(t,e,n,i,r)}function A(){return setTimeout(function(){de=void 0}),de=rt.now()}function O(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Et[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function F(t,e,n){for(var i,r=(ve[e]||[]).concat(ve["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function I(t,e,n){var i,r,o,s,a,l,u,c=this,d={},h=t.style,f=t.nodeType&&Dt(t),p=rt._data(t,"fxshow");n.queue||(null==(a=rt._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,rt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=rt.css(t,"display"),"inline"===("none"===u?rt._data(t,"olddisplay")||S(t.nodeName):u)&&"none"===rt.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==S(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",nt.shrinkWrapBlocks()||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],fe.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||rt.style(t,i)}else u=void 0;if(rt.isEmptyObject(d))"inline"===("none"===u?S(t.nodeName):u)&&(h.display=u);else{p?"hidden"in p&&(f=p.hidden):p=rt._data(t,"fxshow",{}),o&&(p.hidden=!f),f?rt(t).show():c.done(function(){rt(t).hide()}),c.done(function(){var e;rt._removeData(t,"fxshow");for(e in d)rt.style(t,e,d[e])});for(i in d)s=F(f?p[i]:0,i,c),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function N(t,e){var n,i,r,o,s;for(n in t)if(i=rt.camelCase(n),r=e[i],o=t[n],rt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=rt.cssHooks[i])&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function R(t,e,n){var i,r,o=0,s=me.length,a=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=de||A(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;s>o;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),1>i&&s?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:de||A(),duration:n.duration,tweens:[],createTween:function(e,n){var i=rt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(N(c,u.opts.specialEasing);s>o;o++)if(i=me[o].call(u,t,c,u.opts))return i;return rt.map(c,F,u),rt.isFunction(u.opts.start)&&u.opts.start.call(t,u),rt.fx.timer(rt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(yt)||[];if(rt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function H(t,e,n,i){function r(a){var l;return o[a]=!0,rt.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===We;return r(e.dataTypes[0])||!o["*"]&&r("*")}function W(t,e){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function U(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function B(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,i){var r;if(rt.isArray(e))rt.each(e,function(e,r){n||Ve.test(t)?i(t,r):V(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==rt.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function Y(){try{return new t.XMLHttpRequest}catch(t){}}function z(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(t){return rt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var q=[],X=q.slice,Z=q.concat,J=q.push,Q=q.indexOf,K={},tt=K.toString,et=K.hasOwnProperty,nt={},it="1.11.2",rt=function(t,e){return new rt.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return rt.each(this,t,e)},map:function(t){return this.pushStack(rt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:q.sort,splice:q.splice},rt.extend=rt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||rt.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(u&&n&&(rt.isPlainObject(n)||(e=rt.isArray(n)))?(e?(e=!1,o=t&&rt.isArray(t)?t:[]):o=t&&rt.isPlainObject(t)?t:{},s[i]=rt.extend(u,o,n)):void 0!==n&&(s[i]=n));return s},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray||function(t){return"array"===rt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==rt.type(t)||t.nodeType||rt.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?K[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&rt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(st,"ms-").replace(at,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r=0,o=t.length,s=n(t);if(i){if(s)for(;o>r&&!1!==e.apply(t[r],i);r++);else for(r in t)if(!1===e.apply(t[r],i))break}else if(s)for(;o>r&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?rt.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Q)return Q.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;o>r;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,i){var r,o=0,s=t.length,a=[];if(n(t))for(;s>o;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return Z.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),rt.isFunction(t)?(n=X.call(arguments,2),i=function(){return t.apply(e||this,n.concat(X.call(arguments)))},i.guid=t.guid=t.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){K["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,n,i){var r,o,s,a,u,d,h,f,p,g;if((e?e.ownerDocument||e:R)!==P&&T(e),e=e||P,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&j){if(11!==a&&(r=mt.exec(t)))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&I(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&b.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(b.qsa&&(!A||!A.test(t))){if(f=h=N,p=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(d=C(t),(h=e.getAttribute("id"))?f=h.replace(yt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",u=d.length;u--;)d[u]=f+c(d[u]);p=vt.test(t)&&l(e.parentNode)||e,g=d.join(",")}if(g)try{return Z.apply(n,p.querySelectorAll(g)),n}catch(t){}finally{h||e.removeAttribute("id")}}}return S(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[N]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)w.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function c(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u=[L,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[N]||(e[N]={}),(a=l[i])&&a[0]===L&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function h(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function f(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function p(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function g(t,e,n,r,o,s){return r&&!r[N]&&(r=g(r)),o&&!o[N]&&(o=g(o,s)),i(function(i,s,a,l){var u,c,d,h=[],g=[],m=s.length,v=i||f(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:p(v,h,t,a,l),b=n?o||(i?t:m||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=p(b,g),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[g[c]]=!(y[g[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?Q(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else b=p(b===s?b.splice(m,b.length):b),o?o(null,s,b,l):Z.apply(s,b)})}function m(t){for(var e,n,i,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,l=d(function(t){return t===e},s,!0),u=d(function(t){return Q(e,t)>-1},s,!0),f=[function(t,n,i){var r=!o&&(i||n!==E)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=w.relative[t[a].type])f=[d(h(f),n)];else{if((n=w.filter[t[a].type].apply(null,t[a].matches))[N]){for(i=++a;r>i&&!w.relative[t[i].type];i++);return g(a>1&&h(f),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),n,i>a&&m(t.slice(a,i)),r>i&&m(t=t.slice(i)),r>i&&c(t))}f.push(n)}return h(f)}function v(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,d,h,f=0,g="0",m=i&&[],v=[],y=E,b=i||o&&w.find.TAG("*",u),$=L+=null==y?1:Math.random()||.1,x=b.length;for(u&&(E=s!==P&&s);g!==x&&null!=(c=b[g]);g++){if(o&&c){for(d=0;h=t[d++];)if(h(c,s,a)){l.push(c);break}u&&(L=$)}r&&((c=!h&&c)&&f--,i&&m.push(c))}if(f+=g,r&&g!==f){for(d=0;h=n[d++];)h(m,v,s,a);if(i){if(f>0)for(;g--;)m[g]||v[g]||(v[g]=q.call(l));v=p(v)}Z.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(L=$,E=y),m};return r?i(s):s}var y,b,w,$,x,C,k,S,E,D,_,T,P,M,j,A,O,F,I,N="sizzle"+1*new Date,R=t.document,L=0,H=0,W=n(),U=n(),B=n(),V=function(t,e){return t===e&&(_=!0),0},Y=1<<31,z={}.hasOwnProperty,G=[],q=G.pop,X=G.push,Z=G.push,J=G.slice,Q=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=et.replace("w","w#"),it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(rt),dt=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},$t=function(){T()};try{Z.apply(G=J.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(t){Z={apply:G.length?function(t,e){X.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},T=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:R;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,M=i.documentElement,(n=i.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",$t,!1):n.attachEvent&&n.attachEvent("onunload",$t)),j=!x(i),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(i.getElementsByClassName),b.getById=r(function(t){return M.appendChild(t).id=N,!i.getElementsByName||!i.getElementsByName(N).length}),b.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&j){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=b.getElementsByClassName&&function(t,e){return j?e.getElementsByClassName(t):void 0},O=[],A=[],(b.qsa=gt.test(i.querySelectorAll))&&(r(function(t){M.appendChild(t).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&A.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||A.push("\\["+tt+"*(?:value|"+K+")"),t.querySelectorAll("[id~="+N+"-]").length||A.push("~="),t.querySelectorAll(":checked").length||A.push(":checked"),t.querySelectorAll("a#"+N+"+*").length||A.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&A.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),A.push(",.*:")})),(b.matchesSelector=gt.test(F=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){b.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),O.push("!=",rt)}),A=A.length&&new RegExp(A.join("|")),O=O.length&&new RegExp(O.join("|")),e=gt.test(M.compareDocumentPosition),I=e||gt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return _=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===R&&I(R,t)?-1:e===i||e.ownerDocument===R&&I(R,e)?1:D?Q(D,t)-Q(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return _=!0,0;var n,r=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:D?Q(D,t)-Q(D,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===R?-1:u[r]===R?1:0},i):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&T(t),n=n.replace(ut,"='$1']"),!(!b.matchesSelector||!j||O&&O.test(n)||A&&A.test(n)))try{var i=F.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&T(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&T(t);var n=w.attrHandle[e.toLowerCase()],i=n&&z.call(w.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==i?i:b.attributes||!j?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(_=!b.detectDuplicates,D=!b.sortStable&&t.slice(0),t.sort(V),_){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},$=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=$(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=$(e);return n},(w=e.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(f=(u=(c=m[N]||(m[N]={}))[t]||[])[0]===L&&u[1],h=u[0]===L&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[L,f,h];break}}else if(y&&(u=(e[N]||(e[N]={}))[t])&&u[0]===L)h=u[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[N]||(d[N]={}))[t]=[L,h]),d!==e)););return(h-=r)===i||h%i==0&&h/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[N]?o(n):o.length>1?(r=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=Q(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=k(t.replace(st,"$1"));return r[N]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do{if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[0>n?n+e:n]}),even:a(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,C=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=w.preFilter;a;){(!i||(r=at.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),a=a.slice(i.length));for(s in w.filter)!(r=ht[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):U(t,l).slice(0)},k=e.compile=function(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=m(e[n]),o[N]?i.push(o):r.push(o);(o=B(t,v(r,i))).selector=t}return o},S=e.select=function(t,e,n,i){var r,o,s,a,u,d="function"==typeof t&&t,h=!i&&C(t=d.selector||t);if(n=n||[],1===h.length){if((o=h[0]=h[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&j&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(bt,wt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ht.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((u=w.find[a])&&(i=u(s.matches[0].replace(bt,wt),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&c(o)))return Z.apply(n,i),n;break}}return(d||k(t,h))(i,e,!j,n,vt.test(t)&&l(e.parentNode)||e),n},b.sortStable=N.split("").sort(V).join("")===N,b.detectDuplicates=!!_,T(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(K,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var ct=rt.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?rt.find.matchesSelector(i,t)?[i]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;r>e;e++)if(rt.contains(i[e],this))return!0}));for(e=0;r>e;e++)rt.find(t,i[e],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ct.test(t)?rt(t):t||[],!1).length}});var ft,pt=t.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(rt.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:gt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ft).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:pt,!0)),dt.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=pt.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return ft.find(t);this.length=1,this[0]=i}return this.context=pt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?void 0!==ft.ready?ft.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))}).prototype=rt.fn,ft=rt(pt);var mt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),rt.fn.extend({has:function(t){var e,n=rt(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(rt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ct.test(t)||"string"!=typeof t?rt(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(t){return t?"string"==typeof t?rt.inArray(this[0],rt(t)):rt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.unique(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return rt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return rt.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return rt.dir(t,"nextSibling")},prevAll:function(t){return rt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return rt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return rt.dir(t,"previousSibling",n)},siblings:function(t){return rt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return rt.sibling(t.firstChild)},contents:function(t){return rt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(n,i){var r=rt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(vt[t]||(r=rt.unique(r)),mt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var yt=/\S+/g,bt={};rt.Callbacks=function(t){var e,n,i,r,s,a,l=[],u=!(t="string"==typeof t?bt[t]||o(t):rt.extend({},t)).once&&[],c=function(o){for(n=t.memory&&o,i=!0,s=a||0,a=0,r=l.length,e=!0;l&&r>s;s++)if(!1===l[s].apply(o[0],o[1])&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function e(n){rt.each(n,function(n,i){var r=rt.type(i);"function"===r?t.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==r&&e(i)})}(arguments),e?r=l.length:n&&(a=i,c(n))}return this},remove:function(){return l&&rt.each(arguments,function(t,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),e&&(r>=i&&r--,s>=i&&s--)}),this},has:function(t){return t?rt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(t,n){return!l||i&&!u||(n=n||[],n=[t,n.slice?n.slice():n],e?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(n){rt.each(e,function(e,o){var s=rt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,i):i}},r={};return i.pipe=i.then,rt.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=X.call(arguments),s=o.length,a=1!==s||t&&rt.isFunction(t.promise)?s:0,l=1===a?t:rt.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?X.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}});var wt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){if(!0===t?!--rt.readyWait:!rt.isReady){if(!pt.body)return setTimeout(rt.ready);rt.isReady=!0,!0!==t&&--rt.readyWait>0||(wt.resolveWith(pt,[rt]),rt.fn.triggerHandler&&(rt(pt).triggerHandler("ready"),rt(pt).off("ready")))}}}),rt.ready.promise=function(e){if(!wt)if(wt=rt.Deferred(),"complete"===pt.readyState)setTimeout(rt.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{pt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&pt.documentElement}catch(t){}n&&n.doScroll&&function t(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}s(),rt.ready()}}()}return wt.promise(e)};var $t,xt="undefined";for($t in rt(nt))break;nt.ownLast="0"!==$t,nt.inlineBlockNeedsLayout=!1,rt(function(){var t,e,n,i;(n=pt.getElementsByTagName("body")[0])&&n.style&&(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=pt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(t){nt.deleteExpando=!1}}t=null}(),rt.acceptData=function(t){var e=rt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?rt.cache[t[rt.expando]]:t[rt.expando])&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),rt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(o,i,r[i]));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){rt.data(this,t)}):arguments.length>1?this.each(function(){rt.data(this,t,e)}):o?l(o,t,rt.data(o,t)):void 0},removeData:function(t){return this.each(function(){rt.removeData(this,t)})}}),rt.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=rt._data(t,e),n&&(!i||rt.isArray(n)?i=rt._data(t,e,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=rt.queue(t,e),i=n.length,r=n.shift(),o=rt._queueHooks(t,e),s=function(){rt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return rt._data(t,n)||rt._data(t,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(t,e+"queue"),rt._removeData(t,n)})})}}),rt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?rt.queue(this[0],t):void 0===e?this:this.each(function(){var n=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=rt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=rt._data(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],Dt=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},_t=rt.access=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===rt.type(n)){r=!0;for(a in n)rt.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(rt(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Tt=/^(?:checkbox|radio)$/i;!function(){var t=pt.createElement("input"),e=pt.createElement("div"),n=pt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}}(),function(){var e,n,i=pt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var Pt=/^(?:input|select|textarea)$/i,Mt=/^key/,jt=/^(?:mouse|pointer|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,Ot=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,d,h,f,p,g,m=rt._data(t);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||(c=m.handle=function(t){return typeof rt===xt||t&&rt.event.triggered===t.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=t),a=(e=(e||"").match(yt)||[""]).length;a--;)o=Ot.exec(e[a])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f&&(u=rt.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=rt.event.special[f]||{},d=rt.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:p.join(".")},l),(h=s[f])||(h=s[f]=[],h.delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),rt.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,u,c,d,h,f,p,g,m=rt.hasData(t)&&rt._data(t);if(m&&(c=m.events)){for(u=(e=(e||"").match(yt)||[""]).length;u--;)if(a=Ot.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(d=rt.event.special[f]||{},h=c[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||rt.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)rt.event.remove(t,f+e[u],n,i,!0);rt.isEmptyObject(c)&&(delete m.handle,rt._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,u,c,d,h=[i||pt],f=et.call(e,"type")?e.type:e,p=et.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||pt,3!==i.nodeType&&8!==i.nodeType&&!At.test(f+rt.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,e=e[rt.expando]?e:new rt.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:rt.makeArray(n,[e]),u=rt.event.special[f]||{},r||!u.trigger||!1!==u.trigger.apply(i,n))){if(!r&&!u.noBubble&&!rt.isWindow(i)){for(l=u.delegateType||f,At.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),c=a;c===(i.ownerDocument||pt)&&h.push(c.defaultView||c.parentWindow||t)}for(d=0;(a=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:u.bindType||f,(o=(rt._data(a,"events")||{})[e.type]&&rt._data(a,"handle"))&&o.apply(a,n),(o=s&&a[s])&&o.apply&&rt.acceptData(a)&&(e.result=o.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=f,!r&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(h.pop(),n))&&rt.acceptData(i)&&s&&i[f]&&!rt.isWindow(i)){(c=i[s])&&(i[s]=null),rt.event.triggered=f;try{i[f]()}catch(t){}rt.event.triggered=void 0,c&&(i[s]=c)}return e.result}},dispatch:function(t){t=rt.event.fix(t);var e,n,i,r,o,s=[],a=X.call(arguments),l=(rt._data(this,"events")||{})[t.type]||[],u=rt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=rt.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,void 0!==(n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],o=0;a>o;o++)i=e[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[rt.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=jt.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new rt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||pt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||pt,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=rt.extend(new rt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,e):rt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=pt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===xt&&(t[i]=null),t.detachEvent(i,n))},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?h:f):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return!rt.nodeName(this,"form")&&void rt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=rt.nodeName(e,"input")||rt.nodeName(e,"button")?e.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&rt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!rt.nodeName(this,"form")&&void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Pt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,t,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Pt.test(e.nodeName)&&!rt._data(e,"changeBubbles")&&(rt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||rt.event.simulate("change",this.parentNode,t,!0)}),rt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Pt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){rt.event.simulate(e,t.target,rt.event.fix(t),!0)};rt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,e);r||i.addEventListener(t,n,!0),rt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,e)-1;r?rt._data(i,e,r):(i.removeEventListener(t,n,!0),rt._removeData(i,e))}}}),rt.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=f;else if(!i)return this;return 1===r&&(s=i,i=function(t){return rt().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=rt.guid++)),this.each(function(){rt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,rt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=f),this.each(function(){rt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?rt.event.trigger(t,e,n,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",It=/ jQuery\d+="(?:null|\d+)"/g,Nt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Rt=/^\s+/,Lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ht=/<([\w:]+)/,Wt=/<tbody/i,Ut=/<|&#?\w+;/,Bt=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^$|\/(?:java|ecma)script/i,zt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xt=g(pt).appendChild(pt.createElement("div"));qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td,rt.extend({clone:function(t,e,n){var i,r,o,s,a,l=rt.contains(t.ownerDocument,t);if(nt.html5Clone||rt.isXMLDoc(t)||!Nt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Xt.innerHTML=t.outerHTML,Xt.removeChild(o=Xt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(i=m(o),a=m(t),s=0;null!=(r=a[s]);++s)i[s]&&C(r,i[s]);if(e)if(n)for(a=a||m(t),i=i||m(o),s=0;null!=(r=a[s]);s++)x(r,i[s]);else x(t,o);return(i=m(o,"script")).length>0&&$(i,!l&&m(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,u,c,d=t.length,h=g(e),f=[],p=0;d>p;p++)if((o=t[p])||0===o)if("object"===rt.type(o))rt.merge(f,o.nodeType?[o]:o);else if(Ut.test(o)){for(a=a||h.appendChild(e.createElement("div")),l=(Ht.exec(o)||["",""])[1].toLowerCase(),c=qt[l]||qt._default,a.innerHTML=c[1]+o.replace(Lt,"<$1></$2>")+c[2],r=c[0];r--;)a=a.lastChild;if(!nt.leadingWhitespace&&Rt.test(o)&&f.push(e.createTextNode(Rt.exec(o)[0])),!nt.tbody)for(r=(o="table"!==l||Wt.test(o)?"<table>"!==c[1]||Wt.test(o)?0:a:a.firstChild)&&o.childNodes.length;r--;)rt.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(rt.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(e.createTextNode(o));for(a&&h.removeChild(a),nt.appendChecked||rt.grep(m(f,"input"),v),p=0;o=f[p++];)if((!i||-1===rt.inArray(o,i))&&(s=rt.contains(o.ownerDocument,o),a=m(h.appendChild(o),"script"),s&&$(a),n))for(r=0;o=a[r++];)Yt.test(o.type||"")&&n.push(o);return a=null,h},cleanData:function(t,e){for(var n,i,r,o,s=0,a=rt.expando,l=rt.cache,u=nt.deleteExpando,c=rt.event.special;null!=(n=t[s]);s++)if((e||rt.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?rt.event.remove(n,i):rt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[a]:typeof n.removeAttribute!==xt?n.removeAttribute(a):n[a]=null,q.push(r))}}}),rt.fn.extend({text:function(t){return _t(this,function(t){return void 0===t?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?rt.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||rt.cleanData(m(n)),n.parentNode&&(e&&rt.contains(n.ownerDocument,n)&&$(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&rt.cleanData(m(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&rt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return _t(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(It,""):void 0;if(!("string"!=typeof t||Bt.test(t)||!nt.htmlSerialize&&Nt.test(t)||!nt.leadingWhitespace&&Rt.test(t)||qt[(Ht.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Lt,"<$1></$2>");try{for(;i>n;n++)1===(e=this[n]||{}).nodeType&&(rt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,rt.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Z.apply([],t);var n,i,r,o,s,a,l=0,u=this.length,c=this,d=u-1,h=t[0],f=rt.isFunction(h);if(f||u>1&&"string"==typeof h&&!nt.checkClone&&Vt.test(h))return this.each(function(n){var i=c.eq(n);f&&(t[0]=h.call(this,n,i.html())),i.domManip(t,e)});if(u&&(a=rt.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(r=(o=rt.map(m(a,"script"),b)).length;u>l;l++)i=a,l!==d&&(i=rt.clone(i,!0,!0),r&&rt.merge(o,m(i,"script"))),e.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,rt.map(o,w),l=0;r>l;l++)i=o[l],Yt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(s,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Gt,"")));a=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var n,i=0,r=[],o=rt(t),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),rt(o[i])[e](n),J.apply(r,n.get());return this.pushStack(r)}});var Zt,Jt={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=pt.getElementsByTagName("body")[0],n&&n.style?(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(pt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Qt,Kt,te=/^margin/,ee=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),ne=/^(top|right|bottom|left)$/;t.getComputedStyle?(Qt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},Kt=function(t,e,n){var i,r,o,s,a=t.style;return n=n||Qt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||rt.contains(t.ownerDocument,t)||(s=rt.style(t,e)),ee.test(s)&&te.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):pt.documentElement.currentStyle&&(Qt=function(t){return t.currentStyle},Kt=function(t,e,n){var i,r,o,s,a=t.style;return n=n||Qt(t),null==(s=n?n[e]:void 0)&&a&&a[e]&&(s=a[e]),ee.test(s)&&!ne.test(e)&&(i=a.left,r=t.runtimeStyle,(o=r&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i,r;(n=pt.getElementsByTagName("body")[0])&&n.style&&(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(pt.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight),e.removeChild(r)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===r[0].offsetHeight)&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;(n=pt.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(i=(r=n.getElementsByTagName("a")[0])&&r.style)&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),rt.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var ie=/alpha\([^)]*\)/i,re=/opacity\s*=\s*([^)]*)/,oe=/^(none|table(?!-c[ea]).+)/,se=new RegExp("^("+St+")(.*)$","i"),ae=new RegExp("^([+-])=("+St+")","i"),le={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Kt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=rt.camelCase(e),l=t.style;if(e=rt.cssProps[a]||(rt.cssProps[a]=D(l,a)),s=rt.cssHooks[e]||rt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if("string"===(o=typeof n)&&(r=ae.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[a]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=rt.camelCase(e);return e=rt.cssProps[a]||(rt.cssProps[a]=D(t.style,a)),(s=rt.cssHooks[e]||rt.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=Kt(t,e,i)),"normal"===o&&e in ue&&(o=ue[e]),""===n||n?(r=parseFloat(o),!0===n||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,n,i){return n?oe.test(rt.css(t,"display"))&&0===t.offsetWidth?rt.swap(t,le,function(){return M(t,e,i)}):M(t,e,i):void 0},set:function(t,n,i){var r=i&&Qt(t);return T(t,n,i?P(t,e,i,nt.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(t,e){return re.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=rt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===rt.trim(o.replace(ie,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ie.test(o)?o.replace(ie,r):o+" "+r)}}),rt.cssHooks.marginRight=E(nt.reliableMarginRight,function(t,e){return e?rt.swap(t,{display:"inline-block"},Kt,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Et[i]+e]=o[i]||o[i-2]||o[0];return r}},te.test(t)||(rt.cssHooks[t+e].set=T)}),rt.fn.extend({css:function(t,e){return _t(this,function(t,e,n){var i,r,o={},s=0;if(rt.isArray(e)){for(i=Qt(t),r=e.length;r>s;s++)o[e[s]]=rt.css(t,e[s],!1,i);return o}return void 0!==n?rt.style(t,e,n):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Dt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=j,j.prototype={constructor:j,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,n=j.propHooks[this.prop];return this.pos=e=this.options.duration?rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[rt.cssProps[t.prop]]||rt.cssHooks[t.prop])?rt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},rt.fx=j.prototype.init,rt.fx.step={};var de,he,fe=/^(?:toggle|show|hide)$/,pe=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),ge=/queueHooks$/,me=[I],ve={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=pe.exec(e),o=r&&r[3]||(rt.cssNumber[t]?"":"px"),s=(rt.cssNumber[t]||"px"!==o&&+i)&&pe.exec(rt.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do{a=a||".5",s/=a,rt.style(n.elem,t,s+o)}while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(R,{tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ve[n]=ve[n]||[],ve[n].unshift(e)},prefilter:function(t,e){e?me.unshift(t):me.push(t)}}),rt.speed=function(t,e,n){var i=t&&"object"==typeof t?rt.extend({},t):{complete:n||!n&&e||rt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!rt.isFunction(e)&&e};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=rt.isEmptyObject(t),o=rt.speed(e,n,i),s=function(){var e=R(this,rt.extend({},t),o);(r||rt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=rt.timers,s=rt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ge.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&rt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=rt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=rt.timers,s=i?i.length:0;for(n.finish=!0,rt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var n=rt.fn[e];rt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(O(e,!0),t,i,r)}}),rt.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),rt.timers=[],rt.fx.tick=function(){var t,e=rt.timers,n=0;for(de=rt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||rt.fx.stop(),de=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){he||(he=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(he),he=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(t,e){return t=rt.fx?rt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r;(e=pt.createElement("div")).setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],r=(n=pt.createElement("select")).appendChild(pt.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=r.selected,nt.enctype=!!pt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,(t=pt.createElement("input")).setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();var ye=/\r/g;rt.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=rt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,rt(this).val()):t,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(t){return null==t?"":t+""})),(e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ye,""):null==n?"":n)):void 0}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(!(!(n=i[l]).selected&&l!==r||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(e=rt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=rt.makeArray(e),s=r.length;s--;)if(i=r[s],rt.inArray(rt.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var be,we,$e=rt.expr.attrHandle,xe=/^(?:checked|selected)$/i,Ce=nt.getSetAttribute,ke=nt.input;rt.fn.extend({attr:function(t,e){return _t(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===xt?rt.prop(t,e,n):(1===o&&rt.isXMLDoc(t)||(e=e.toLowerCase(),i=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?we:be)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=rt.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void rt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(yt);if(o&&1===t.nodeType)for(;n=o[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?ke&&Ce||!xe.test(n)?t[i]=!1:t[rt.camelCase("default-"+n)]=t[i]=!1:rt.attr(t,n,""),t.removeAttribute(Ce?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),we={set:function(t,e,n){return!1===e?rt.removeAttr(t,n):ke&&Ce||!xe.test(n)?t.setAttribute(!Ce&&rt.propFix[n]||n,n):t[rt.camelCase("default-"+n)]=t[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=$e[e]||rt.find.attr;$e[e]=ke&&Ce||!xe.test(e)?function(t,e,i){var r,o;return i||(o=$e[e],$e[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,$e[e]=o),r}:function(t,e,n){return n?void 0:t[rt.camelCase("default-"+e)]?e.toLowerCase():null}}),ke&&Ce||(rt.attrHooks.value={set:function(t,e,n){return rt.nodeName(t,"input")?void(t.defaultValue=e):be&&be.set(t,e,n)}}),Ce||(be={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},$e.id=$e.name=$e.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:be.set},rt.attrHooks.contenteditable={set:function(t,e,n){be.set(t,""!==e&&e,n)}},rt.each(["width","height"],function(t,e){rt.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Se=/^(?:input|select|textarea|button|object)$/i,Ee=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return _t(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=rt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),rt.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!rt.isXMLDoc(t))&&(e=rt.propFix[e]||e,r=rt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||Ee.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(t,e){rt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var De=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,u="string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(yt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=rt.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(yt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?rt.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(rt.isFunction(t)?function(n){rt(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=rt(this),o=t.match(yt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===xt||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||!1===t?"":rt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var _e=rt.now(),Te=/\?/,Pe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=rt.trim(e+"");return r&&!rt.trim(r.replace(Pe,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+e)},rt.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),n};var Me,je,Ae=/#.*$/,Oe=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ie=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ne=/^(?:GET|HEAD)$/,Re=/^\/\//,Le=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,He={},We={},Ue="*/".concat("*");try{je=location.href}catch(t){(je=pt.createElement("a")).href="",je=je.href}Me=Le.exec(je.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:je,type:"GET",isLocal:Ie.test(Me[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?W(W(t,rt.ajaxSettings),e):W(rt.ajaxSettings,t)},ajaxPrefilter:L(He),ajaxTransport:L(We),ajax:function(t,e){function n(t,e,n,i){var r,c,v,y,w,x=e;2!==b&&(b=2,a&&clearTimeout(a),u=void 0,s=i||"",$.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(y=U(d,$,n)),y=B(d,y,$,r),r?(d.ifModified&&((w=$.getResponseHeader("Last-Modified"))&&(rt.lastModified[o]=w),(w=$.getResponseHeader("etag"))&&(rt.etag[o]=w)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=y.state,c=y.data,v=y.error,r=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),$.status=t,$.statusText=(e||x)+"",r?p.resolveWith(h,[c,x,$]):p.rejectWith(h,[$,x,v]),$.statusCode(m),m=void 0,l&&f.trigger(r?"ajaxSuccess":"ajaxError",[$,d,r?c:v]),g.fireWith(h,[$,x]),l&&(f.trigger("ajaxComplete",[$,d]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,l,u,c,d=rt.ajaxSetup({},e),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?rt(h):rt.event,p=rt.Deferred(),g=rt.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,w="canceled",$={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!c)for(c={};e=Fe.exec(s);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else $.always(t[$.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),n(0,e),this}};if(p.promise($).complete=g.add,$.success=$.done,$.error=$.fail,d.url=((t||d.url||je)+"").replace(Ae,"").replace(Re,Me[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=rt.trim(d.dataType||"*").toLowerCase().match(yt)||[""],null==d.crossDomain&&(i=Le.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Me[1]&&i[2]===Me[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Me[3]||("http:"===Me[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=rt.param(d.data,d.traditional)),H(He,d,e,$),2===b)return $;(l=rt.event&&d.global)&&0==rt.active++&&rt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ne.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Te.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Oe.test(o)?o.replace(Oe,"$1_="+_e++):o+(Te.test(o)?"&":"?")+"_="+_e++)),d.ifModified&&(rt.lastModified[o]&&$.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&$.setRequestHeader("If-None-Match",rt.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&$.setRequestHeader("Content-Type",d.contentType),$.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ue+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)$.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(h,$,d)||2===b))return $.abort();w="abort";for(r in{success:1,error:1,complete:1})$[r](d[r]);if(u=H(We,d,e,$)){$.readyState=1,l&&f.trigger("ajaxSend",[$,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){$.abort("timeout")},d.timeout));try{b=1,u.send(v,n)}catch(t){if(!(2>b))throw t;n(-1,t)}}else n(-1,"No Transport");return $},getJSON:function(t,e,n){return rt.get(t,e,n,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},rt.fn.extend({wrapAll:function(t){if(rt.isFunction(t))return this.each(function(e){rt(this).wrapAll(t.call(this,e))});if(this[0]){var e=rt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(rt.isFunction(t)?function(e){rt(this).wrapInner(t.call(this,e))}:function(){var e=rt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(n){rt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||rt.css(t,"display"))},rt.expr.filters.visible=function(t){return!rt.expr.filters.hidden(t)};var Be=/%20/g,Ve=/\[\]$/,Ye=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,Ge=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var n,i=[],r=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&").replace(Be,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Ge.test(this.nodeName)&&!ze.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(t){return{name:e.name,value:t.replace(Ye,"\r\n")}}):{name:e.name,value:n.replace(Ye,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||z()}:Y;var qe=0,Xe={},Ze=rt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Xe)Xe[t](void 0,!0)}),nt.cors=!!Ze&&"withCredentials"in Ze,(Ze=nt.ajax=!!Ze)&&rt.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var r,o=t.xhr(),s=++qe;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),e=function(n,r){var a,l,u;if(e&&(r||4===o.readyState))if(delete Xe[s],e=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{u={},a=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(t){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=u.text?200:404}u&&i(a,l,u,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Xe[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=pt.head||rt("head")[0]||pt.documentElement;return{send:function(i,r){(e=pt.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Je=[],Qe=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Je.pop()||rt.expando+"_"+_e++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(Qe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Qe,"$1"+r):!1!==e.jsonp&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||rt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Je.push(r)),s&&rt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),rt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||pt;var i=dt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=rt.buildFragment([t],e,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var Ke=rt.fn.load;rt.fn.load=function(t,e,n){if("string"!=typeof t&&Ke)return Ke.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=rt.trim(t.slice(a,t.length)),t=t.slice(0,a)),rt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&rt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?rt("<div>").append(rt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length};var tn=t.document.documentElement;rt.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=rt.css(t,"position"),c=rt(t),d={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=rt.css(t,"top"),l=rt.css(t,"left"),("absolute"===u||"fixed"===u)&&rt.inArray("auto",[o,l])>-1?(i=c.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):c.css(d)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,rt.contains(e,r)?(typeof r.getBoundingClientRect!==xt&&(i=r.getBoundingClientRect()),n=G(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0),n.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||tn;t&&!rt.nodeName(t,"html")&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||tn})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);rt.fn[t]=function(i){return _t(this,function(t,i,r){var o=G(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?rt(o).scrollLeft():r,n?r:rt(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=E(nt.pixelPosition,function(t,n){return n?(n=Kt(t,e),ee.test(n)?rt(t).position()[e]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){rt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return _t(this,function(e,n,i){var r;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?rt.css(e,n,s):rt.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var en=t.jQuery,nn=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=nn),e&&t.jQuery===rt&&(t.jQuery=en),rt},typeof e===xt&&(t.jQuery=t.$=rt),rt}),function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t){return function(){return this[t].apply(this,arguments)}}function o(e,n){function i(t,e){return e.toLowerCase()}var r,o=t(e).data(),s={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in o)n.test(l)&&(r=l.replace(a,i),s[r]=o[l]);return s}function s(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var a=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),u=function(e,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};u.prototype={constructor:u,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(p[i]||(i=i.split("-")[0],p[i]||(i=h.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,n.multidate=!1!==n.multidate?Math.max(0,n.multidate):1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=g.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):g.parseDate(n.startDate,r,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):g.parseDate(n.endDate,r,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var o=String(n.orientation).toLowerCase().split(/\s+/g),s=n.orientation.toLowerCase();if(o=t.grep(o,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0]}else s=t.grep(o,function(t){return/^left|right$/.test(t)}),n.orientation.x=s[0]||"auto",s=t.grep(o,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=s[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.off(i,r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=a.width(),r=a.height(),o=a.scrollTop(),s=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,l=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=l.left,h=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-c)):(this.picker.addClass("datepicker-orient-left"),l.left<0?d-=l.left-10:l.left+e>i&&(d=i-e-10));var f,p,g=this.o.orientation.y;"auto"===g&&(f=-o+l.top-n,p=o+r-(l.top+u+n),g=Math.max(f,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?h+=u:h-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:h,left:d,zIndex:s})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,r=new Date(this.viewDate),o=r.getUTCFullYear(),s=r.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,u=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,d=p[this.o.language].today||p.en.today||"",h=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[s]+" "+o),this.picker.find("tfoot th.today").text(d).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(h).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var f=n(o,s-1,28),m=g.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(m),f.setUTCDate(m-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),$=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),x=new Date(Number(x=n($.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),C=($-x)/864e5/7+1;b.push('<td class="cw">'+C+"</td>")}if((y=this.getClassNames(f)).push("day"),this.o.beforeShowDay!==t.noop){var k=this.o.beforeShowDay(this._utc_to_local(f));k===e?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),!1===k.enabled&&y.push("disabled"),k.classes&&(y=y.concat(k.classes.split(/\s+/))),k.tooltip&&(i=k.tooltip)}y=t.unique(y),b.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+f.getUTCDate()+"</td>"),f.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var S=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===o&&S.eq(e.getUTCMonth()).addClass("active")}),(a>o||o>u)&&S.addClass("disabled"),o===a&&S.slice(0,l).addClass("disabled"),o===u&&S.slice(c+1).addClass("disabled"),b="",o=10*parseInt(o/10,10);var E=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var D,_=t.map(this.dates,function(t){return t.getUTCFullYear()}),T=-1;11>T;T++)D=["year"],-1===T?D.push("old"):10===T&&D.push("new"),-1!==t.inArray(o,_)&&D.push("active"),(a>o||o>u)&&D.push("disabled"),b+='<span class="'+D.join(" ")+'">'+o+"</span>",o+=1;E.html(b)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,r,o,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=g.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var u="linked"===this.o.todayBtn?null:"view";this._setDate(l,u);break;case"clear":var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":s.is(".disabled")||(this.viewDate.setUTCDate(1),s.is(".month")?(o=1,r=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,r,o))):(o=1,r=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,r,o))),this.showMode(-1),this.fill());break;case"td":s.is(".day")&&!s.is(".disabled")&&(o=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s.is(".old")?0===r?(r=11,i-=1):r-=1:s.is(".new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(n(i,r,o)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var i,r,o=new Date(t.valueOf()),s=o.getUTCDate(),a=o.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)r=-1===n?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==i},i=a+n,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var u=0;l>u;u++)o=this.moveMonth(o,n);i=o.getUTCMonth(),o.setUTCDate(s),r=function(){return i!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--s),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27===t.keyCode&&this.show();else{var e,n,r,o=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||i())).setUTCDate(n.getUTCDate()+e),(r=new Date(s)).setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||i())).setUTCDate(n.getUTCDate()+7*e),(r=new Date(s)).setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(s),o=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker").getUTCDate(),i=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!==i){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[i])for(;i>=0&&n<this.dates[i];)this.pickers[i--].setUTCDate(n);else if(n>this.dates[i])for(;r>i&&n>this.dates[i];)this.pickers[i++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker;t.fn.datepicker=function(n){var i=Array.apply(null,arguments);i.shift();var r;return this.each(function(){var a=t(this),l=a.data("datepicker"),d="object"==typeof n&&n;if(!l){var f=o(this,"date"),p=s(t.extend({},h,f,d).language),g=t.extend({},h,p,f,d);if(a.is(".input-daterange")||g.inputs){var m={inputs:g.inputs||a.find("input").toArray()};a.data("datepicker",l=new c(this,t.extend(g,m)))}else a.data("datepicker",l=new u(this,g))}return("string"!=typeof n||"function"!=typeof l[n]||(r=l[n].apply(l,i))===e)&&void 0}),r!==e?r:this};var h=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=u;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,g.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,r,o){function s(){var t=this.slice(0,h[c].length);return t===h[c].slice(0,t.length)}if(!i)return e;if(i instanceof Date)return i;"string"==typeof r&&(r=g.parseFormat(r));var a,l,c,d=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,c=0;c<h.length;c++)switch(a=d.exec(h[c]),l=parseInt(a[1]),a[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=u.prototype.moveMonth.call(u.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=u.prototype.moveYear.call(u.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var f,m,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=r.parts.slice();if(h.length!==w.length&&(w=t(w).filter(function(e,n){return-1!==t.inArray(n,y)}).toArray()),h.length===w.length){var $;for(c=0,$=w.length;$>c;c++){if(f=parseInt(h[c],10),a=w[c],isNaN(f))switch(a){case"MM":m=t(p[o].months).filter(s),f=t.inArray(m[0],p[o].months)+1;break;case"M":m=t(p[o].monthsShort).filter(s),f=t.inArray(m[0],p[o].monthsShort)+1}v[a]=f}var x,C;for(c=0;c<y.length;c++)(C=y[c])in v&&!isNaN(v[C])&&(x=new Date(i),b[C](x,v[C]),isNaN(x)||(i=x))}return i},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=g.parseFormat(n));var r={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),s=0,a=n.parts.length;a>=s;s++)o.length&&e.push(o.shift()),e.push(r[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=arguments,o=r[0],s="["+(t?t+":":"")+o+"] ";for(s+=r[1].replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1)+2;return e<r.length?vt(r[e]):t}),s+="\nhttp://errors.angularjs.org/1.5.5/"+(t?t+"/":"")+o,i=2,n="?";i<r.length;i++,n="&")s+=n+"p"+(i-2)+"="+encodeURIComponent(vt(r[i]));return new e(s)}}function n(t){if(null==t||E(t))return!1;if(Vi(t)||$(t)||Ai&&t instanceof Ai)return!0;var e="length"in Object(t)&&t.length;return x(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function i(t,e,r){var o,s;if(t)if(k(t))for(o in t)"prototype"==o||"length"==o||"name"==o||t.hasOwnProperty&&!t.hasOwnProperty(o)||e.call(r,t[o],o,t);else if(Vi(t)||n(t)){var a="object"!=typeof t;for(o=0,s=t.length;o<s;o++)(a||o in t)&&e.call(r,t[o],o,t)}else if(t.forEach&&t.forEach!==i)t.forEach(e,r,t);else if(w(t))for(o in t)e.call(r,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t);else for(o in t)Di.call(t,o)&&e.call(r,t[o],o,t);return t}function r(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function o(t){return function(e,n){t(n,e)}}function s(){return++Bi}function a(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var s=e[r];if(b(s)||k(s))for(var u=Object.keys(s),c=0,d=u.length;c<d;c++){var h=u[c],f=s[h];n&&b(f)?C(f)?t[h]=new Date(f.valueOf()):S(f)?t[h]=new RegExp(f):f.nodeName?t[h]=f.cloneNode(!0):F(f)?t[h]=f.clone():(b(t[h])||(t[h]=Vi(f)?[]:{}),l(t[h],[f],!0)):t[h]=f}}return a(t,i),t}function u(t){return l(t,Ii.call(arguments,1),!1)}function c(t){return l(t,Ii.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function h(t,e){return u(Object.create(t),e)}function f(){}function p(t){return t}function g(t){return function(){return t}}function m(t){return k(t.toString)&&t.toString!==Li}function v(t){return void 0===t}function y(t){return void 0!==t}function b(t){return null!==t&&"object"==typeof t}function w(t){return null!==t&&"object"==typeof t&&!Hi(t)}function $(t){return"string"==typeof t}function x(t){return"number"==typeof t}function C(t){return"[object Date]"===Li.call(t)}function k(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Li.call(t)}function E(t){return t&&t.window===t}function D(t){return t&&t.$evalAsync&&t.$watch}function _(t){return"[object File]"===Li.call(t)}function T(t){return"[object FormData]"===Li.call(t)}function P(t){return"[object Blob]"===Li.call(t)}function M(t){return"boolean"==typeof t}function j(t){return t&&k(t.then)}function A(t){return t&&x(t.length)&&Yi.test(Li.call(t))}function O(t){return"[object ArrayBuffer]"===Li.call(t)}function F(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function N(t){return _i(t.nodeName||t[0]&&t[0].nodeName)}function R(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function L(t,e){function n(t,e){var n,i=e.$$hashKey;if(Vi(t))for(var o=0,s=t.length;o<s;o++)e.push(r(t[o]));else if(w(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)Di.call(t,n)&&(e[n]=r(t[n]));return a(e,i),e}function r(t){if(!b(t))return t;var e=s.indexOf(t);if(-1!==e)return l[e];if(E(t)||D(t))throw Wi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(t);return void 0===r&&(r=Vi(t)?[]:Object.create(Hi(t)),i=!0),s.push(t),l.push(r),i?n(t,r):r}function o(t){switch(Li.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(r(t.buffer));case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(k(t.cloneNode))return t.cloneNode(!0)}var s=[],l=[];if(e){if(A(e)||O(e))throw Wi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Wi("cpi","Can't copy! Source and destination are identical.");return Vi(e)?e.length=0:i(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),s.push(t),l.push(e),n(t,e)}return r(t)}function H(t,e){if(Vi(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(b(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function W(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!Vi(t)){if(C(t))return!!C(e)&&W(t.getTime(),e.getTime());if(S(t))return!!S(e)&&t.toString()==e.toString();if(D(t)||D(e)||E(t)||E(e)||Vi(e)||C(e)||S(e))return!1;r=pt();for(i in t)if("$"!==i.charAt(0)&&!k(t[i])){if(!W(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&y(e[i])&&!k(e[i]))return!1;return!0}if(!Vi(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!W(t[i],e[i]))return!1;return!0}}return!1}function U(t,e,n){return t.concat(Ii.call(e,n))}function B(t,e){return Ii.call(t,e||0)}function V(t,e){var n=arguments.length>2?B(arguments,2):[];return!k(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,U(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function Y(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:E(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":D(n)&&(i="$SCOPE"),i}function z(t,e){if(!v(t))return x(e)||(e=e?2:null),JSON.stringify(t,Y,e)}function G(t){return $(t)?JSON.parse(t):t}function q(t,e){t=t.replace(Zi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function X(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function Z(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return X(t,n*(q(e,i)-i))}function J(t){t=Ai(t).clone();try{t.empty()}catch(t){}var e=Ai("<div>").append(t).html();try{return t[0].nodeType===er?_i(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+_i(e)})}catch(t){return _i(e)}}function Q(t){try{return decodeURIComponent(t)}catch(t){}}function K(t){var e={};return i((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(i=t.substring(0,n),r=t.substring(n+1)),y(i=Q(i))&&(r=!y(r)||Q(r),Di.call(e,i)?Vi(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function tt(t){var e=[];return i(t,function(t,n){Vi(t)?i(t,function(t){e.push(nt(n,!0)+(!0===t?"":"="+nt(t,!0)))}):e.push(nt(n,!0)+(!0===t?"":"="+nt(t,!0)))}),e.length?e.join("&"):""}function et(t){return nt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function nt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function it(t,e){var n,i,r=Ji.length;for(i=0;i<r;++i)if(n=Ji[i]+e,$(n=t.getAttribute(n)))return n;return null}function rt(t,e){var n,r,o={};i(Ji,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),i(Ji,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(o.strictDi=null!==it(n,"strict-di"),e(n,r?[r]:[],o))}function ot(e,n,r){b(r)||(r={}),r=u({strictDi:!1},r);var o=function(){if((e=Ai(e)).injector()){var i=e[0]===t.document?"document":J(e);throw Wi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=te(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!a.test(t.name))return o();t.name=t.name.replace(a,""),Ui.resumeBootstrap=function(t){return i(t,function(t){n.push(t)}),o()},k(Ui.resumeDeferredBootstrap)&&Ui.resumeDeferredBootstrap()}function st(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function at(t){var e=Ui.element(t).injector();if(!e)throw Wi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function lt(t,e){return e=e||"_",t.replace(Qi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ut(t,e,n){if(!t)throw Wi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ct(t,e,n){return n&&Vi(t)&&(t=t[t.length-1]),ut(k(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw Wi("badname","hasOwnProperty is not a valid {0} name",e)}function ht(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,s=r.length,a=0;a<s;a++)i=r[a],t&&(t=(o=t)[i]);return!n&&k(t)?V(o,t):t}function ft(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=Ai(Ii.call(t,0,r))),e.push(n));return e||t}function pt(){return Object.create(null)}function gt(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,s){return function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)}(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function n(t,n){return function(i,o){return o&&k(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var r=[],a=[],l=[],u=t("$injector","invoke","push",a),c={_invokeQueue:r,_configBlocks:a,_runBlocks:l,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(t){return l.push(t),this}};return s&&u(s),c})}})}function mt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=Y(t,n),b(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function vt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):v(t)?"undefined":"string"!=typeof t?mt(t):t}function yt(){return++ar}function bt(t){return t.replace(cr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(dr,"Moz$1")}function wt(t){return!gr.test(t)}function $t(t){var e=t.nodeType;return e===tr||!e||e===ir}function xt(t){for(var e in sr[t.ng339])return!0;return!1}function Ct(t){for(var e=0,n=t.length;e<n;e++)Mt(t[e])}function kt(t,e){var n,r,o,s,a=e.createDocumentFragment(),l=[];if(wt(t))l.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),r=(mr.exec(t)||["",""])[1].toLowerCase(),o=yr[r]||yr._default,n.innerHTML=o[1]+t.replace(vr,"<$1></$2>")+o[2],s=o[0];s--;)n=n.lastChild;l=U(l,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",i(l,function(t){a.appendChild(t)}),a}function St(e,n){n=n||t.document;var i;return(i=pr.exec(e))?[n.createElement(i[1])]:(i=kt(e,n))?i.childNodes:[]}function Et(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Dt(t){if(t instanceof Dt)return t;var e;if($(t)&&(t=zi(t),e=!0),!(this instanceof Dt)){if(e&&"<"!=t.charAt(0))throw fr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Dt(t)}e?Nt(this,St(t)):Nt(this,t)}function _t(t){return t.cloneNode(!0)}function Tt(t,e){if(e||Mt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Mt(n[i])}function Pt(t,e,n,r){if(y(r))throw fr("offargs","jqLite#off() does not support the `selector` argument");var o=jt(t),s=o&&o.events,a=o&&o.handle;if(a)if(e){var l=function(e){var i=s[e];y(n)&&R(i||[],n),y(n)&&i&&i.length>0||(ur(t,e,a),delete s[e])};i(e.split(" "),function(t){l(t),hr[t]&&l(hr[t])})}else for(e in s)"$destroy"!==e&&ur(t,e,a),delete s[e]}function Mt(t,e){var n=t.ng339,i=n&&sr[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pt(t)),delete sr[n],t.ng339=void 0}}function jt(t,e){var n=t.ng339,i=n&&sr[n];return e&&!i&&(t.ng339=n=yt(),i=sr[n]={events:{},data:{},handle:void 0}),i}function At(t,e,n){if($t(t)){var i=y(n),r=!i&&e&&!b(e),o=!e,s=jt(t,!r),a=s&&s.data;if(i)a[e]=n;else{if(o)return a;if(r)return a&&a[e];u(a,e)}}}function Ot(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Ft(t,e){e&&t.setAttribute&&i(e.split(" "),function(e){t.setAttribute("class",zi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+zi(e)+" "," ")))})}function It(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(e.split(" "),function(t){t=zi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",zi(n))}}function Nt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Rt(t,e){return Lt(t,"$"+(e||"ngController")+"Controller")}function Lt(t,e,n){t.nodeType==ir&&(t=t.documentElement);for(var i=Vi(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(y(n=Ai.data(t,i[r])))return n;t=t.parentNode||t.nodeType===rr&&t.host}}function Ht(t){for(Tt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Wt(t,e){e||Tt(t);var n=t.parentNode;n&&n.removeChild(t)}function Ut(e,n){"complete"===(n=n||t).document.readyState?n.setTimeout(e):Ai(n).on("load",e)}function Bt(t,e){var n=$r[e.toLowerCase()];return n&&xr[N(t)]&&n}function Vt(t){return Cr[t]}function Yt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=r.specialHandlerWrapper||zt;o>1&&(r=H(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||a(t,n,r[l])}};return n.elem=t,n}function zt(t,e,n){n.call(t,e)}function Gt(t,e,n){var i=e.relatedTarget;i&&(i===t||br.call(t,i))||n.call(t,e)}function qt(){this.$get=function(){return u(Dt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ot(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),It(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)}})}}function Xt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||s)():i+":"+t}function Zt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}i(t,this.put,this)}function Jt(t){var e=Function.prototype.toString.call(t).replace(Tr,"");return e.match(Sr)||e.match(Er)}function Qt(t){var e=Jt(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Kt(t,e,n){var r,o;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw $(n)&&n||(n=t.name||Qt(t)),Pr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i(Jt(t)[1].split(Dr),function(t){t.replace(_r,function(t,e,n){r.push(n)})})}t.$inject=r}}else Vi(t)?(ct(t[o=t.length-1],"fn"),r=t.slice(0,o)):ct(t,"fn",!0);return r}function te(t,e){function n(t){return function(e,n){if(!b(e))return t(e,n);i(e,o(t))}}function r(t,e){if(dt(t,"service"),(k(e)||Vi(e))&&(e=C.instantiate(e)),!e.$get)throw Pr("pget","Provider '{0}' must define $get factory method.",t);return x[t+m]=e}function s(t,e){return function(){var n=D.invoke(e,this);if(v(n))throw Pr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:!1!==n?s(t,e):e})}function l(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return a(t,g(e),!1)}function c(t,e){dt(t,"constant"),x[t]=e,S[t]=e}function d(t,e){var n=C.get(t+m),i=n.$get;n.$get=function(){var t=D.invoke(i,n);return D.invoke(e,null,{$delegate:t})}}function h(t){ut(v(t)||Vi(t),"modulesToLoad","not an array");var e,n=[];return i(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!w.get(t)){w.put(t,!0);try{$(t)?(e=Fi(t),n=n.concat(h(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):k(t)?n.push(C.invoke(t)):Vi(t)?n.push(C.invoke(t)):ct(t,"module")}catch(e){throw Vi(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Pr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function f(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===p)throw Pr("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=p,t[e]=n(e,i)}catch(n){throw t[e]===p&&delete t[e],n}finally{y.shift()}}function r(t,n,r){for(var o=[],s=te.$$annotate(t,e,r),a=0,l=s.length;a<l;a++){var u=s[a];if("string"!=typeof u)throw Pr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:i(u,r))}return o}function o(t){return!(ji<=11)&&("function"==typeof t&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(t)))}function s(t,e,n,i){"string"==typeof n&&(i=n,n=null);var s=r(t,n,i);return Vi(t)&&(t=t[t.length-1]),o(t)?(s.unshift(null),new(Function.prototype.bind.apply(t,s))):t.apply(e,s)}function a(t,e,n){var i=Vi(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:s,instantiate:a,get:i,annotate:te.$$annotate,has:function(e){return x.hasOwnProperty(e+m)||t.hasOwnProperty(e)}}}e=!0===e;var p={},m="Provider",y=[],w=new Zt([],!0),x={$provide:{provider:n(r),factory:n(a),service:n(l),value:n(u),constant:n(c),decorator:d}},C=x.$injector=f(x,function(t,e){throw Ui.isString(e)&&y.push(e),Pr("unpr","Unknown provider: {0}",y.join(" <- "))}),S={},E=f(S,function(t,e){var n=C.get(t+m,e);return D.invoke(n.$get,n,void 0,t)}),D=E;x["$injector"+m]={$get:g(E)};var _=h(t);return D=E.get("$injector"),D.strictDi=e,i(_,function(t){t&&D.invoke(t)}),D}function ee(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===N(t))return e=t,!0}),e}function o(){var t=a.yOffset;if(k(t))t=t();else if(F(t)){var n=t[0];t="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom}else x(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function a(t){var e;(t=$(t)?t:n.hash())?(e=l.getElementById(t))?s(e):(e=r(l.getElementsByName(t)))?s(e):"top"===t&&s(null):s(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Ut(function(){i.$evalAsync(a)})}),a}]}function ne(t,e){return t||e?t?e?(Vi(t)&&(t=t.join(" ")),Vi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ie(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===jr)return n}}function re(t){$(t)&&(t=t.split(" "));var e=pt();return i(t,function(t){t.length&&(e[t]=!0)}),e}function oe(t){return b(t)?t:{}}function se(t,e,n,r){function o(t){try{t.apply(null,B(arguments,1))}finally{if(0===--y)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function a(){k=null,l(),u()}function l(){w=S(),W(w=v(w)?null:w,_)&&(w=_),_=w}function u(){x===c.url()&&$===w||(x=c.url(),$=w,i(E,function(t){t(c.url(),w)}))}var c=this,d=t.location,h=t.history,p=t.setTimeout,g=t.clearTimeout,m={};c.isMock=!1;var y=0,b=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(t){0===y?t():b.push(t)};var w,$,x=d.href,C=e.find("base"),k=null,S=r.history?function(){try{return h.state}catch(t){}}:f;l(),$=w,c.url=function(e,n,i){if(v(i)&&(i=null),d!==t.location&&(d=t.location),h!==t.history&&(h=t.history),e){var o=$===i;if(x===e&&(!r.history||o))return c;var a=x&&Le(x)===Le(e);return x=e,$=i,!r.history||a&&o?(a&&!k||(k=e),n?d.replace(e):a?d.hash=s(e):d.href=e,d.href!==e&&(k=e)):(h[n?"replaceState":"pushState"](i,"",e),l(),$=w),c}return k||d.href.replace(/%27/g,"'")},c.state=function(){return w};var E=[],D=!1,_=null;c.onUrlChange=function(e){return D||(r.history&&Ai(t).on("popstate",a),Ai(t).on("hashchange",a),D=!0),E.push(e),e},c.$$applicationDestroyed=function(){Ai(t).off("hashchange popstate",a)},c.$$checkUrlChange=u,c.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return y++,n=p(function(){delete m[n],o(t)},e||0),m[n]=!0,n},c.defer.cancel=function(t){return!!m[t]&&(delete m[t],g(t),o(f),!0)}}function ae(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new se(t,i,e,n)}]}function le(){this.$get=function(){function t(t,i){function r(t){t!=h&&(f?f==t&&(f=t.n):f=t,o(t.n,t.p),o(t,h),(h=t).n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=u({},i,{id:t}),l=pt(),c=i&&i.capacity||Number.MAX_VALUE,d=pt(),h=null,f=null;return n[t]={put:function(t,e){if(!v(e))return c<Number.MAX_VALUE&&r(d[t]||(d[t]={key:t})),t in l||s++,l[t]=e,s>c&&this.remove(f.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=d[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=d[t];if(!e)return;e==h&&(h=e.p),e==f&&(f=e.n),o(e.n,e.p),delete d[t]}t in l&&(delete l[t],s--)},removeAll:function(){l=pt(),s=0,d=pt(),h=f=null},destroy:function(){l=null,a=null,d=null,delete n[t]},info:function(){return u({},a,{size:s})}}}var n={};return t.info=function(){var t={};return i(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function ue(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ce(){}function de(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=pt();return i(t,function(t,i){if(t in S)o[i]=S[t];else{var s=t.match(r);if(!s)throw Lr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");o[i]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||i},s[4]&&(S[t]=o[i])}}),o}function s(t,e){var n={isolateScope:null,bindToController:null};if(b(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),b(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),b(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw Lr("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!me(i,o))throw Lr("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function a(t){var e=t.charAt(0);if(!e||e!==_i(e))throw Lr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Lr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var l={},c="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,m=/(([\w\-]+)(?:\:([^;]+))?;?)/,w=I("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/,S=pt();this.directive=function t(n,r){return dt(n,"directive"),$(n)?(a(n),ut(r,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],e.factory(n+c,["$injector","$exceptionHandler",function(t,e){var r=[];return i(l[n],function(i,o){try{var s=t.invoke(i);k(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",s.$$moduleName=i.$$moduleName,r.push(s)}catch(t){e(t)}}),r}])),l[n].push(r)):i(n,o(t)),this},this.component=function(t,e){function n(t){function n(e){return k(e)||Vi(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var o=e.template||e.templateUrl?e.template:"",s={controller:r,controllerAs:me(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return i(e,function(t,e){"$"===e.charAt(0)&&(s[e]=t)}),s}var r=e.controller||function(){};return i(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,k(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(t){return y(t)?(E=t,this):E};var _=10;this.onChangesTtl=function(t){return arguments.length?(_=t,this):_},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,o,a,g,y,S,T,P){function j(){try{if(!--bt)throw mt=void 0,Lr("infchng","{0} $onChanges() iterations reached. Aborting!\n",_);y.$apply(function(){for(var t=0,e=mt.length;t<e;++t)mt[t]();mt=void 0})}finally{bt++}}function A(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=e[r]}else this.$attr={};this.$$element=t}function O(t,e,n){yt.innerHTML="<span "+e+">";var i=yt.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function F(t,e){try{t.addClass(e)}catch(t){}}function I(e,n,i,r,o){e instanceof Ai||(e=Ai(e));for(var s=/\S+/,a=0,l=e.length;a<l;a++){var u=e[a];u.nodeType===er&&u.nodeValue.match(s)&&Et(u,e[a]=t.document.createElement("span"))}var c=H(e,n,e,i,r,o);I.$$addScopeClass(e);var d=null;return function(t,n,i){ut(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new());var r=(i=i||{}).parentBoundTranscludeFn,s=i.transcludeControllers,a=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),d||(d=L(a));var l;if(l="html"!==d?Ai(st(d,Ai("<div>").append(e).html())):n?wr.clone.call(e):e,s)for(var u in s)l.data("$"+u+"Controller",s[u].instance);return I.$$addScopeInfo(l,t),n&&n(l,t),c&&c(t,l,l,r),l}}function L(t){var e=t&&t[0];return e&&"foreignobject"!==N(e)&&Li.call(e).match(/SVG/)?"svg":"html"}function H(t,e,n,i,r,o){function s(t,n,i,r){var o,s,a,l,u,c,d,h;if(f){var g=n.length;for(h=new Array(g),u=0;u<p.length;u+=3)h[d=p[u]]=n[d]}else h=n;for(u=0,c=p.length;u<c;)a=h[p[u++]],o=p[u++],s=p[u++],o?(o.scope?(l=t.$new(),I.$$addScopeInfo(Ai(a),l)):l=t,o(s,l,a,i,o.transcludeOnThisElement?U(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?U(t,e):null)):s&&s(t,a.childNodes,void 0,r)}for(var a,l,u,c,d,h,f,p=[],g=0;g<t.length;g++)a=new A,(u=(l=V(t[g],[],a,0===g?i:void 0,r)).length?q(l,t[g],a,e,n,null,[],[],o):null)&&u.scope&&I.$$addScopeClass(a.$$element),d=u&&u.terminal||!(c=t[g].childNodes)||!c.length?null:H(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||d)&&(p.push(g,u,d),h=!0,f=f||u),o=null;return h?s:null}function U(t,e,n){function i(i,r,o,s,a){return i||((i=t.$new(!1,a)).$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var r=i.$$slots=pt();for(var o in e.$$slots)e.$$slots[o]?r[o]=U(t,e.$$slots[o],n):r[o]=null;return i}function V(t,e,n,i,r){var o,s,a=t.nodeType,l=n.$attr;switch(a){case tr:K(e,fe(N(t)),"E",i,r);for(var u,c,h,f,p,g,v=t.attributes,y=0,w=v&&v.length;y<w;y++){var x=!1,C=!1;c=(u=v[y]).name,p=zi(u.value),f=fe(c),(g=kt.test(f))&&(c=c.replace(Wr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var k=f.match(St);k&&tt(k[1])&&(x=c,C=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),l[h=fe(c.toLowerCase())]=c,!g&&n.hasOwnProperty(h)||(n[h]=p,Bt(t,h)&&(n[h]=!0)),ct(t,e,p,h,g),K(e,h,"A",i,r,x,C)}if(s=t.className,b(s)&&(s=s.animVal),$(s)&&""!==s)for(;o=m.exec(s);)K(e,h=fe(o[2]),"C",i,r)&&(n[h]=zi(o[3])),s=s.substr(o.index+o[0].length);break;case er:if(11===ji)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===er;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);ot(e,t.nodeValue);break;case nr:try{(o=d.exec(t.nodeValue))&&K(e,h=fe(o[1]),"M",i,r)&&(n[h]=zi(o[2]))}catch(t){}}return e.sort(it),e}function Y(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Lr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==tr&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0);else i.push(t);return Ai(i)}function z(t,e,n){return function(i,r,o,s,a){return r=Y(r[0],e,n),t(i,r,o,s,a)}}function G(t,e,n,i,r,o){var s;return t?I(e,n,i,r,o):function(){return s||(s=I(e,n,i,r,o),e=n=o=null),s.apply(this,arguments)}}function q(t,e,n,o,s,a,l,c,d){function h(t,e,n,i){t&&(n&&(t=z(t,n,i)),t.require=p.require,t.directiveName=g,(S===p||p.$$isolateScope)&&(t=ht(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=z(e,n,i)),e.require=p.require,e.directiveName=g,(S===p||p.$$isolateScope)&&(e=ht(e,{isolateScope:!0})),c.push(e))}function f(t,r,o,s,a){function d(t,e,n,i){var r;if(D(t)||(i=n,n=e,e=t,t=void 0),M&&(r=y),n||(n=M?$.parent():$),!i)return a(t,e,r,n,R);var o=a.$$slots[i];if(o)return o(t,e,r,n,R);if(v(o))throw Lr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,J($))}var h,f,p,g,m,y,w,$,_,T;e===o?(_=n,$=n.$$element):_=new A($=Ai(o),n),m=r,S?g=r.$new(!0):x&&(m=r.$parent),a&&((w=d).$$boundTransclude=a,w.isSlotFilled=function(t){return!!a.$$slots[t]}),C&&(y=Z($,_,w,C,g,r,S)),S&&(I.$$addScopeInfo($,g,!0,!(E&&(E===S||E===S.$$originalDirective))),I.$$addScopeClass($,!0),g.$$isolateBindings=S.$$isolateBindings,(T=gt(r,_,g,g.$$isolateBindings,S)).removeWatches&&g.$on("$destroy",T.removeWatches));for(var P in y){var j=C[P],O=y[P],F=j.$$bindings.bindToController;O.identifier&&F?O.bindingInfo=gt(m,_,O.instance,F,j):O.bindingInfo={};var N=O();N!==O.instance&&(O.instance=N,$.data("$"+j.name+"Controller",N),O.bindingInfo.removeWatches&&O.bindingInfo.removeWatches(),O.bindingInfo=gt(m,_,O.instance,F,j))}for(i(C,function(t,e){var n=t.require;t.bindToController&&!Vi(n)&&b(n)&&u(y[e].instance,X(e,n,$,y))}),i(y,function(t){var e=t.instance;k(e.$onChanges)&&e.$onChanges(t.bindingInfo.initialChanges),k(e.$onInit)&&e.$onInit(),k(e.$onDestroy)&&m.$on("$destroy",function(){e.$onDestroy()})}),h=0,f=l.length;h<f;h++)ft(p=l[h],p.isolateScope?g:r,$,_,p.require&&X(p.directiveName,p.require,$,y),w);var R=r;for(S&&(S.template||null===S.templateUrl)&&(R=g),t&&t(R,o.childNodes,void 0,a),h=c.length-1;h>=0;h--)ft(p=c[h],p.isolateScope?g:r,$,_,p.require&&X(p.directiveName,p.require,$,y),w);i(y,function(t){var e=t.instance;k(e.$postLink)&&e.$postLink()})}d=d||{};for(var p,g,m,y,w,$=-Number.MAX_VALUE,x=d.newScopeDirective,C=d.controllerDirectives,S=d.newIsolateScopeDirective,E=d.templateDirective,_=d.nonTlbTranscludeDirective,T=!1,P=!1,M=d.hasElementTranscludeDirective,j=n.$$element=Ai(e),O=a,F=o,R=!1,L=!1,H=0,W=t.length;H<W;H++){var U=(p=t[H]).$$start,q=p.$$end;if(U&&(j=Y(e,U,q)),m=void 0,$>p.priority)break;if((w=p.scope)&&(p.templateUrl||(b(w)?(rt("new/isolated scope",S||x,p,j),S=p):rt("new/isolated scope",S,p,j)),x=x||p),g=p.name,!R&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var K,tt=H+1;K=t[tt++];)if(K.transclude&&!K.$$tlb||K.replace&&(K.templateUrl||K.template)){L=!0;break}R=!0}if(!p.templateUrl&&p.controller&&(w=p.controller,C=C||pt(),rt("'"+g+"' controller",C[g],p,j),C[g]=p),w=p.transclude)if(T=!0,p.$$tlb||(rt("transclusion",_,p,j),_=p),"element"==w)M=!0,$=p.priority,m=j,j=n.$$element=Ai(I.$$createComment(g,n[g])),e=j[0],dt(s,B(m),e),m[0].$$parentNode=m[0].parentNode,F=G(L,m,o,$,O&&O.name,{nonTlbTranscludeDirective:_});else{var it=pt();if(m=Ai(_t(e)).contents(),b(w)){m=[];var ot=pt(),at=pt();i(w,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,ot[t]=e,it[e]=null,at[e]=n}),i(j.contents(),function(t){var e=ot[fe(N(t))];e?(at[e]=!0,it[e]=it[e]||[],it[e].push(t)):m.push(t)}),i(at,function(t,e){if(!t)throw Lr("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var lt in it)it[lt]&&(it[lt]=G(L,it[lt],o))}j.empty(),(F=G(L,m,o,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope})).$$slots=it}if(p.template)if(P=!0,rt("template",E,p,j),E=p,w=k(p.template)?p.template(j,n):p.template,w=Ct(w),p.replace){if(O=p,m=wt(w)?[]:ge(st(p.templateNamespace,zi(w))),e=m[0],1!=m.length||e.nodeType!==tr)throw Lr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");dt(s,j,e);var ut={$attr:{}},ct=V(e,[],ut),mt=t.splice(H+1,t.length-(H+1));(S||x)&&Q(ct,S,x),t=t.concat(ct).concat(mt),et(n,ut),W=t.length}else j.html(w);if(p.templateUrl)P=!0,rt("template",E,p,j),E=p,p.replace&&(O=p),f=nt(t.splice(H,t.length-H),j,n,s,T&&F,l,c,{controllerDirectives:C,newScopeDirective:x!==p&&x,newIsolateScopeDirective:S,templateDirective:E,nonTlbTranscludeDirective:_}),W=t.length;else if(p.compile)try{k(y=p.compile(j,n,F))?h(null,y,U,q):y&&h(y.pre,y.post,U,q)}catch(t){r(t,J(j))}p.terminal&&(f.terminal=!0,$=Math.max($,p.priority))}return f.scope=x&&!0===x.scope,f.transcludeOnThisElement=T,f.templateOnThisElement=P,f.transclude=F,d.hasElementTranscludeDirective=M,f}function X(t,e,n,r){var o;if($(e)){var s=e.match(x),a=e.substring(s[0].length),l=s[1]||s[3],u="?"===s[2];if("^^"===l?n=n.parent():(o=r&&r[a],o=o&&o.instance),!o){var c="$"+a+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw Lr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(Vi(e)){o=[];for(var d=0,h=e.length;d<h;d++)o[d]=X(t,e[d],n,r)}else b(e)&&(o={},i(e,function(e,i){o[i]=X(t,e,n,r)}));return o||null}function Z(t,e,n,i,r,o,s){var a=pt();for(var l in i){var u=i[l],c={$scope:u===s||u.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},d=u.controller;"@"==d&&(d=e[u.name]);var h=g(d,c,!0,u.controllerAs);a[u.name]=h,t.data("$"+u.name+"Controller",h.instance)}return a}function Q(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=h(t[i],{$$isolateScope:e,$$newScope:n})}function K(t,n,i,o,a,u,d){if(n===a)return null;var f=null;if(l.hasOwnProperty(n))for(var p,g=e.get(n+c),m=0,y=g.length;m<y;m++)try{if(p=g[m],(v(o)||o>p.priority)&&-1!=p.restrict.indexOf(i)){if(u&&(p=h(p,{$$start:u,$$end:d})),!p.$$bindings){var w=p.$$bindings=s(p,p.name);b(w.isolateScope)&&(p.$$isolateBindings=w.isolateScope)}t.push(p),f=p}}catch(t){r(t)}return f}function tt(t){if(l.hasOwnProperty(t))for(var n=e.get(t+c),i=0,r=n.length;i<r;i++)if(n[i].multiElement)return!0;return!1}function et(t,e){var n=e.$attr,r=t.$attr,o=t.$$element;i(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),i(e,function(e,i){"class"==i?(F(o,e),t.class=(t.class?t.class+" ":"")+e):"style"==i?(o.attr("style",o.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==i.charAt(0)||t.hasOwnProperty(i)||(t[i]=e,r[i]=n[i])})}function nt(t,e,n,r,s,a,l,u){var c,d,f=[],p=e[0],g=t.shift(),m=h(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=k(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),o(v).then(function(o){var h,w,$,x;if(o=Ct(o),g.replace){if($=wt(o)?[]:ge(st(y,zi(o))),h=$[0],1!=$.length||h.nodeType!==tr)throw Lr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);w={$attr:{}},dt(r,e,h);var C=V(h,[],w);b(g.scope)&&Q(C,!0),t=C.concat(t),et(n,w)}else h=p,e.html(o);for(t.unshift(m),c=q(t,h,n,s,e,g,a,l,u),i(r,function(t,n){t==h&&(r[n]=e[0])}),d=H(e[0].childNodes,s);f.length;){var k=f.shift(),S=f.shift(),E=f.shift(),D=f.shift(),_=e[0];if(!k.$$destroyed){if(S!==p){var T=S.className;u.hasElementTranscludeDirective&&g.replace||(_=_t(h)),dt(E,Ai(S),_),F(Ai(_),T)}x=c.transcludeOnThisElement?U(k,c.transclude,D):D,c(d,k,_,r,x)}}f=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(f?f.push(e,n,i,o):(c.transcludeOnThisElement&&(o=U(e,c.transclude,r)),c(d,e,n,i,o)))}}function it(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function rt(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Lr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,J(i))}function ot(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&I.$$addBindingClass(e),function(t,e){var r=e.parent();n||I.$$addBindingClass(r),I.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function st(e,n){switch(e=_i(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function at(t,e){if("srcdoc"==e)return S.HTML;var n=N(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function ct(t,e,i,r,o){var s=at(t,r);o=w[r]||o;var a=n(i,!0,s,o);if(a){if("multiple"===r&&"select"===N(t))throw Lr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers=pt());if(C.test(r))throw Lr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[r];c!==i&&(a=c&&n(c,!0,s,o),i=c),a&&(l[r]=a(t),(u[r]||(u[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function dt(e,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==s){e[r++]=i;for(var u=r,c=u+a-1,d=e.length;u<d;u++,c++)c<d?e[u]=e[c]:delete e[u];e.length-=a-1,e.context===s&&(e.context=i);break}l&&l.replaceChild(i,s);var h=t.document.createDocumentFragment();for(r=0;r<a;r++)h.appendChild(n[r]);for(Ai.hasData(s)&&(Ai.data(i,Ai.data(s)),Ai(s).off("$destroy")),Ai.cleanData(h.querySelectorAll("*")),r=1;r<a;r++)delete n[r];n[0]=i,n.length=1}function ht(t,e){return u(function(){return t.apply(null,arguments)},t,e)}function ft(t,e,n,i,o,s){try{t(e,n,i,o,s)}catch(t){r(t,J(n))}}function gt(t,e,r,o,s){function l(e,n,i){k(r.$onChanges)&&n!==i&&(mt||(t.$$postDigest(j),mt=[]),c||(c={},mt.push(u)),c[e]&&(i=c[e].previousValue),c[e]=new he(i,n))}function u(){r.$onChanges(c),c=void 0}var c,d=[],h={};return i(o,function(i,o){var u,c,p,g,m,v=i.attrName,y=i.optional;switch(i.mode){case"@":y||Di.call(e,v)||(r[o]=e[v]=void 0),e.$observe(v,function(t){if($(t)||M(t)){var e=r[o];l(o,t,e),r[o]=t}}),e.$$observers[v].$$scope=t,$(u=e[v])?r[o]=n(u)(t):M(u)&&(r[o]=u),h[o]=new he(Hr,r[o]);break;case"=":if(!Di.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=a(e[v]),g=c.literal?W:function(t,e){return t===e||t!==t&&e!==e},p=c.assign||function(){throw u=r[o]=c(t),Lr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,s.name)},u=r[o]=c(t);var b=function(e){return g(e,r[o])||(g(e,u)?p(t,e=r[o]):r[o]=e),u=e};b.$stateful=!0,m=i.collection?t.$watchCollection(e[v],b):t.$watch(a(e[v],b),null,c.literal),d.push(m);break;case"<":if(!Di.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=a(e[v]),r[o]=c(t),h[o]=new he(Hr,r[o]),m=t.$watch(c,function(t,e){t===e&&(e=r[o]),l(o,t,e),r[o]=t},c.literal),d.push(m);break;case"&":if((c=e.hasOwnProperty(v)?a(e[v]):f)===f&&y)break;r[o]=function(e){return c(t,e)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var t=0,e=d.length;t<e;++t)d[t]()}}}var mt,vt=/^\w/,yt=t.document.createElement("div"),bt=_;A.prototype={$normalize:fe,$addClass:function(t){t&&t.length>0&&T.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&T.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=pe(t,e);n&&n.length&&T.addClass(this.$$element,n);var i=pe(e,t);i&&i.length&&T.removeClass(this.$$element,i)},$set:function(t,e,n,o){var s,a=Bt(this.$$element[0],t),l=Vt(t),u=t;if(a?(this.$$element.prop(t,e),o=a):l&&(this[l]=e,u=l),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t])||(this.$attr[t]=o=lt(t,"-")),"a"===(s=N(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===s&&"src"===t)this[t]=e=P(e,"src"===t);else if("img"===s&&"srcset"===t){for(var c="",d=zi(e),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(d)?h:/(,)/,p=d.split(f),g=Math.floor(p.length/2),m=0;m<g;m++){var y=2*m;c+=P(zi(p[y]),!0),c+=" "+zi(p[y+1])}var b=zi(p[2*m]).split(/\s/);c+=P(zi(b[0]),!0),2===b.length&&(c+=" "+zi(b[1])),this[t]=e=c}!1!==n&&(null===e||v(e)?this.$$element.removeAttr(o):vt.test(o)?this.$$element.attr(o,e):O(this.$$element[0],o,e));var w=this.$$observers;w&&i(w[u],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=pt()),r=i[t]||(i[t]=[]);return r.push(e),y.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){R(r,e)}}};var $t=n.startSymbol(),xt=n.endSymbol(),Ct="{{"==$t&&"}}"==xt?p:function(t){return t.replace(/\{\{/g,$t).replace(/}}/g,xt)},kt=/^ngAttr[A-Z]/,St=/^(.+)Start$/;return I.$$addBindingInfo=E?function(t,e){var n=t.data("$binding")||[];Vi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,I.$$addBindingClass=E?function(t){F(t,"ng-binding")}:f,I.$$addScopeInfo=E?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:f,I.$$addScopeClass=E?function(t,e){F(t,e?"ng-isolate-scope":"ng-scope")}:f,I.$$createComment=function(e,n){var i="";return E&&(i=" "+(e||"")+": "+(n||"")+" "),t.document.createComment(i)},I}]}function he(t,e){this.previousValue=t,this.currentValue=e}function fe(t){return bt(t.replace(Wr,""))}function pe(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(n.length>0?" ":"")+s}return n}function ge(t){var e=(t=Ai(t)).length;if(e<=1)return t;for(;e--;)t[e].nodeType===nr&&Ni.call(t,e,1);return t}function me(t,e){if(e&&$(e))return e;if($(t)){var n=Br.exec(t);if(n)return n[3]}}function ve(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){dt(e,"controller"),b(e)?u(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!b(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}return function(e,s,a,l){var c,d,h,f;if(a=!0===a,l&&$(l)&&(f=l),$(e)){if(!(d=e.match(Br)))throw Ur("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);h=d[1],f=f||d[3],ct(e=t.hasOwnProperty(h)?t[h]:ht(s.$scope,h,!0)||(n?ht(r,h,!0):void 0),h,!0)}if(a){var p=(Vi(e)?e[e.length-1]:e).prototype;c=Object.create(p||null),f&&o(s,f,c,h||e.name);return u(function(){var t=i.invoke(e,c,s,h);return t!==c&&(b(t)||k(t))&&(c=t,f&&o(s,f,c,h||e.name)),c},{instance:c,identifier:f})}return c=i.instantiate(e,s,h),f&&o(s,f,c,h||e.name),c}}]}function ye(){this.$get=["$window",function(t){return Ai(t.document)}]}function be(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function we(t){return b(t)?C(t)?t.toISOString():z(t):t}function $e(){this.$get=function(){return function(t){if(!t)return"";var e=[];return r(t,function(t,n){null===t||v(t)||(Vi(t)?i(t,function(t){e.push(nt(n)+"="+nt(we(t)))}):e.push(nt(n)+"="+nt(we(t))))}),e.join("&")}}}function xe(){this.$get=function(){return function(t){function e(t,o,s){null===t||v(t)||(Vi(t)?i(t,function(t,n){e(t,o+"["+(b(t)?n:"")+"]")}):b(t)&&!C(t)?r(t,function(t,n){e(t,o+(s?"":"[")+n+(s?"":"]"))}):n.push(nt(o)+"="+nt(we(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Ce(t,e){if($(t)){var n=t.replace(Xr,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Yr)||ke(n))&&(t=G(n))}}return t}function ke(t){var e=t.match(Gr);return e&&qr[e[0]].test(t)}function Se(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=pt();return $(t)?i(t.split("\n"),function(t){n=t.indexOf(":"),e(_i(zi(t.substr(0,n))),zi(t.substr(n+1)))}):b(t)&&i(t,function(t,n){e(_i(n),zi(t))}),r}function Ee(t){var e;return function(n){if(e||(e=Se(t)),n){var i=e[_i(n)];return void 0===i&&(i=null),i}return e}}function De(t,e,n,r){return k(r)?r(t,e,n):(i(r,function(i){t=i(t,e,n)}),t)}function _e(t){return 200<=t&&t<300}function Te(){var t=this.defaults={transformResponse:[Ce],transformRequest:[function(t){return!b(t)||_(t)||P(t)||T(t)?t:z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:H(zr),put:H(zr),patch:H(zr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return y(t)?(n=!!t,this):n};var r=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(r=!!t,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,a,l,c,d,h){function f(n){function o(t){var e=u({},t);return e.data=De(t.data,t.headers,t.status,a.transformResponse),_e(t.status)?e:d.reject(e)}function s(t,e){var n,r={};return i(t,function(t,i){k(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t}),r}if(!b(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!$(n.url))throw e("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var a=u({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);a.headers=function(e){var n,i,r,o=t.headers,a=u({},e.headers);o=u({},o.common,o[_i(e.method)]);t:for(n in o){i=_i(n);for(r in a)if(_i(r)===i)continue t;a[n]=o[n]}return s(a,H(e))}(n),a.method=Ti(a.method),a.paramSerializer=$(a.paramSerializer)?h.get(a.paramSerializer):a.paramSerializer;var l=[function(e){var n=e.headers,r=De(e.data,Ee(n),void 0,e.transformRequest);return v(r)&&i(n,function(t,e){"content-type"===_i(e)&&delete n[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),p(e,r).then(o,o)},void 0],c=d.when(a);for(i(w,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){var f=l.shift(),g=l.shift();c=c.then(f,g)}return r?(c.success=function(t){return ct(t,"fn"),c.then(function(e){t(e.data,e.status,e.headers,a)}),c},c.error=function(t){return ct(t,"fn"),c.then(null,function(e){t(e.data,e.status,e.headers,a)}),c}):(c.success=Jr("success"),c.error=Jr("error")),c}function p(e,r){function o(t){if(t){var e={};return i(t,function(t,i){e[i]=function(e){function i(){t(e)}n?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),e}}function l(t,e,i,r){function o(){u(e,t,i,r)}w&&(_e(t)?w.put(S,[t,e,Se(i),r]):w.remove(S)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(t,n,i,r){(_e(n=n>=-1?n:0)?x.resolve:x.reject)({data:t,status:n,headers:Ee(i),config:e,statusText:r})}function h(t){u(t.data,t.status,H(t.headers()),t.statusText)}function p(){var t=f.pendingRequests.indexOf(e);-1!==t&&f.pendingRequests.splice(t,1)}var w,$,x=d.defer(),C=x.promise,k=e.headers,S=g(e.url,e.paramSerializer(e.params));if(f.pendingRequests.push(e),C.then(p,p),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(w=b(e.cache)?e.cache:b(t.cache)?t.cache:m),w&&(y($=w.get(S))?j($)?$.then(h,h):Vi($)?u($[1],$[0],H($[2]),$[3]):u($,200,{},"OK"):w.put(S,C)),v($)){var E=Mn(e.url)?a()[e.xsrfCookieName||t.xsrfCookieName]:void 0;E&&(k[e.xsrfHeaderName||t.xsrfHeaderName]=E),s(e.method,S,r,l,k,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return C}function g(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var m=l("$http");t.paramSerializer=$(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var w=[];return i(o,function(t){w.unshift($(t)?h.get(t):h.invoke(t))}),f.pendingRequests=[],function(t){i(arguments,function(t){f[t]=function(e,n){return f(u({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){i(arguments,function(t){f[t]=function(e,n,i){return f(u({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),f.defaults=t,f}]}function Pe(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Me(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return je(t,i,t.defer,e.angular.callbacks,n[0])}]}function je(t,e,n,r,o){function s(t,e,n){var i=o.createElement("script"),s=null;return i.type="text/javascript",i.src=t,i.async=!0,s=function(t){ur(i,"load",s),ur(i,"error",s),o.body.removeChild(i),i=null;var a=-1,l="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),n&&n(a,l)},lr(i,"load",s),lr(i,"error",s),o.body.appendChild(i),s}return function(o,a,l,u,c,d,h,p,g,m){function b(){x&&x(),C&&C.abort()}function w(e,i,r,o,s){y(S)&&n.cancel(S),x=C=null,e(i,r,o,s),t.$$completeOutstandingRequest(f)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==_i(o)){var $="_"+(r.counter++).toString(36);r[$]=function(t){r[$].data=t,r[$].called=!0};var x=s(a.replace("JSON_CALLBACK","angular.callbacks."+$),$,function(t,e){w(u,t,r[$].data,"",e),r[$]=f})}else{var C=e(o,a);C.open(o,a,!0),i(c,function(t,e){y(t)&&C.setRequestHeader(e,t)}),C.onload=function(){var t=C.statusText||"",e="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=e?200:"file"==Pn(a).protocol?404:0),w(u,n,e,C.getAllResponseHeaders(),t)};var k=function(){w(u,-1,null,null,"")};if(C.onerror=k,C.onabort=k,i(g,function(t,e){C.addEventListener(e,t)}),i(m,function(t,e){C.upload.addEventListener(e,t)}),h&&(C.withCredentials=!0),p)try{C.responseType=p}catch(t){if("json"!==p)throw t}C.send(v(l)?null:l)}if(d>0)var S=n(b,d);else j(d)&&d.then(b)}}function Ae(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(n){return n.replace(f,t).replace(p,e)}function a(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=z(t)}return t}function l(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function c(o,c,f,p){function m(t){try{return t=M(t),p&&!y(t)?t:a(t)}catch(t){i(Qr.interr(o,t))}}if(!o.length||-1===o.indexOf(t)){var b;return c||((b=g(s(o))).exp=o,b.expressions=[],b.$$watchDelegate=l),b}p=!!p;for(var w,$,x,C=0,S=[],E=[],D=o.length,_=[],T=[];C<D;){if(-1==(w=o.indexOf(t,C))||-1==($=o.indexOf(e,w+d))){C!==D&&_.push(s(o.substring(C)));break}C!==w&&_.push(s(o.substring(C,w))),x=o.substring(w+d,$),S.push(x),E.push(n(x,m)),C=$+h,T.push(_.length),_.push("")}if(f&&_.length>1&&Qr.throwNoconcat(o),!c||S.length){var P=function(t){for(var e=0,n=S.length;e<n;e++){if(p&&v(t[e]))return;_[T[e]]=t[e]}return _.join("")},M=function(t){return f?r.getTrusted(f,t):r.valueOf(t)};return u(function(t){var e=0,n=S.length,r=new Array(n);try{for(;e<n;e++)r[e]=E[e](t);return P(r)}catch(t){i(Qr.interr(o,t))}},{exp:o,expressions:S,$$watchDelegate:function(t,e){var n;return t.$watchGroup(E,function(i,r){var o=P(i);k(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var d=t.length,h=e.length,f=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return c.startSymbol=function(){return t},c.endSymbol=function(){return e},c}]}function Oe(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,a,l,u){function c(){d?o.apply(null,h):o(g)}var d=arguments.length>4,h=d?B(arguments,4):[],f=e.setInterval,p=e.clearInterval,g=0,m=y(u)&&!u,v=(m?i:n).defer(),b=v.promise;return l=y(l)?l:0,b.$$intervalId=f(function(){m?r.defer(c):t.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),p(b.$$intervalId),delete s[b.$$intervalId]),m||t.$apply()},a),s[b.$$intervalId]=v,b}var s={};return o.cancel=function(t){return!!(t&&t.$$intervalId in s)&&(s[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete s[t.$$intervalId],!0)},o}]}function Fe(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=et(e[n]);return e.join("/")}function Ie(t,e){var n=Pn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||to[n.protocol]||null}function Ne(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Pn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=K(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Re(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function Le(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function He(t){return t.replace(/(#.+)|#$/,"$1")}function We(t){return t.substr(0,Le(t).lastIndexOf("/")+1)}function Ue(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Be(t,e,n){this.$$html5=!0,n=n||"",Ie(t,this),this.$$parse=function(t){var n=Re(e,t);if(!$(n))throw eo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ne(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=tt(this.$$search),n=this.$$hash?"#"+et(this.$$hash):"";this.$$url=Fe(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s,a;return y(o=Re(t,i))?(s=o,a=y(o=Re(n,o))?e+(Re("/",o)||o):t+s):y(o=Re(e,i))?a=e+o:e==i+"/"&&(a=e),a&&this.$$parse(a),!!a}}function Ve(t,e,n){Ie(t,this),this.$$parse=function(i){var r,o=Re(t,i)||Re(e,i);v(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",v(o)&&(t=i,this.replace())):v(r=Re(n,o))&&(r=o),Ne(r,this),this.$$path=function(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}(this.$$path,r,t),this.$$compose()},this.$$compose=function(){var e=tt(this.$$search),i=this.$$hash?"#"+et(this.$$hash):"";this.$$url=Fe(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Le(t)==Le(e)&&(this.$$parse(e),!0)}}function Ye(t,e,n){this.$$html5=!0,Ve.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return t==Le(i)?o=i:(s=Re(e,i))?o=t+n+s:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=tt(this.$$search),i=this.$$hash?"#"+et(this.$$hash):"";this.$$url=Fe(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function ze(t){return function(){return this[t]}}function Ge(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function qe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return M(t)?(e.enabled=t,this):b(t)?(M(t.enabled)&&(e.enabled=t.enabled),M(t.requireBase)&&(e.requireBase=t.requireBase),M(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(t){throw u.url(r),u.$$state=o,t}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,d,h=i.baseHref(),f=i.url();if(e.enabled){if(!h&&e.requireBase)throw eo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Ue(f)+(h||"/"),c=r.history?Be:Ye}else d=Le(f),c=Ve;var p=We(d);(u=new c(d,p,"#"+t)).$$parseLinkUrl(f,f),u.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Ai(t.target);"a"!==N(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Pn(a.animVal).href),g.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(a,l)&&(t.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),He(u.absUrl())!=He(f)&&i.url(u.absUrl(),!0);var m=!0;return i.onUrlChange(function(t,e){v(Re(p,t))?s.location.href=t:(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;t=He(t),u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,a(r,!1,o)):(m=!1,l(r,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var t=He(i.url()),e=He(u.absUrl()),o=i.state(),s=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&a(e,s,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Xe(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||f,s=!1;try{s=!!o.apply}catch(t){}return s?function(){var t=[];return i(arguments,function(e){t.push(r(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Ze(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw io("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Je(t){return t+""}function Qe(t,e){if(t){if(t.constructor===t)throw io("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw io("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw io("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw io("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ke(t,e){if(t){if(t.constructor===t)throw io("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ro||t===oo||t===so)throw io("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function tn(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw io("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function en(t,e){return void 0!==t?t:e}function nn(t,e){return void 0===t?e:void 0===e?t:t+e}function rn(t,e){return!t(e).$stateful}function on(t,e){var n,r;switch(t.type){case co.Program:n=!0,i(t.body,function(t){on(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case co.Literal:t.constant=!0,t.toWatch=[];break;case co.UnaryExpression:on(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case co.BinaryExpression:on(t.left,e),on(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case co.LogicalExpression:on(t.left,e),on(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case co.ConditionalExpression:on(t.test,e),on(t.alternate,e),on(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case co.Identifier:t.constant=!1,t.toWatch=[t];break;case co.MemberExpression:on(t.object,e),t.computed&&on(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case co.CallExpression:n=!!t.filter&&rn(e,t.callee.name),r=[],i(t.arguments,function(t){on(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&rn(e,t.callee.name)?r:[t];break;case co.AssignmentExpression:on(t.left,e),on(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case co.ArrayExpression:n=!0,r=[],i(t.elements,function(t){on(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case co.ObjectExpression:n=!0,r=[],i(t.properties,function(t){on(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case co.ThisExpression:case co.LocalsExpression:t.constant=!1,t.toWatch=[]}}function sn(t){if(1==t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function an(t){return t.type===co.Identifier||t.type===co.MemberExpression}function ln(t){if(1===t.body.length&&an(t.body[0].expression))return{type:co.AssignmentExpression,left:t.body[0].expression,right:{type:co.NGValueParameter},operator:"="}}function un(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===co.Literal||t.body[0].expression.type===co.ArrayExpression||t.body[0].expression.type===co.ObjectExpression)}function cn(t){return t.constant}function dn(t,e){this.astBuilder=t,this.$filter=e}function hn(t,e){this.astBuilder=t,this.$filter=e}function fn(t){return"constructor"==t}function pn(t){return k(t.valueOf)?t.valueOf():fo.call(t)}function gn(){var t,e,n=pt(),r=pt(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(s){function a(t,e,i){var o,a,u;switch(i=i||w,typeof t){case"string":u=t=t.trim();var m=i?r:n;if(!(o=m[u])){":"===t.charAt(0)&&":"===t.charAt(1)&&(a=!0,t=t.substring(2));var y=i?b:v,$=new uo(y);(o=new ho($,s,y).parse(t)).constant?o.$$watchDelegate=p:a?o.$$watchDelegate=o.literal?h:d:o.inputs&&(o.$$watchDelegate=c),i&&(o=l(o)),m[u]=o}return g(o,e);case"function":return g(t,e);default:return g(f,e)}}function l(t){function e(e,n,i,r){var o=w;w=!0;try{return t(e,n,i,r)}finally{w=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=l(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=l(t.inputs[n]);return e.inputs=t.inputs,e}function u(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=pn(t)))&&(t===e||t!==t&&e!==e)}function c(t,e,n,i,r){var o,s=i.inputs;if(1===s.length){var a=u;return s=s[0],t.$watch(function(t){var e=s(t);return u(e,a)||(o=i(t,void 0,void 0,[e]),a=e&&pn(e)),o},e,n,r)}for(var l=[],c=[],d=0,h=s.length;d<h;d++)l[d]=u,c[d]=null;return t.$watch(function(t){for(var e=!1,n=0,r=s.length;n<r;n++){var a=s[n](t);(e||(e=!u(a,l[n])))&&(c[n]=a,l[n]=a&&pn(a))}return e&&(o=i(t,void 0,void 0,c)),o},e,n,r)}function d(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,k(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function h(t,e,n,r){function o(t){var e=!0;return i(t,function(t){y(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return r(t)},function(t,n,i){a=t,k(e)&&e.call(this,t,n,i),o(t)&&i.$$postDigest(function(){o(a)&&s()})},n)}function p(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function g(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==h&&n!==d?function(n,r,o,s){var a=i&&s?s[0]:t(n,r,o,s);return e(a,n,r)}:function(n,i,r,o){var s=t(n,i,r,o),a=e(s,n,i);return y(s)?a:s};return t.$$watchDelegate&&t.$$watchDelegate!==c?r.$$watchDelegate=t.$$watchDelegate:e.$stateful||(r.$$watchDelegate=c,i=!t.inputs,r.inputs=t.inputs?t.inputs:[t]),r}var m=qi().noUnsafeEval,v={csp:m,expensiveChecks:!1,literals:L(o),isIdentifierStart:k(t)&&t,isIdentifierContinue:k(e)&&e},b={csp:m,expensiveChecks:!0,literals:L(o),isIdentifierStart:k(t)&&t,isIdentifierContinue:k(e)&&e},w=!1;return a.$$runningExpensiveChecks=function(){return w},a}]}function mn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return yn(function(e){t.$evalAsync(e)},e)}]}function vn(){this.$get=["$browser","$exceptionHandler",function(t,e){return yn(function(e){t.defer(e)},e)}]}function yn(t,n){function r(){this.$$state={status:0}}function o(t,e){return function(n){e.call(t,n)}}function s(t){var e,i,r;r=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,s=r.length;o<s;++o){i=r[o][0],e=r[o][t.status];try{k(e)?i.resolve(e(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(t){i.reject(t),n(t)}}}function a(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){s(e)}))}function l(){this.promise=new r}function c(t){var e=new l,n=0,r=Vi(t)?[]:{};return i(t,function(t,i){n++,m(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var d=e("$q",TypeError),h=function(){var t=new l;return t.resolve=o(t,t.resolve),t.reject=o(t,t.reject),t.notify=o(t,t.notify),t};u(r.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&a(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return g(e,!0,t)},function(e){return g(e,!1,t)},e)}}),u(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){function e(t){l||(l=!0,s.$$resolve(t))}function i(t){l||(l=!0,s.$$reject(t))}var r,s=this,l=!1;try{(b(t)||k(t))&&(r=t&&t.then),k(r)?(this.promise.$$state.status=-1,r.call(t,e,i,o(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,a(this.promise.$$state))}catch(t){i(t),n(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(e){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;o<s;o++){r=i[o][0],t=i[o][3];try{r.notify(k(t)?t(e):e)}catch(t){n(t)}}})}});var f=function(t){var e=new l;return e.reject(t),e.promise},p=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},g=function(t,e,n){var i=null;try{k(n)&&(i=n())}catch(t){return p(t,!1)}return j(i)?i.then(function(){return p(t,e)},function(t){return p(t,!1)}):p(t,e)},m=function(t,e,n,i){var r=new l;return r.resolve(t),r.promise.then(e,n,i)},y=m,w=function(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!k(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);var i=new l;return t(e,n),i.promise};return w.prototype=r.prototype,w.defer=h,w.reject=f,w.when=m,w.resolve=y,w.all=c,w}function bn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function wn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=s(),this.$$ChildScope=null}return e.prototype=t,e}var r=10,o=e("$rootScope"),a=null,l=null;this.digestTtl=function(t){return arguments.length&&(r=t),r},this.$get=["$exceptionHandler","$parse","$browser",function(e,u,c){function d(t){t.currentScope.$$destroyed=!0}function h(t){9===ji&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=s(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(t){if(S.$$phase)throw o("inprog","{0} already in progress",S.$$phase);S.$$phase=t}function m(){S.$$phase=null}function y(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function w(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function $(){}function x(){for(;_.length;)try{_.shift()()}catch(t){e(t)}l=null}function C(){null===l&&(l=c.defer(function(){S.$apply(x)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",d),i},$watch:function(t,e,n,i){var r=u(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,l={fn:e,last:$,get:r,exp:i||t,eq:!!n};return a=null,k(e)||(l.fn=f),s||(s=o.$$watchers=[]),s.unshift(l),y(this,1),function(){R(s,l)>=0&&y(o,-1),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(o,o,a)):e(o,r,a)}var r=new Array(t.length),o=new Array(t.length),s=[],a=this,l=!1,u=!0;if(!t.length){var c=!0;return a.$evalAsync(function(){c&&e(o,o,a)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,i){o[0]=t,r[0]=n,e(o,t===n?o:r,i)}):(i(t,function(t,e){var i=a.$watch(t,function(t,i){o[e]=t,r[e]=i,l||(l=!0,a.$evalAsync(n))});s.push(i)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function i(t){var e,i,r,a;if(!v(o=t)){if(b(o))if(n(o)){s!==f&&(m=(s=f).length=0,d++),e=o.length,m!==e&&(d++,s.length=m=e);for(var l=0;l<e;l++)a=s[l],r=o[l],a!==a&&r!==r||a===r||(d++,s[l]=r)}else{s!==p&&(s=p={},m=0,d++),e=0;for(i in o)Di.call(o,i)&&(e++,r=o[i],a=s[i],i in s?a!==a&&r!==r||a===r||(d++,s[i]=r):(m++,s[i]=r,d++));if(m>e){d++;for(i in s)Di.call(o,i)||(m--,delete s[i])}}else s!==o&&(s=o,d++);return d}}function r(){if(g?(g=!1,e(o,o,l)):e(o,a,l),c)if(b(o))if(n(o)){a=new Array(o.length);for(var t=0;t<o.length;t++)a[t]=o[t]}else{a={};for(var i in o)Di.call(o,i)&&(a[i]=o[i])}else a=o}i.$stateful=!0;var o,s,a,l=this,c=e.length>1,d=0,h=u(t,i),f=[],p={},g=!0,m=0;return this.$watch(h,r)},$digest:function(){var t,n,i,s,u,d,h,f,p,v,y,b=r,w=this,C=[];g("$digest"),c.$$checkUrlChange(),this===S&&null!==l&&(c.defer.cancel(l),x()),a=null;do{for(h=!1,p=w;E.length;){try{(y=E.shift()).scope.$eval(y.expression,y.locals)}catch(t){e(t)}a=null}t:do{if(u=p.$$watchers)for(d=u.length;d--;)try{if(t=u[d])if(s=t.get,(n=s(p))===(i=t.last)||(t.eq?W(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(t===a){h=!1;break t}}else h=!0,a=t,t.last=t.eq?L(n,null):n,(0,t.fn)(n,i===$?n:i,p),b<5&&(C[v=4-b]||(C[v]=[]),C[v].push({msg:k(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:i}))}catch(t){e(t)}if(!(f=p.$$watchersCount&&p.$$childHead||p!==w&&p.$$nextSibling))for(;p!==w&&!(f=p.$$nextSibling);)p=p.$parent}while(p=f);if((h||E.length)&&!b--)throw m(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,C)}while(h||E.length);for(m();D.length;)try{D.shift()()}catch(t){e(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&c.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)w(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){S.$$phase||E.length||c.defer(function(){E.length&&S.$digest()}),E.push({scope:this,expression:u(t),locals:e})},$$postDigest:function(t){D.push(t)},$apply:function(t){try{g("$apply");try{return this.$eval(t)}finally{m()}}catch(t){e(t)}finally{try{S.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&_.push(e),t=u(t),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,w(r,1,t))}},$emit:function(t,n){var i,r,o,s=[],a=this,l=!1,u={name:t,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);do{for(i=a.$$listeners[t]||s,u.currentScope=a,r=0,o=i.length;r<o;r++)if(i[r])try{i[r].apply(null,c)}catch(t){e(t)}else i.splice(r,1),r--,o--;if(l)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t,n){var i=this,r=i,o=i,s={name:t,targetScope:i,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return s;for(var a,l,u,c=U([s],arguments,1);r=o;){for(s.currentScope=r,l=0,u=(a=r.$$listeners[t]||[]).length;l<u;l++)if(a[l])try{a[l].apply(null,c)}catch(t){e(t)}else a.splice(l,1),l--,u--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var S=new p,E=S.$$asyncQueue=[],D=S.$$postDigestQueue=[],_=S.$$applyAsyncQueue=[];return S}]}function $n(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Pn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function xn(t){if("self"===t)return t;if($(t)){if(t.indexOf("***")>-1)throw po("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Gi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw po("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Cn(t){var e=[];return y(t)&&i(t,function(t){e.push(xn(t))}),e}function kn(){this.SCE_CONTEXTS=go;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Cn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Cn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Mn(e):!!t.exec(e.href)}function r(n){var r,o,s=Pn(n.toString()),a=!1;for(r=0,o=t.length;r<o;r++)if(i(t[r],s)){a=!0;break}if(a)for(r=0,o=e.length;r<o;r++)if(i(e[r],s)){a=!1;break}return a}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var n=d.hasOwnProperty(t)?d[t]:null;if(!n)throw po("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw po("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function a(t){return t instanceof c?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||v(e)||""===e)return e;var n=d.hasOwnProperty(t)?d[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===go.RESOURCE_URL){if(r(e))return e;throw po("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===go.HTML)return u(e);throw po("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(t){throw po("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[go.HTML]=o(c),d[go.CSS]=o(c),d[go.URL]=o(c),d[go.JS]=o(c),d[go.RESOURCE_URL]=o(d[go.URL]),{trustAs:s,getTrusted:l,valueOf:a}}]}function Sn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&ji<8)throw po("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=H(go);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=p),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,s=r.getTrusted,a=r.trustAs;return i(go,function(t,e){var n=_i(e);r[bt("parse_as_"+n)]=function(e){return o(t,e)},r[bt("get_trusted_"+n)]=function(e){return s(t,e)},r[bt("trust_as_"+n)]=function(e){return a(t,e)}}),r}]}function En(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=!(t.chrome&&t.chrome.app&&t.chrome.app.runtime)&&t.history&&t.history.pushState,s=d((/android (\d+)/.exec(_i((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),l=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=l.body&&l.body.style,h=!1,f=!1;if(c){for(var p in c)if(i=u.exec(p)){n=(n=i[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),h=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!s||h&&f||(h=$(c.webkitTransition),f=$(c.webkitAnimation))}return{history:!(!o||s<4||a),hasEvent:function(t){if("input"===t&&ji<=11)return!1;if(v(r[t])){var e=l.createElement("div");r[t]="on"+t in e}return r[t]},csp:qi(),vendorPrefix:n,transitions:h,animations:f,android:s}}]}function Dn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,i,r){function o(s,a){function l(t){if(!a)throw mo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText);return i.reject(t)}o.totalPendingRequests++,$(s)&&e.get(s)||(s=r.getTrustedResourceUrl(s));var c=n.defaults&&n.defaults.transformResponse;return Vi(c)?c=c.filter(function(t){return t!==Ce}):c===Ce&&(c=null),n.get(s,u({cache:e,transformResponse:c},t)).finally(function(){o.totalPendingRequests--}).then(function(t){return e.put(s,t.data),t.data},l)}return o.totalPendingRequests=0,o}]}function _n(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=[];return i(t.getElementsByClassName("ng-binding"),function(t){var o=Ui.element(t).data("$binding");o&&i(o,function(i){n?new RegExp("(^|\\s)"+Gi(e)+"(\\s|\\||$)").test(i)&&r.push(t):-1!=i.indexOf(e)&&r.push(t)})}),r},r.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",s="["+i[r]+"model"+o+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Tn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,l){k(o)||(l=a,a=o,o=f);var u,c=B(arguments,3),d=y(l)&&!l,h=(d?i:n).defer(),p=h.promise;return u=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(t){h.reject(t),r(t)}finally{delete s[p.$$timeoutId]}d||t.$apply()},a),p.$$timeoutId=u,s[u]=h,p}var s={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Pn(t){var e=t;return ji&&(vo.setAttribute("href",e),e=vo.href),vo.setAttribute("href",e),{href:vo.href,protocol:vo.protocol?vo.protocol.replace(/:$/,""):"",host:vo.host,search:vo.search?vo.search.replace(/^\?/,""):"",hash:vo.hash?vo.hash.replace(/^#/,""):"",hostname:vo.hostname,port:vo.port,pathname:"/"===vo.pathname.charAt(0)?vo.pathname:"/"+vo.pathname}}function Mn(t){var e=$(t)?Pn(t):t;return e.protocol===yo.protocol&&e.host===yo.host}function jn(){this.$get=g(t)}function An(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,s,a,l,u=n.cookie||"";if(u!==r)for(t=(r=u).split("; "),i={},s=0;s<t.length;s++)(a=(o=t[s]).indexOf("="))>0&&(l=e(o.substring(0,a)),v(i[l])&&(i[l]=e(o.substring(a+1))));return i}}function On(){this.$get=An}function Fn(t){function e(r,o){if(b(r)){var s={};return i(r,function(t,n){s[n]=e(n,t)}),s}return t.factory(r+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Hn),e("date",ei),e("filter",In),e("json",ni),e("limitTo",ii),e("lowercase",So),e("number",Wn),e("orderBy",ri),e("uppercase",Eo)}function In(){return function(t,i,r){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}var o,s;switch(Ln(i)){case"function":o=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=Nn(i,r,s);break;default:return t}return Array.prototype.filter.call(t,o)}}function Nn(t,e,n){var i=b(t)&&"$"in t;return!0===e?e=W:k(e)||(e=function(t,e){return!v(t)&&(null===t||null===e?t===e:!(b(e)||b(t)&&!m(t))&&(t=_i(""+t),e=_i(""+e),-1!==t.indexOf(e)))}),function(r){return i&&!b(r)?Rn(r,t.$,e,!1):Rn(r,t,e,n)}}function Rn(t,e,n,i,r){var o=Ln(t),s=Ln(e);if("string"===s&&"!"===e.charAt(0))return!Rn(t,e.substring(1),n,i);if(Vi(t))return t.some(function(t){return Rn(t,e,n,i)});switch(o){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&Rn(t[a],e,n,!0))return!0;return!r&&Rn(t,e,n,!1)}if("object"===s){for(a in e){var l=e[a];if(!k(l)&&!v(l)){var u="$"===a;if(!Rn(u?t:t[a],l,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Ln(t){return null===t?"null":typeof t}function Hn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Vn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Wn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Vn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Un(t){var e,n,i,r,o,s=0;for((n=t.indexOf(wo))>-1&&(t=t.replace(wo,"")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)==$o;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==$o;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>bo&&(e=e.splice(0,bo-1),s=n-1,n=1),{d:e,e:s,i:n}}function Bn(t,e,n,i){var r=t.d,o=r.length-t.i,s=(e=v(e)?Math.min(Math.max(n,o),i):+e)+t.i,a=r[s];if(s>0){r.splice(Math.max(t.i,s));for(var l=s;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,s=e+1),r[0]=0;for(var u=1;u<s;u++)r[u]=0}if(a>=5)if(s-1<0){for(var c=0;c>s;c--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[s-1]++;for(;o<Math.max(0,e);o++)r.push(0);var d=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);d&&(r.unshift(d),t.i++)}function Vn(t,e,n,i,r){if(!$(t)&&!x(t)||isNaN(t))return"";var o,s=!isFinite(t),a=!1,l=Math.abs(t)+"",u="";if(s)u="";else{Bn(o=Un(l),r,e.minFrac,e.maxFrac);var c=o.d,d=o.i,h=o.e,f=[];for(a=c.reduce(function(t,e){return t&&!e},!0);d<0;)c.unshift(0),d++;d>0?f=c.splice(d):(f=c,c=[0]);var p=[];for(c.length>=e.lgSize&&p.unshift(c.splice(-e.lgSize).join(""));c.length>e.gSize;)p.unshift(c.splice(-e.gSize).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),f.length&&(u+=i+f.join("")),h&&(u+="e+"+h)}return t<0&&!a?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function Yn(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=1-t:(t=-t,r="-")),t=""+t;t.length<e;)t=$o+t;return n&&(t=t.substr(t.length-e)),r+t}function zn(t,e,n,i,r){return n=n||0,function(o){var s=o["get"+t]();return(n>0||s>-n)&&(s+=n),0===s&&-12==n&&(s=12),Yn(s,e,i,r)}}function Gn(t,e,n){return function(i,r){var o=i["get"+t]();return r[Ti((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function qn(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Yn(Math[i>0?"floor":"ceil"](i/60),2)+Yn(Math.abs(i%60),2)}function Xn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Zn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Jn(t){return function(e){var n=Xn(e.getFullYear()),i=+Zn(e)-+n;return Yn(1+Math.round(i/6048e5),t)}}function Qn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Kn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function ti(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ei(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,s=e[8]?i.setUTCFullYear:i.setFullYear,a=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=d(e[9]+e[10]),o=d(e[9]+e[11])),s.call(i,d(e[1]),d(e[2])-1,d(e[3]));var l=d(e[4]||0)-r,u=d(e[5]||0)-o,c=d(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(i,l,u,c,h),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var s,a,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,$(n)&&(n=ko.test(n)?d(n):e(n)),x(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)(a=Co.exec(r))?r=(u=U(u,a,1)).pop():(u.push(r),r=null);var c=n.getTimezoneOffset();return o&&(c=q(o,c),n=Z(n,o,!0)),i(u,function(e){s=xo[e],l+=s?s(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ni(){return function(t,e){return v(e)&&(e=2),z(t,e)}}function ii(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):d(e),isNaN(e)?t:(x(t)&&(t=t.toString()),Vi(t)||$(t)?(n=!n||isNaN(n)?0:d(n),n=n<0?Math.max(0,t.length+n):n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function ri(t){function i(e,n){return n=n?-1:1,e.map(function(e){var i=1,r=p;if(k(e))r=e;else if($(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e)).constant)){var o=r();r=function(t){return t[o]}}return{get:r,descending:i*n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),r(t))?t:m(t)&&(t=t.toString(),r(t))?t:e}function s(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=o(t,e)),{value:t,type:n}}function a(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,r,o){function l(t,e){return{value:t,predicateValues:c.map(function(n){return s(n.get(t),e)})}}function u(t,e){for(var n=0,i=0,r=c.length;i<r&&!(n=a(t.predicateValues[i],e.predicateValues[i])*c[i].descending);++i);return n}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);Vi(r)||(r=[r]),0===r.length&&(r=["+"]);var c=i(r,o);c.push({get:function(){return{}},descending:o?-1:1});var d=Array.prototype.map.call(t,l);return d.sort(u),t=d.map(function(t){return t.value})}}function oi(t){return k(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function si(t,e){t.$name=e}function ai(t,e,n,r,o){var s=this,a=[];s.$error={},s.$$success={},s.$pending=void 0,s.$name=o(e.name||e.ngForm||"")(n),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=To,s.$rollbackViewValue=function(){i(a,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){i(a,function(t){t.$commitViewValue()})},s.$addControl=function(t){dt(t.$name,"input"),a.push(t),t.$name&&(s[t.$name]=t),t.$$parentForm=s},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],i(s.$pending,function(e,n){s.$setValidity(n,null,t)}),i(s.$error,function(e,n){s.$setValidity(n,null,t)}),i(s.$$success,function(e,n){s.$setValidity(n,null,t)}),R(a,t),t.$$parentForm=To},xi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(R(i,n),0===i.length&&delete t[e])},$animate:r}),s.$setDirty=function(){r.removeClass(t,fs),r.addClass(t,ps),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){r.setClass(t,fs,ps+" "+Po),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,i(a,function(t){t.$setPristine()})},s.$setUntouched=function(){i(a,function(t){t.$setUntouched()})},s.$setSubmitted=function(){r.addClass(t,Po),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function li(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ui(t,e,n,i,r,o){ci(t,e,n,i,r,o),li(i)}function ci(t,e,n,i,r,o){var s=_i(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(){a=!0}),e.on("compositionend",function(){a=!1,u()})}var l,u=function(t){if(l&&(o.defer.cancel(l),l=null),!a){var r=e.val(),u=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=zi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),Vo[s]&&i.$$hasNativeValidators&&s===n.type&&e.on(Bo,function(t){if(!l){var e=this[Ei],n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||u(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function di(t,e){if(C(t))return t;if($(t)){Ho.lastIndex=0;var n=Ho.exec(t);if(n){var i=+n[1],r=+n[2],o=0,s=0,a=0,l=0,u=Xn(i),c=7*(r-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,u.getDate()+c,o,s,a,l)}}return NaN}function hi(t,e){return function(n,r){var o,s;if(C(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Oo.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),s=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function fi(t,e,n,i){return function(r,o,s,a,l,u,c){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return y(t)&&!C(t)?n(t)||void 0:t}pi(r,o,s,a),ci(r,o,s,a,l,u);var f,p=a&&a.$options&&a.$options.timezone;if(a.$$parserName=t,a.$parsers.push(function(t){if(a.$isEmpty(t))return null;if(e.test(t)){var i=n(t,f);return p&&(i=Z(i,p)),i}}),a.$formatters.push(function(t){if(t&&!C(t))throw ms("datefmt","Expected `{0}` to be a date",t);return d(t)?((f=t)&&p&&(f=Z(f,p,!0)),c("date")(t,i,p)):(f=null,"")}),y(s.min)||s.ngMin){var g;a.$validators.min=function(t){return!d(t)||v(g)||n(t)>=g},s.$observe("min",function(t){g=h(t),a.$validate()})}if(y(s.max)||s.ngMax){var m;a.$validators.max=function(t){return!d(t)||v(m)||n(t)<=m},s.$observe("max",function(t){m=h(t),a.$validate()})}}}function pi(t,e,n,i){var r=e[0];(i.$$hasNativeValidators=b(r.validity))&&i.$parsers.push(function(t){var n=e.prop(Ei)||{};return n.badInput||n.typeMismatch?void 0:t})}function gi(t,e,n,i,r,o){if(pi(t,e,n,i),ci(t,e,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:No.test(t)?parseFloat(t):void 0}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!x(t))throw ms("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(n.min)||n.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||v(s)||t>=s},n.$observe("min",function(t){y(t)&&!x(t)&&(t=parseFloat(t,10)),s=x(t)&&!isNaN(t)?t:void 0,i.$validate()})}if(y(n.max)||n.ngMax){var a;i.$validators.max=function(t){return i.$isEmpty(t)||v(a)||t<=a},n.$observe("max",function(t){y(t)&&!x(t)&&(t=parseFloat(t,10)),a=x(t)&&!isNaN(t)?t:void 0,i.$validate()})}}function mi(t,e,n,i,r,o){ci(t,e,n,i,r,o),li(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Fo.test(n)}}function vi(t,e,n,i,r,o){ci(t,e,n,i,r,o),li(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Io.test(n)}}function yi(t,e,n,i){v(n.name)&&e.attr("name",s());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function bi(t,e,n,i,r){var o;if(y(i)){if(!(o=t(i)).constant)throw ms("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function wi(t,e,n,i,r,o,s,a){var l=bi(a,t,"ngTrueValue",n.ngTrueValue,!0),u=bi(a,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return W(t,l)}),i.$parsers.push(function(t){return t?l:u})}function $i(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function o(t){var e=[];return Vi(t)?(i(t,function(t){e=e.concat(o(t))}),e):$(t)?t.split(" "):b(t)?(i(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,l){function u(t){var e=d(t,1);l.$addClass(e)}function c(t){var e=d(t,-1);l.$removeClass(e)}function d(t,e){var n=a.data("$classCounts")||pt(),r=[];return i(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),a.data("$classCounts",n),r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(a,i),o&&o.length&&n.removeClass(a,o)}function f(t){if(!0===e||s.$index%2===e){var n=o(t||[]);p?W(t,p)||h(o(p),n):u(n)}p=Vi(t)?t.map(function(t){return H(t)}):H(t)}var p;s.$watch(l[t],f,!0),l.$observe("class",function(e){f(s.$eval(l[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var a=o(s.$eval(l[t]));r===e?u(a):c(a)}})}}}]}function xi(t){function e(t,e,a){v(e)?n("$pending",t,a):i("$pending",t,a),M(e)?e?(c(s.$error,t,a),u(s.$$success,t,a)):(u(s.$error,t,a),c(s.$$success,t,a)):(c(s.$error,t,a),c(s.$$success,t,a)),s.$pending?(r(gs,!0),s.$valid=s.$invalid=void 0,o("",null)):(r(gs,!1),s.$valid=Ci(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var l;o(t,l=s.$pending&&s.$pending[t]?void 0:!s.$error[t]&&(!!s.$$success[t]||null)),s.$$parentForm.$setValidity(t,l,s)}function n(t,e,n){s[t]||(s[t]={}),u(s[t],e,n)}function i(t,e,n){s[t]&&c(s[t],e,n),Ci(s[t])&&(s[t]=void 0)}function r(t,e){e&&!l[t]?(d.addClass(a,t),l[t]=!0):!e&&l[t]&&(d.removeClass(a,t),l[t]=!1)}function o(t,e){t=t?"-"+lt(t,"-"):"",r(ds+t,!0===e),r(hs+t,!1===e)}var s=t.ctrl,a=t.$element,l={},u=t.set,c=t.unset,d=t.$animate;l[hs]=!(l[ds]=a.hasClass(ds)),s.$setValidity=e}function Ci(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function ki(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Si=/^\/(.+)\/([a-z]*)$/,Ei="validity",Di=Object.prototype.hasOwnProperty,_i=function(t){return $(t)?t.toLowerCase():t},Ti=function(t){return $(t)?t.toUpperCase():t},Pi=function(t){return $(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Mi=function(t){return $(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(_i=Pi,Ti=Mi);var ji,Ai,Oi,Fi,Ii=[].slice,Ni=[].splice,Ri=[].push,Li=Object.prototype.toString,Hi=Object.getPrototypeOf,Wi=e("ng"),Ui=t.angular||(t.angular={}),Bi=0;ji=t.document.documentMode,f.$inject=[],p.$inject=[];var Vi=Array.isArray,Yi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,zi=function(t){return $(t)?t.trim():t},Gi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},qi=function(){if(!y(qi.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");qi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else qi.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return qi.rules},Xi=function(){if(y(Xi.name_))return Xi.name_;var e,n,i,r,o=Ji.length;for(n=0;n<o;++n)if(i=Ji[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return Xi.name_=r},Zi=/:/g,Ji=["ng-","data-ng-","ng:","x-ng-"],Qi=/[A-Z]/g,Ki=!1,tr=1,er=3,nr=8,ir=9,rr=11,or={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};Dt.expando="ng339";var sr=Dt.cache={},ar=1,lr=function(t,e,n){t.addEventListener(e,n,!1)},ur=function(t,e,n){t.removeEventListener(e,n,!1)};Dt._data=function(t){return this.cache[t[this.expando]]||{}};var cr=/([\:\-\_]+(.))/g,dr=/^moz([A-Z])/,hr={mouseleave:"mouseout",mouseenter:"mouseover"},fr=e("jqLite"),pr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gr=/<|&#?\w+;/,mr=/<([\w:-]+)/,vr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,yr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yr.optgroup=yr.option,yr.tbody=yr.tfoot=yr.colgroup=yr.caption=yr.thead,yr.th=yr.td;var br=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},wr=Dt.prototype={ready:function(e){function n(){i||(i=!0,e())}var i=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),Dt(t).on("load",n))},toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Ai(t>=0?this[t]:this[this.length+t])},length:0,push:Ri,sort:[].sort,splice:[].splice},$r={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){$r[_i(t)]=t});var xr={};i("input,select,option,textarea,button,form,details".split(","),function(t){xr[t]=!0});var Cr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:At,removeData:Mt,hasData:xt,cleanData:Ct},function(t,e){Dt[e]=t}),i({data:At,inheritedData:Lt,scope:function(t){return Ai.data(t,"$scope")||Lt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Ai.data(t,"$isolateScope")||Ai.data(t,"$isolateScopeNoTemplate")},controller:Rt,injector:function(t){return Lt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ot,css:function(t,e,n){if(e=bt(e),!y(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i=t.nodeType;if(i!==er&&2!==i&&i!==nr){var r=_i(e);if($r[r]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||f).specified?r:void 0;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?void 0:o}}},prop:function(t,e,n){if(!y(n))return t[e];t[e]=n},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===tr||n===er?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===N(t)){var n=[];return i(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(v(e))return t.innerHTML;Tt(t,!0),t.innerHTML=e},empty:Ht},function(t,e){Dt.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Ht&&v(2==t.length&&t!==Ot&&t!==Rt?e:n)){if(b(e)){for(i=0;i<o;i++)if(t===At)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var s=t.$dv,a=v(s)?Math.min(o,1):o,l=0;l<a;l++){var u=t(this[l],e,n);s=s?s+u:u}return s}for(i=0;i<o;i++)t(this[i],e,n);return this}}),i({removeData:Mt,on:function(t,e,n,i){if(y(i))throw fr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if($t(t)){var r=jt(t,!0),o=r.events,s=r.handle;s||(s=r.handle=Yt(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],l=a.length,u=function(e,i,r){var a=o[e];a||((a=o[e]=[]).specialHandlerWrapper=i,"$destroy"===e||r||lr(t,e,s)),a.push(n)};l--;)e=a[l],hr[e]?(u(hr[e],Gt),u(e,void 0,!0)):u(e)}},off:Pt,one:function(t,e,n){(t=Ai(t)).on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Tt(t),i(new Dt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){t.nodeType===tr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===tr||n===rr)for(var i=0,r=(e=new Dt(e)).length;i<r;i++){var o=e[i];t.appendChild(o)}},prepend:function(t,e){if(t.nodeType===tr){var n=t.firstChild;i(new Dt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Et(t,Ai(e).eq(0).clone()[0])},remove:Wt,detach:function(t){Wt(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,r=0,o=(e=new Dt(e)).length;r<o;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:It,removeClass:Ft,toggleClass:function(t,e,n){e&&i(e.split(" "),function(e){var i=n;v(i)&&(i=!Ot(t,e)),(i?It:Ft)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==rr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:_t,triggerHandler:function(t,e,n){var r,o,s,a=e.type||e,l=jt(t),c=l&&l.events,d=c&&c[a];d&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:a,target:t},e.type&&(r=u(r,e)),o=H(d),s=n?[r].concat(n):[r],i(o,function(e){r.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){Dt.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;o<s;o++)v(r)?y(r=t(this[o],e,n,i))&&(r=Ai(r)):Nt(r,t(this[o],e,n,i));return y(r)?r:this},Dt.prototype.bind=Dt.prototype.on,Dt.prototype.unbind=Dt.prototype.off}),Zt.prototype={put:function(t,e){this[Xt(t,this.nextUid)]=e},get:function(t){return this[Xt(t,this.nextUid)]},remove:function(t){var e=this[t=Xt(t,this.nextUid)];return delete this[t],e}};var kr=[function(){this.$get=[function(){return Zt}]}],Sr=/^([^\(]+?)=>/,Er=/^[^\(]*\(\s*([^\)]*)\)/m,Dr=/,/,_r=/^\s*(_?)(\S+?)\1\s*$/,Tr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pr=e("$injector");te.$$annotate=Kt;var Mr=e("$animate"),jr=1,Ar=function(){this.$get=f},Or=function(){var t=new Zt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(t,e,n){var r=!1;return e&&i(e=$(e)?e.split(" "):Vi(e)?e:[],function(e){e&&(r=!0,t[e]=n)}),r}function s(){i(e,function(e){var n=t.get(e);if(n){var r=re(e.attr("class")),o="",s="";i(n,function(t,e){t!==!!r[e]&&(t?o+=(o.length?" ":"")+e:s+=(s.length?" ":"")+e)}),i(e,function(t){o&&It(t,o),s&&Ft(t,s)}),t.remove(e)}}),e.length=0}function a(n,i,a){var l=t.get(n)||{},u=o(l,i,!0),c=o(l,a,!1);(u||c)&&(t.put(n,l),e.push(n),1===e.length&&r.$$postDigest(s))}return{enabled:f,on:f,off:f,pin:f,push:function(t,e,i,r){r&&r(),(i=i||{}).from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&a(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Fr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Mr("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter&&new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString())))throw Mr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=ie(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Ai(i),r=r&&Ai(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",oe(o))},move:function(n,i,r,o){return i=i&&Ai(i),r=r&&Ai(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",oe(o))},leave:function(e,n){return t.push(e,"leave",oe(n),function(){e.remove()})},addClass:function(e,n,i){return i=oe(i),i.addClass=ne(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=oe(i),i.removeClass=ne(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=oe(r),r.addClass=ne(r.addClass,n),r.removeClass=ne(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=oe(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=ne(o.tempClasses,r),t.push(e,"animate",o)}}}]}],Ir=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Nr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,r,o){function s(t){this.setHost(t);var e=n(),i=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=r[0];n&&n.hidden?i(t):e(t)},this._state=0}return s.chain=function(t,e){function n(){i!==t.length?t[i](function(t){!1!==t?(i++,n()):e(!1)}):e(!0)}var i=0;n()},s.all=function(t,e){function n(n){o=o&&n,++r===t.length&&e(o)}var r=0,o=!0;i(t,function(t){t.done(n)})},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(i(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},s}]},Rr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),a||l.complete(),a=!0}),l}function o(){s.addClass&&(e.addClass(s.addClass),s.addClass=null),s.removeClass&&(e.removeClass(s.removeClass),s.removeClass=null),s.to&&(e.css(s.to),s.to=null)}var s=i||{};s.$$prepared||(s=L(s)),s.cleanupStyles&&(s.from=s.to=null),s.from&&(e.css(s.from),s.from=null);var a,l=new n;return{start:r,end:r}}}]},Lr=e("$compile"),Hr=new ce;de.$inject=["$provide","$$sanitizeUriProvider"],he.prototype.isFirstChange=function(){return this.previousValue===Hr};var Wr=/^((?:x|data)[\:\-_])/i,Ur=e("$controller"),Br=/^(\S+)(\s+as\s+([\w$]+))?$/,Vr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Ai&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Yr="application/json",zr={"Content-Type":Yr+";charset=utf-8"},Gr=/^\[|^\{(?!\{)/,qr={"[":/]$/,"{":/}$/},Xr=/^\)\]\}',?\n/,Zr=e("$http"),Jr=function(t){return function(){throw Zr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},Qr=Ui.$interpolateMinErr=e("$interpolate");Qr.throwNoconcat=function(t){throw Qr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Qr.interr=function(t,e){return Qr("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Kr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,to={http:80,https:443,ftp:21},eo=e("$location"),no={$$html5:!1,$$replace:!1,absUrl:ze("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=Kr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:ze("$$protocol"),host:ze("$$host"),port:ze("$$port"),path:Ge("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if($(t)||x(t))t=t.toString(),this.$$search=K(t);else{if(!b(t))throw eo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");i(t=L(t,{}),function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ge("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Ye,Ve,Be],function(t){t.prototype=Object.create(no),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Be||!this.$$html5)throw eo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var io=e("$parse"),ro=Function.prototype.call,oo=Function.prototype.apply,so=Function.prototype.bind,ao=pt();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){ao[t]=!0});var lo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},uo=function(t){this.options=t};uo.prototype={constructor:uo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=ao[e],o=ao[n],s=ao[i];if(r||o||s){var a=s?i:o?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw io("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=_i(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else n+=lo[o]||o;r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var co=function(t,e){this.lexer=t,this.options=e};co.Program="Program",co.ExpressionStatement="ExpressionStatement",co.AssignmentExpression="AssignmentExpression",co.ConditionalExpression="ConditionalExpression",co.LogicalExpression="LogicalExpression",co.BinaryExpression="BinaryExpression",co.UnaryExpression="UnaryExpression",co.CallExpression="CallExpression",co.MemberExpression="MemberExpression",co.Identifier="Identifier",co.Literal="Literal",co.ArrayExpression="ArrayExpression",co.Property="Property",co.ObjectExpression="ObjectExpression",co.ThisExpression="ThisExpression",co.LocalsExpression="LocalsExpression",co.NGValueParameter="NGValueParameter",co.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:co.Program,body:t}},expressionStatement:function(){return{type:co.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:co.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:co.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:co.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:co.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:co.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=L(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:co.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:co.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:co.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:co.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:co.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.expression())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:co.Identifier,name:t.text}},constant:function(){return{type:co.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:co.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:co.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:co.ObjectExpression,properties:e}},throwError:function(t,e){throw io("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw io("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw io("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===n||s===i||s===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:co.ThisExpression},$locals:{type:co.LocalsExpression}}},dn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},on(r,n.$filter);var o,s="";if(this.stage="assign",o=ln(r)){this.state.computing="assign";var a=this.nextId();this.recurse(o,a),this.return_(a),s="fn.assign="+this.generateFunction("assign","s,v,l")}var l=sn(r.body);n.stage="inputs",i(l,function(t,e){var i="fn"+e;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(t,r),n.return_(r),n.state.inputs.push(i),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Ze,Qe,Ke,Je,tn,en,nn,t);return this.state=this.stage=void 0,c.literal=un(r),c.constant=cn(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return i(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return i(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,o,s){var a,l,u,c,d=this;if(r=r||f,!s&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,o,!0));switch(t.type){case co.Program:i(t.body,function(e,n){d.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case co.Literal:c=this.escape(t.value),this.assign(e,c),r(c);break;case co.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),c=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,c),r(c);break;case co.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){a=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),c="+"===t.operator?this.plus(a,l):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(l,0):"("+a+")"+t.operator+"("+l+")",this.assign(e,c),r(c);break;case co.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),r(e);break;case co.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),r(e);break;case co.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),Ze(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),function(){d.if_("inputs"===d.stage||"s",function(){o&&1!==o&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||fn(t.name))&&d.addEnsureSafeObject(e),r(e);break;case co.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,a,void 0,function(){d.if_(d.notNull(a),function(){o&&1!==o&&d.addEnsureSafeAssignContext(a),t.computed?(l=d.nextId(),d.recurse(t.property,l),d.getStringValue(l),d.addEnsureSafeMemberName(l),o&&1!==o&&d.if_(d.not(d.computedMember(a,l)),d.lazyAssign(d.computedMember(a,l),"{}")),c=d.ensureSafeObject(d.computedMember(a,l)),d.assign(e,c),n&&(n.computed=!0,n.name=l)):(Ze(t.property.name),o&&1!==o&&d.if_(d.not(d.nonComputedMember(a,t.property.name)),d.lazyAssign(d.nonComputedMember(a,t.property.name),"{}")),c=d.nonComputedMember(a,t.property.name),(d.state.expensiveChecks||fn(t.property.name))&&(c=d.ensureSafeObject(c)),d.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){d.assign(e,"undefined")}),r(e)},!!o);break;case co.CallExpression:e=e||this.nextId(),t.filter?(l=d.filter(t.callee.name),u=[],i(t.arguments,function(t){var e=d.nextId();d.recurse(t,e),u.push(e)}),c=l+"("+u.join(",")+")",d.assign(e,c),r(e)):(l=d.nextId(),a={},u=[],d.recurse(t.callee,l,a,function(){d.if_(d.notNull(l),function(){d.addEnsureSafeFunction(l),i(t.arguments,function(t){d.recurse(t,d.nextId(),void 0,function(t){u.push(d.ensureSafeObject(t))})}),a.name?(d.state.expensiveChecks||d.addEnsureSafeObject(a.context),c=d.member(a.context,a.name,a.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=d.ensureSafeObject(c),d.assign(e,c)},function(){d.assign(e,"undefined")}),r(e)}));break;case co.AssignmentExpression:if(l=this.nextId(),a={},!an(t.left))throw io("lval","Trying to assign a value to a non l-value");this.recurse(t.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(t.right,l),d.addEnsureSafeObject(d.member(a.context,a.name,a.computed)),d.addEnsureSafeAssignContext(a.context),c=d.member(a.context,a.name,a.computed)+t.operator+l,d.assign(e,c),r(e||c)})},1);break;case co.ArrayExpression:u=[],i(t.elements,function(t){d.recurse(t,d.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),r(c);break;case co.ObjectExpression:u=[],i(t.properties,function(t){d.recurse(t.value,d.nextId(),void 0,function(e){u.push(d.escape(t.key.type===co.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(e,c),r(c);break;case co.ThisExpression:this.assign(e,"s"),r("s");break;case co.LocalsExpression:this.assign(e,"l"),r("l");break;case co.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(e)?t+"."+e:t+'["'+e.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if($(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw io("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},hn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,on(r,n.$filter);var o,s;(o=ln(r))&&(s=this.recurse(o));var a,l=sn(r.body);l&&(a=[],i(l,function(t,e){var i=n.recurse(t);t.input=i,a.push(i),t.watchId=e}));var u=[];i(r.body,function(t){u.push(n.recurse(t.expression))});var c=0===r.body.length?f:1===r.body.length?u[0]:function(t,e){var n;return i(u,function(i){n=i(t,e)}),n};return s&&(c.assign=function(t,e,n){return s(t,n,e)}),a&&(c.inputs=a),c.literal=un(r),c.constant=cn(r),c},recurse:function(t,e,n){var r,o,s,a=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case co.Literal:return this.value(t.value,e);case co.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case co.BinaryExpression:case co.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case co.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case co.Identifier:return Ze(t.name,a.expression),a.identifier(t.name,a.expensiveChecks||fn(t.name),e,n,a.expression);case co.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(Ze(t.property.name,a.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,n,a.expression):this.nonComputedMember(r,o,a.expensiveChecks,e,n,a.expression);case co.CallExpression:return s=[],i(t.arguments,function(t){s.push(a.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,i,r){for(var a=[],l=0;l<s.length;++l)a.push(s[l](t,n,i,r));var u=o.apply(void 0,a,r);return e?{context:void 0,name:void 0,value:u}:u}:function(t,n,i,r){var l,u=o(t,n,i,r);if(null!=u.value){Qe(u.context,a.expression),Ke(u.value,a.expression);for(var c=[],d=0;d<s.length;++d)c.push(Qe(s[d](t,n,i,r),a.expression));l=Qe(u.value.apply(u.context,c),a.expression)}return e?{value:l}:l};case co.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,s){var l=r(t,n,i,s),u=o(t,n,i,s);return Qe(l.value,a.expression),tn(l.context),l.context[l.name]=u,e?{value:u}:u};case co.ArrayExpression:return s=[],i(t.elements,function(t){s.push(a.recurse(t))}),function(t,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,i,r));return e?{value:o}:o};case co.ObjectExpression:return s=[],i(t.properties,function(t){s.push({key:t.key.type===co.Identifier?t.key.name:""+t.key.value,value:a.recurse(t.value)})}),function(t,n,i,r){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,i,r);return e?{value:o}:o};case co.ThisExpression:return function(t){return e?{value:t}:t};case co.LocalsExpression:return function(t,n){return e?{value:n}:n};case co.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var s=t(n,i,r,o);return s=y(s)?+s:0,e?{value:s}:s}},"unary-":function(t,e){return function(n,i,r,o){var s=t(n,i,r,o);return s=y(s)?-s:0,e?{value:s}:s}},"unary!":function(t,e){return function(n,i,r,o){var s=!t(n,i,r,o);return e?{value:s}:s}},"binary+":function(t,e,n){return function(i,r,o,s){var a=nn(t(i,r,o,s),e(i,r,o,s));return n?{value:a}:a}},"binary-":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s),l=e(i,r,o,s),u=(y(a)?a:0)-(y(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)*e(i,r,o,s);return n?{value:a}:a}},"binary/":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)/e(i,r,o,s);return n?{value:a}:a}},"binary%":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)%e(i,r,o,s);return n?{value:a}:a}},"binary===":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)===e(i,r,o,s);return n?{value:a}:a}},"binary!==":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)!==e(i,r,o,s);return n?{value:a}:a}},"binary==":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)==e(i,r,o,s);return n?{value:a}:a}},"binary!=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)!=e(i,r,o,s);return n?{value:a}:a}},"binary<":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)<e(i,r,o,s);return n?{value:a}:a}},"binary>":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)>e(i,r,o,s);return n?{value:a}:a}},"binary<=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)<=e(i,r,o,s);return n?{value:a}:a}},"binary>=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)>=e(i,r,o,s);return n?{value:a}:a}},"binary&&":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)&&e(i,r,o,s);return n?{value:a}:a}},"binary||":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)||e(i,r,o,s);return n?{value:a}:a}},"ternary?:":function(t,e,n,i){return function(r,o,s,a){var l=t(r,o,s,a)?e(r,o,s,a):n(r,o,s,a);return i?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,i,r){return function(o,s,a,l){var u=s&&t in s?s:o;i&&1!==i&&u&&!u[t]&&(u[t]={});var c=u?u[t]:void 0;return e&&Qe(c,r),n?{context:u,name:t,value:c}:c}},computedMember:function(t,e,n,i,r){return function(o,s,a,l){var u,c,d=t(o,s,a,l);return null!=d&&(Ze(u=Je(u=e(o,s,a,l)),r),i&&1!==i&&(tn(d),d&&!d[u]&&(d[u]={})),Qe(c=d[u],r)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(t,e,n,i,r,o){return function(s,a,l,u){var c=t(s,a,l,u);r&&1!==r&&(tn(c),c&&!c[e]&&(c[e]={}));var d=null!=c?c[e]:void 0;return(n||fn(e))&&Qe(d,o),i?{context:c,name:e,value:d}:d}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var ho=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new co(t,n),this.astCompiler=n.csp?new hn(this.ast,e):new dn(this.ast,e)};ho.prototype={constructor:ho,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var fo=Object.prototype.valueOf,po=e("$sce"),go={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},mo=e("$compile"),vo=t.document.createElement("a"),yo=Pn(t.location.href);An.$inject=["$document"],Fn.$inject=["$provide"];var bo=22,wo=".",$o="0";Hn.$inject=["$locale"],Wn.$inject=["$locale"];var xo={yyyy:zn("FullYear",4,0,!1,!0),yy:zn("FullYear",2,0,!0,!0),y:zn("FullYear",1,0,!1,!0),MMMM:Gn("Month"),MMM:Gn("Month",!0),MM:zn("Month",2,1),M:zn("Month",1,1),LLLL:Gn("Month",!1,!0),dd:zn("Date",2),d:zn("Date",1),HH:zn("Hours",2),H:zn("Hours",1),hh:zn("Hours",2,-12),h:zn("Hours",1,-12),mm:zn("Minutes",2),m:zn("Minutes",1),ss:zn("Seconds",2),s:zn("Seconds",1),sss:zn("Milliseconds",3),EEEE:Gn("Day"),EEE:Gn("Day",!0),a:Qn,Z:qn,ww:Jn(2),w:Jn(1),G:Kn,GG:Kn,GGG:Kn,GGGG:ti},Co=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ko=/^\-?\d+$/;ei.$inject=["$locale"];var So=g(_i),Eo=g(Ti);ri.$inject=["$parse"];var Do=g({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Li.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),_o={};i($r,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=fe("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),_o[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(Cr,function(t,e){_o[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Si);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),i(["src","srcset","href"],function(t){var e=fe("ng-"+t);_o[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Li.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){e?(r.$set(s,e),ji&&o&&i.prop(o,r[s])):"href"===t&&r.$set(s,null)})}}}});var To={$addControl:f,$$renameControl:si,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Po="ng-submitted";ai.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Mo=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||f}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:ai,compile:function(n,r){n.addClass(fs).addClass(ds);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,n,r,s){var a=s[0];if(!("action"in r)){var l=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};lr(n[0],"submit",l),n.on("$destroy",function(){e(function(){ur(n[0],"submit",l)},0,!1)})}(s[1]||a.$$parentForm).$addControl(a);var c=o?i(a.$name):f;o&&(c(t,a),r.$observe(o,function(e){a.$name!==e&&(c(t,void 0),a.$$parentForm.$$renameControl(a,e),(c=i(a.$name))(t,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),c(t,void 0),u(a,To)})}}}}}]},jo=Mo(),Ao=Mo(!0),Oo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Fo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Io=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,No=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ro=/^(\d{4,})-(\d{2})-(\d{2})$/,Lo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ho=/^(\d{4,})-W(\d\d)$/,Wo=/^(\d{4,})-(\d\d)$/,Uo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Bo="keydown wheel mousedown",Vo=pt();i("date,datetime-local,month,time,week".split(","),function(t){Vo[t]=!0});var Yo={text:ui,date:fi("date",Ro,hi(Ro,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":fi("datetimelocal",Lo,hi(Lo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:fi("time",Uo,hi(Uo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:fi("week",Ho,di,"yyyy-Www"),month:fi("month",Wo,hi(Wo,["yyyy","MM"]),"yyyy-MM"),number:gi,url:mi,email:vi,radio:yi,checkbox:wi,hidden:f,button:f,submit:f,reset:f,file:f},zo=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Yo[_i(s.type)]||Yo.text)(r,o,s,a[0],e,t,n,i)}}}}],Go=/^(true|false|\d+)$/,qo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Go.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Xo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=v(t)?"":t})}}}}],Zo=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],Jo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){i.html(t.getTrustedHtml(o(e))||"")})}}}}],Qo=g({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Ko=$i("",!0),ts=$i("Odd",0),es=$i("Even",1),ns=oi({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),is=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],rs={},os={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=fe("ng-"+t);rs[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};os[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var ss=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,u;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),a={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=ft(a.clone),t.leave(u).then(function(){u=null}),a=null))})}}}],as=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ui.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,l,u,c){var d,h,f,p=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){h=null}),h=f,f=null)};i.$watch(o,function(o){var l=function(){!y(a)||a&&!i.$eval(a)||e()},h=++p;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&h===p){var e=i.$new();u.template=t;var a=c(e,function(t){g(),n.enter(t,null,r).then(l)});f=a,(d=e).$emit("$includeContentLoaded",o),i.$eval(s)}},function(){i.$$destroyed||h===p&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],ls=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(Li.call(i[0]).match(/SVG/))return i.empty(),void e(kt(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i});i.html(o.template),e(i.contents())(n)}}}],us=oi({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),cs=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var o=e.attr(n.$attr.ngList)||", ",s="false"!==n.ngTrim,a=s?zi(o):o,l=function(t){if(!v(t)){var e=[];return t&&i(t.split(a),function(t){t&&e.push(s?zi(t):t)}),e}};r.$parsers.push(l),r.$formatters.push(function(t){if(Vi(t))return t.join(o)}),r.$isEmpty=function(t){return!t||!t.length}}}},ds="ng-valid",hs="ng-invalid",fs="ng-pristine",ps="ng-dirty",gs="ng-pending",ms=e("ngModel"),vs=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,r,o,s,a,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(t),this.$$parentForm=To;var d,h=o(n.ngModel),p=h.assign,g=h,m=p,b=null,w=this;this.$$setOptions=function(t){if(w.$options=t,t&&t.getterSetter){var e=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");g=function(t){var n=h(t);return k(n)&&(n=e(t)),n},m=function(t,e){k(h(t))?i(t,{$$$p:e}):p(t,e)}}else if(!h.assign)throw ms("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,J(r))},this.$render=f,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){w.$isEmpty(t)?(s.removeClass(r,"ng-not-empty"),s.addClass(r,"ng-empty")):(s.removeClass(r,"ng-empty"),s.addClass(r,"ng-not-empty"))};var $=0;xi({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:s}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,s.removeClass(r,ps),s.addClass(r,fs)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,s.removeClass(r,fs),s.addClass(r,ps),w.$$parentForm.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,s.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,s.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){a.cancel(b),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!x(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,e=w.$$rawModelValue,n=w.$valid,i=w.$modelValue,r=w.$options&&w.$options.allowInvalid;w.$$runValidators(e,t,function(t){r||n===t||(w.$modelValue=t?e:void 0,w.$modelValue!==i&&w.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function r(t,e){s===$&&w.$setValidity(t,e)}function o(t){s===$&&n(t)}var s=++$;!function(){var t=w.$$parserName||"parse";return v(d)?(r(t,null),!0):(d||(i(w.$validators,function(t,e){r(e,null)}),i(w.$asyncValidators,function(t,e){r(e,null)})),r(t,d),d)}()?o(!1):function(){var n=!0;return i(w.$validators,function(i,o){var s=i(t,e);n=n&&s,r(o,s)}),!!n||(i(w.$asyncValidators,function(t,e){r(e,null)}),!1)}()?function(){var n=[],s=!0;i(w.$asyncValidators,function(i,o){var a=i(t,e);if(!j(a))throw ms("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);r(o,void 0),n.push(a.then(function(){r(o,!0)},function(){s=!1,r(o,!1)}))}),n.length?u.all(n).then(function(){o(s)},f):o(!0)}():o(!1)},this.$commitViewValue=function(){var t=w.$viewValue;a.cancel(b),(w.$$lastCommittedViewValue!==t||""===t&&w.$$hasNativeValidators)&&(w.$$updateEmptyClasses(t),w.$$lastCommittedViewValue=t,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){w.$modelValue!==r&&w.$$writeModelToScope()}var n=w.$$lastCommittedViewValue;if(d=!v(n)||void 0)for(var i=0;i<w.$parsers.length;i++)if(n=w.$parsers[i](n),v(n)){d=!1;break}x(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=g(t));var r=w.$modelValue,o=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=n,o&&(w.$modelValue=n,e()),w.$$runValidators(n,w.$$lastCommittedViewValue,function(t){o||(w.$modelValue=t?n:void 0,e())})},this.$$writeModelToScope=function(){m(t,w.$modelValue),i(w.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){w.$viewValue=t,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=w.$options;r&&y(r.debounce)&&(x(n=r.debounce)?i=n:x(n[e])?i=n[e]:x(n.default)&&(i=n.default)),a.cancel(b),i?b=a(function(){w.$commitViewValue()},i):l.$$phase?w.$commitViewValue():t.$apply(function(){w.$commitViewValue()})},t.$watch(function(){var e=g(t);if(e!==w.$modelValue&&(w.$modelValue===w.$modelValue||e===e)){w.$modelValue=w.$$rawModelValue=e,d=void 0;for(var n=w.$formatters,i=n.length,r=e;i--;)r=n[i](r);w.$viewValue!==r&&(w.$$updateEmptyClasses(r),w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(e,r,f))}return e})}],ys=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:vs,priority:1,compile:function(e){return e.addClass(fs).addClass("ng-untouched").addClass(ds),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],bs=/(\s+|^)default(\s+|$)/,ws=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=L(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=zi(this.$options.updateOn.replace(bs,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},$s=oi({terminal:!0,priority:1e3}),xs=e("ngOptions"),Cs=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ks=["$compile","$document","$parse",function(e,r,o){function s(t,e,i){function r(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function s(t){var e;if(!u&&n(t))e=t;else{e=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i)}return e}var a=t.match(Cs);if(!a)throw xs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,J(e));var l=a[5]||a[7],u=a[6],c=/ as /.test(a[0])&&a[1],d=a[9],h=o(a[2]?a[1]:l),f=c&&o(c)||h,p=d&&o(d),g=d?function(t,e){return p(i,e)}:function(t){return Xt(t)},m=function(t,e){return g(t,x(t,e))},v=o(a[2]||a[1]),y=o(a[3]||""),b=o(a[4]||""),w=o(a[8]),$={},x=u?function(t,e){return $[u]=e,$[l]=t,$}:function(t){return $[l]=t,$};return{trackBy:d,getTrackByValue:m,getWatchables:o(w,function(t){for(var e=[],n=s(t=t||[]),r=n.length,o=0;o<r;o++){var l=t===n?o:n[o],u=t[l],c=x(u,l),d=g(u,c);if(e.push(d),a[2]||a[1]){var h=v(i,c);e.push(h)}if(a[4]){var f=b(i,c);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},n=w(i)||[],o=s(n),a=o.length,l=0;l<a;l++){var u=n===o?l:o[l],c=x(n[u],u),h=f(i,c),p=g(h,c),$=new r(p,h,v(i,c),y(i,c),b(i,c));t.push($),e[p]=$}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return d?Ui.copy(t.viewValue):t.viewValue}}}}}function a(t,n,o,a){function c(t,e){var n=l.cloneNode(!1);e.appendChild(n),d(t,n)}function d(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function h(){var t=C&&p.readValue();if(C)for(var e=C.items.length-1;e>=0;e--){var i=C.items[e];Wt(i.group?i.element.parentNode:i.element)}C=k.getOptions();var r={};if($&&n.prepend(f),C.items.forEach(function(t){var e;y(t.group)?((e=r[t.group])||(e=u.cloneNode(!1),S.appendChild(e),e.label=t.group,r[t.group]=e),c(t,e)):c(t,S)}),n[0].appendChild(S),g.$render(),!g.$isEmpty(t)){var o=p.readValue();(k.trackBy||m?W(t,o):t===o)||(g.$setViewValue(o),g.$render())}}for(var f,p=a[0],g=a[1],m=o.multiple,v=0,b=n.children(),w=b.length;v<w;v++)if(""===b[v].value){f=b.eq(v);break}var $=!!f,x=Ai(l.cloneNode(!1));x.val("?");var C,k=s(o.ngOptions,n,t),S=r[0].createDocumentFragment(),E=function(){$||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)},D=function(){$||f.remove()},_=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},T=function(){x.remove()};m?(g.$isEmpty=function(t){return!t||0===t.length},p.writeValue=function(t){C.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=C.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},p.readValue=function(){var t=[];return i(n.val()||[],function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},k.trackBy&&t.$watchCollection(function(){if(Vi(g.$viewValue))return g.$viewValue.map(function(t){return k.getTrackByValue(t)})},function(){g.$render()})):(p.writeValue=function(t){var e=C.getOptionFromViewValue(t);e?(n[0].value!==e.selectValue&&(T(),D(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||$?(T(),E()):(D(),_())},p.readValue=function(){var t=C.selectValueMap[n.val()];return t&&!t.disabled?(D(),T(),C.getViewValueFromOption(t)):null},k.trackBy&&t.$watch(function(){return k.getTrackByValue(g.$viewValue)},function(){g.$render()})),$?(f.remove(),e(f)(t),f.removeClass("ng-scope")):f=Ai(l.cloneNode(!1)),n.empty(),h(),t.$watchCollection(k.getWatchables,h)}var l=t.document.createElement("option"),u=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:a}}}],Ss=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function u(t){a.text(t||"")}var c,d=l.count,h=l.$attr.when&&a.attr(l.$attr.when),p=l.offset||0,g=s.$eval(h)||{},m={},y=e.startSymbol(),b=e.endSymbol(),w=y+d+"-"+p+b,$=Ui.noop;i(l,function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+_i(n[2]);g[i]=a.attr(l.$attr[e])}}),i(g,function(t,n){m[n]=e(t.replace(r,w))}),s.$watch(d,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in g||(i=t.pluralCat(i-p)),i!==c&&!(r&&x(c)&&isNaN(c))){$();var o=m[i];v(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),$=f,u()):$=s.$watch(o,u),c=i}})}}}],Es=["$parse","$animate","$compile",function(t,r,o){var s=e("ngRepeat"),a=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},l=function(t){return t.clone[0]},u=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,c){var d=c.ngRepeat,h=o.$$createComment("end ngRepeat",d),f=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var p=f[1],g=f[2],m=f[3],v=f[4];if(!(f=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var y=f[3]||f[1],b=f[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var w,$,x,C,k={$id:Xt};return v?w=t(v):(x=function(t,e){return Xt(e)},C=function(t){return t}),function(t,e,o,c,f){w&&($=function(e,n,i){return b&&(k[b]=e),k[y]=n,k.$index=i,w(t,k)});var p=pt();t.$watchCollection(g,function(o){var c,g,v,w,k,S,E,D,_,T,P,M,j=e[0],A=pt();if(m&&(t[m]=o),n(o))_=o,D=$||x;else{D=$||C,_=[];for(var O in o)Di.call(o,O)&&"$"!==O.charAt(0)&&_.push(O)}for(w=_.length,P=new Array(w),c=0;c<w;c++)if(k=o===_?c:_[c],S=o[k],E=D(k,S,c),p[E])T=p[E],delete p[E],A[E]=T,P[c]=T;else{if(A[E])throw i(P,function(t){t&&t.scope&&(p[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,E,S);P[c]={id:E,scope:void 0,clone:void 0},A[E]=!0}for(var F in p){if(T=p[F],M=ft(T.clone),r.leave(M),M[0].parentNode)for(c=0,g=M.length;c<g;c++)M[c].$$NG_REMOVED=!0;T.scope.$destroy()}for(c=0;c<w;c++)if(k=o===_?c:_[c],S=o[k],(T=P[c]).scope){v=j;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);l(T)!=v&&r.move(ft(T.clone),null,j),j=u(T),a(T.scope,c,y,S,b,k,w)}else f(function(t,e){T.scope=e;var n=h.cloneNode(!1);t[t.length++]=n,r.enter(t,null,j),j=n,T.clone=t,A[T.id]=T,a(T.scope,c,y,S,b,k,w)});p=A})}}}}],Ds=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],_s=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ts=oi(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Ps=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,s){var a=o.ngSwitch||o.on,l=[],u=[],c=[],d=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var r,o;for(r=0,o=c.length;r<o;++r)t.cancel(c[r]);for(c.length=0,r=0,o=d.length;r<o;++r){var a=ft(u[r].clone);d[r].$destroy(),(c[r]=t.leave(a)).then(h(c,r))}u.length=0,d.length=0,(l=s.cases["!"+n]||s.cases["?"])&&i(l,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var s={clone:i};u.push(s),t.enter(i,o.parent(),o)})})})}}}],Ms=oi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),js=oi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),As=e("ngTransclude"),Os=oi({restrict:"EAC",link:function(t,e,n,i,r){function o(t){t.length&&(e.empty(),e.append(t))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!r)throw As("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(e));r(o,null,n.ngTransclude||n.ngTranscludeSlot)}}),Fs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Is={$setViewValue:f,$render:f},Ns=["$element","$scope",function(e,n){var i=this,r=new Zt;i.ngModelCtrl=Is,i.unknownOption=Ai(t.document.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Xt(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=f}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(t,e){if(e[0].nodeType!==nr){dt(t,'"option value"'),""===t&&(i.emptyOption=e);var n=r.get(t)||0;r.put(t,n+1),i.ngModelCtrl.$render(),ki(e)}},i.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.remove(t),""===t&&(i.emptyOption=void 0)):r.put(t,e-1))},i.hasOption=function(t){return!!r.get(t)},i.registerOption=function(t,e,n,r,o){if(r){var s;n.$observe("value",function(t){y(s)&&i.removeOption(s),s=t,i.addOption(t,e)})}else o?t.$watch(o,function(t,r){n.$set("value",t),r!==t&&i.removeOption(r),i.addOption(t,e)}):i.addOption(n.value,e);e.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Rs=function(){function t(t,e,n,r){var o=r[1];if(o){var s=r[0];if(s.ngModelCtrl=o,e.on("change",function(){t.$apply(function(){o.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return i(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Zt(t);i(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var a,l=NaN;t.$watch(function(){l!==o.$viewValue||W(a,o.$viewValue)||(a=H(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ns,priority:1,link:{pre:t,post:e}}},Ls=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(y(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var o=e.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.registerOption(t,e,n,i,r)}}}}],Hs=g({restrict:"E",terminal:!1}),Ws=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Us=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if($(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,J(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||v(o)||o.test(e)}}}}},Bs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=d(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},Vs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=d(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var e;if(!Ki){var n=Xi();(Oi=v(n)?t.jQuery:n?t[n]:void 0)&&Oi.fn.on?(Ai=Oi,u(Oi.fn,{scope:wr.scope,isolateScope:wr.isolateScope,controller:wr.controller,injector:wr.injector,inheritedData:wr.inheritedData}),e=Oi.cleanData,Oi.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)(n=Oi._data(i,"events"))&&n.$destroy&&Oi(i).triggerHandler("$destroy");e(t)}):Ai=Dt,Ui.element=Ai,Ki=!0}}(),function(n){u(n,{bootstrap:ot,copy:L,extend:u,merge:c,equals:W,element:Ai,forEach:i,injector:te,noop:f,bind:V,toJson:z,fromJson:G,identity:p,isUndefined:v,isDefined:y,isString:$,isFunction:k,isObject:b,isNumber:x,isElement:F,isArray:Vi,version:or,isDate:C,lowercase:_i,uppercase:Ti,callbacks:{counter:0},getTestability:at,$$minErr:e,$$csp:qi,reloadWithDebugInfo:st}),(Fi=gt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:$n}),t.provider("$compile",de).directive({a:Do,input:zo,textarea:zo,form:jo,script:Fs,select:Rs,style:Hs,option:Ls,ngBind:Xo,ngBindHtml:Jo,ngBindTemplate:Zo,ngClass:Ko,ngClassEven:es,ngClassOdd:ts,ngCloak:ns,ngController:is,ngForm:Ao,ngHide:_s,ngIf:ss,ngInclude:as,ngInit:us,ngNonBindable:$s,ngPluralize:Ss,ngRepeat:Es,ngShow:Ds,ngStyle:Ts,ngSwitch:Ps,ngSwitchWhen:Ms,ngSwitchDefault:js,ngOptions:ks,ngTransclude:Os,ngModel:ys,ngList:cs,ngChange:Qo,pattern:Us,ngPattern:Us,required:Ws,ngRequired:Ws,minlength:Vs,ngMinlength:Vs,maxlength:Bs,ngMaxlength:Bs,ngValue:qo,ngModelOptions:ws}).directive({ngInclude:ls}).directive(_o).directive(rs),t.provider({$anchorScroll:ee,$animate:Fr,$animateCss:Rr,$$animateJs:Ar,$$animateQueue:Or,$$AnimateRunner:Nr,$$animateAsyncRun:Ir,$browser:ae,$cacheFactory:le,$controller:ve,$document:ye,$exceptionHandler:be,$filter:Fn,$$forceReflow:Vr,$interpolate:Ae,$interval:Oe,$http:Te,$httpParamSerializer:$e,$httpParamSerializerJQLike:xe,$httpBackend:Me,$xhrFactory:Pe,$location:qe,$log:Xe,$parse:gn,$rootScope:wn,$q:mn,$$q:vn,$sce:Sn,$sceDelegate:kn,$sniffer:En,$templateCache:ue,$templateRequest:Dn,$$testability:_n,$timeout:Tn,$window:jn,$$rAF:bn,$$jqLite:qt,$$HashMap:kr,$$cookieReader:On})}])}(Ui),Ui.module("ngLocale",[],["$provide",function(t){function e(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i);return{v:i,f:(t*r|0)%r}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),Ai(t.document).ready(function(){rt(t.document,ot)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return yi.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){var e;for(e in t)return!1;return!0}function r(t){return void 0===t}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return ve(t,e,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(t){return null==t._pf&&(t._pf=d()),t._pf}function f(t){if(null==t._isValid){var e=h(t),n=wi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function p(t){var e=c(NaN);return null!=t?u(h(e),t):h(e).userInvalidated=!0,e}function g(t,e){var n,i,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=h(e)),r(e._locale)||(t._locale=e._locale),$i.length>0)for(n=0;n<$i.length;n++)i=$i[n],o=e[i],r(o)||(t[i]=o);return t}function m(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===xi&&(xi=!0,t.updateOffset(this),xi=!1)}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function b(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function w(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&b(t[i])!==b(e[i]))&&s++;return s+o}function $(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,n){var i=!0;return u(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){r+="\n["+s+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}$(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function C(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Ci[e]||($(n),Ci[e]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],k(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function E(t,e){var i,r=u({},t);for(i in e)l(e,i)&&(n(t[i])&&n(e[i])?(r[i]={},u(r[i],t[i]),u(r[i],e[i])):null!=e[i]?r[i]=e[i]:delete r[i]);for(i in t)l(t,i)&&!l(e,i)&&n(t[i])&&(r[i]=u({},r[i]));return r}function D(t){null!=t&&this.set(t)}function _(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return k(i)?i.call(e,n):i}function T(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function P(){return this._invalidDate}function M(t){return this._ordinal.replace("%d",t)}function j(t,e,n,i){var r=this._relativeTime[n];return k(r)?r(t,e,n,i):r.replace(/%d/i,t)}function A(t,e){var n=this._relativeTime[t>0?"future":"past"];return k(n)?n(e):n.replace(/%s/i,e)}function O(t,e){var n=t.toLowerCase();Mi[n]=Mi[n+"s"]=Mi[e]=t}function F(t){return"string"==typeof t?Mi[t]||Mi[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)l(t,n)&&(e=F(n))&&(i[e]=t[n]);return i}function N(t,e){ji[t]=e}function R(t){var e=[];for(var n in t)e.push({unit:n,priority:ji[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function L(e,n){return function(i){return null!=i?(W(this,e,i),t.updateOffset(this,n),this):H(this,e)}}function H(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function U(t){return t=F(t),k(this[t])?this[t]():this}function B(t,e){if("object"==typeof t)for(var n=R(t=I(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(t=F(t),k(this[t]))return this[t](e);return this}function V(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Ii[t]=r),e&&(Ii[e[0]]=function(){return V(r.apply(this,arguments),e[1],e[2])}),n&&(Ii[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,i=t.match(Ai);for(e=0,n=i.length;e<n;e++)Ii[i[e]]?i[e]=Ii[i[e]]:i[e]=z(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=k(i[r])?i[r].call(e,t):i[r];return o}}function q(t,e){return t.isValid()?(e=X(e,t.localeData()),Fi[e]=Fi[e]||G(e),Fi[e](t)):t.localeData().invalidDate()}function X(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Oi.lastIndex=0;i>=0&&Oi.test(t);)t=t.replace(Oi,n),Oi.lastIndex=0,i-=1;return t}function Z(t,e,n){tr[t]=k(e)?e:function(t,i){return t&&n?n:e}}function J(t,e){return l(tr,t)?tr[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return K(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),o(e)&&(i=function(t,n){n[e]=b(t)}),n=0;n<t.length;n++)er[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&l(er,t)&&er[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,n){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||hr).test(n)?"format":"standalone"][t.month()]:e(this._months)?this._months:this._months.standalone}function ot(t,n){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[hr.test(n)?"format":"standalone"][t.month()]:e(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=dr.call(this._shortMonthsParse,s),-1!==r?r:null):(r=dr.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===e?(r=dr.call(this._shortMonthsParse,s),-1!==r?r:(r=dr.call(this._longMonthsParse,s),-1!==r?r:null)):(r=dr.call(this._longMonthsParse,s),-1!==r?r:(r=dr.call(this._shortMonthsParse,s),-1!==r?r:null))}function at(t,e,n){var i,r,o;if(this._monthsParseExact)return st.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),!o(e))return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ut(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):H(this,"Month")}function ct(){return it(this.year(),this.month())}function dt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=gr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=mr),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ft(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=c([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=K(i[e]),r[e]=K(r[e]);for(e=0;e<24;e++)o[e]=K(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function pt(t){return gt(t)?366:365}function gt(t){return t%4==0&&t%100!=0||t%400==0}function mt(){return gt(this.year())}function vt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function yt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t,e,n){var i=7+e-n;return-((7+yt(t,0,i).getUTCDay()-e)%7)+i-1}function wt(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+bt(t,i,r);return a<=0?(o=t-1,s=pt(o)+a):a>pt(t)?(o=t+1,s=a-pt(t)):(o=t,s=a),{year:o,dayOfYear:s}}function $t(t,e,n){var i,r,o=bt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?(r=t.year()-1,i=s+xt(r,e,n)):s>xt(t.year(),e,n)?(i=s-xt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function xt(t,e,n){var i=bt(t,e,n),r=bt(t+1,e,n);return(pt(t)-i+r)/7}function Ct(t){return $t(t,this._week.dow,this._week.doy).week}function kt(){return this._week.dow}function St(){return this._week.doy}function Et(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Dt(t){var e=$t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function _t(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Tt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pt(t,n){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][t.day()]:e(this._weekdays)?this._weekdays:this._weekdays.standalone}function Mt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function jt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function At(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=dr.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===e?(r=dr.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=dr.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===e?(r=dr.call(this._weekdaysParse,s),-1!==r?r:(r=dr.call(this._shortWeekdaysParse,s),-1!==r?r:(r=dr.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===e?(r=dr.call(this._shortWeekdaysParse,s),-1!==r?r:(r=dr.call(this._weekdaysParse,s),-1!==r?r:(r=dr.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=dr.call(this._minWeekdaysParse,s),-1!==r?r:(r=dr.call(this._weekdaysParse,s),-1!==r?r:(r=dr.call(this._shortWeekdaysParse,s),-1!==r?r:null)))}function Ot(t,e,n){var i,r,o;if(this._weekdaysParseExact)return At.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ft(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=_t(t,this.localeData()),this.add(t-e,"d")):e}function It(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Nt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Tt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Rt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=xr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Lt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Cr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ht(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],u=[];for(e=0;e<7;e++)n=c([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)a[e]=K(a[e]),l[e]=K(l[e]),u[e]=K(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ut(){return this.hours()%12||12}function Bt(){return this.hours()||24}function Vt(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function zt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Gt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function qt(t){return t?t.toLowerCase().replace("_","-"):t}function Xt(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=qt(t[o]).split("-")).length,n=(n=qt(t[o+1]))?n.split("-"):null;e>0;){if(i=Zt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(r,n,!0)>=e-1)break;e--}o++}return null}function Zt(t){var e=null;if(!Tr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Sr._abbr,require("./locale/"+t),Jt(e)}catch(t){}return Tr[t]}function Jt(t,e){var n;return t&&(n=r(e)?te(t):Qt(t,e))&&(Sr=n),Sr._abbr}function Qt(t,e){if(null!==e){var n=_r;if(e.abbr=t,null!=Tr[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Tr[t]._config;else if(null!=e.parentLocale){if(null==Tr[e.parentLocale])return Pr[e.parentLocale]||(Pr[e.parentLocale]=[]),Pr[e.parentLocale].push({name:t,config:e}),null;n=Tr[e.parentLocale]._config}return Tr[t]=new D(E(n,e)),Pr[t]&&Pr[t].forEach(function(t){Qt(t.name,t.config)}),Jt(t),Tr[t]}return delete Tr[t],null}function Kt(t,e){if(null!=e){var n,i=_r;null!=Tr[t]&&(i=Tr[t]._config),(n=new D(e=E(i,e))).parentLocale=Tr[t],Tr[t]=n,Jt(t)}else null!=Tr[t]&&(null!=Tr[t].parentLocale?Tr[t]=Tr[t].parentLocale:null!=Tr[t]&&delete Tr[t]);return Tr[t]}function te(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Sr;if(!e(t)){if(n=Zt(t))return n;t=[t]}return Xt(t)}function ee(){return Ei(Tr)}function ne(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[ir]<0||n[ir]>11?ir:n[rr]<1||n[rr]>it(n[nr],n[ir])?rr:n[or]<0||n[or]>24||24===n[or]&&(0!==n[sr]||0!==n[ar]||0!==n[lr])?or:n[sr]<0||n[sr]>59?sr:n[ar]<0||n[ar]>59?ar:n[lr]<0||n[lr]>999?lr:-1,h(t)._overflowDayOfYear&&(e<nr||e>rr)&&(e=rr),h(t)._overflowWeeks&&-1===e&&(e=ur),h(t)._overflowWeekday&&-1===e&&(e=cr),h(t).overflow=e),t}function ie(t){var e,n,i,r,o,s,a=t._i,l=Mr.exec(a)||jr.exec(a);if(l){for(h(t).iso=!0,e=0,n=Or.length;e<n;e++)if(Or[e][1].exec(l[1])){r=Or[e][0],i=!1!==Or[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Fr.length;e<n;e++)if(Fr[e][1].exec(l[3])){o=(l[2]||" ")+Fr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Ar.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),ce(t)}else t._isValid=!1}function re(t){var e,n,i,r,o,s,a,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Nr.exec(e)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",r="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==c)return h(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:0===l?a=" +0000":(l="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12,a=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:a=u[n[5]];break;default:a=u[" GMT"]}n[5]=a,t._i=n.splice(1).join(""),s=" ZZ",t._f=i+r+o+s,ce(t),h(t).rfc2822=!0}else t._isValid=!1}function oe(e){var n=Ir.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(ie(e),void(!1===e._isValid&&(delete e._isValid,re(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))))}function se(t,e,n){return null!=t?t:null!=e?e:n}function ae(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function le(t){var e,n,i,r,o=[];if(!t._d){for(i=ae(t),t._w&&null==t._a[rr]&&null==t._a[ir]&&ue(t),null!=t._dayOfYear&&(r=se(t._a[nr],i[nr]),(t._dayOfYear>pt(r)||0===t._dayOfYear)&&(h(t)._overflowDayOfYear=!0),n=yt(r,0,t._dayOfYear),t._a[ir]=n.getUTCMonth(),t._a[rr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[or]&&0===t._a[sr]&&0===t._a[ar]&&0===t._a[lr]&&(t._nextDay=!0,t._a[or]=0),t._d=(t._useUTC?yt:vt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[or]=24)}}function ue(t){var e,n,i,r,o,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,n=se(e.GG,t._a[nr],$t(ye(),1,4).year),i=se(e.W,1),((r=se(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var u=$t(ye(),o,s);n=se(e.gg,t._a[nr],u.year),i=se(e.w,u.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>xt(n,o,s)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(a=wt(n,i,r,o,s),t._a[nr]=a.year,t._dayOfYear=a.dayOfYear)}function ce(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],h(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,u=0;for(r=X(e._f,e._locale).match(Ai)||[],n=0;n<r.length;n++)o=r[n],(i=(a.match(J(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(i))).length>0&&h(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Ii[o]?(i?h(e).empty=!1:h(e).unusedTokens.push(o),nt(o,i,e)):e._strict&&!i&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-u,a.length>0&&h(e).unusedInput.push(a),e._a[or]<=12&&!0===h(e).bigHour&&e._a[or]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[or]=de(e._locale,e._a[or],e._meridiem),le(e),ne(e)}else re(e);else ie(e)}function de(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function he(t){var e,n,i,r,o;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ce(e),f(e)&&(o+=h(e).charsLeftOver,o+=10*h(e).unusedTokens.length,h(e).score=o,(null==i||o<i)&&(i=o,n=e));u(t,n||e)}function fe(t){if(!t._d){var e=I(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function pe(t){var e=new m(ne(ge(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ge(t){var n=t._i,i=t._f;return t._locale=t._locale||te(t._l),null===n||void 0===i&&""===n?p({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),v(n)?new m(ne(n)):(s(n)?t._d=n:e(i)?he(t):i?ce(t):me(t),f(t)||(t._d=null),t))}function me(i){var l=i._i;r(l)?i._d=new Date(t.now()):s(l)?i._d=new Date(l.valueOf()):"string"==typeof l?oe(i):e(l)?(i._a=a(l.slice(0),function(t){return parseInt(t,10)}),le(i)):n(l)?fe(i):o(l)?i._d=new Date(l):t.createFromInputFallback(i)}function ve(t,r,o,s,a){var l={};return!0!==o&&!1!==o||(s=o,o=void 0),(n(t)&&i(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=o,l._i=t,l._f=r,l._strict=s,pe(l)}function ye(t,e,n,i){return ve(t,e,n,i,!1)}function be(t,n){var i,r;if(1===n.length&&e(n[0])&&(n=n[0]),!n.length)return ye();for(i=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][t](i)||(i=n[r]);return i}function we(){return be("isBefore",[].slice.call(arguments,0))}function $e(){return be("isAfter",[].slice.call(arguments,0))}function xe(t){for(var e in t)if(-1===Wr.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Wr.length;++i)if(t[Wr[i]]){if(n)return!1;parseFloat(t[Wr[i]])!==b(t[Wr[i]])&&(n=!0)}return!0}function Ce(){return this._isValid}function ke(){return Be(NaN)}function Se(t){var e=I(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=xe(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=te(),this._bubble()}function Ee(t){return t instanceof Se}function De(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function _e(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+V(~~(t/60),2)+e+V(~~t%60,2)})}function Te(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Ur)||["-",0,0],r=60*i[1]+b(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Pe(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(e)||s(e)?e.valueOf():ye(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):ye(e).local()}function Me(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function je(e,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Te(Ji,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(r=Me(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?qe(this,Be(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Me(this)}function Ae(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Oe(t){return this.utcOffset(0,t)}function Fe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Me(this),"m")),this}function Ie(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Te(Zi,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ne(t){return!!this.isValid()&&(t=t?ye(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Re(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Le(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),(t=ge(t))._a){var e=t._isUTC?c(t._a):ye(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function He(){return!!this.isValid()&&!this._isUTC}function We(){return!!this.isValid()&&this._isUTC}function Ue(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Be(t,e){var n,i,r,s=t,a=null;return Ee(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(s={},e?s[e]=t:s.milliseconds=t):(a=Br.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:b(a[rr])*n,h:b(a[or])*n,m:b(a[sr])*n,s:b(a[ar])*n,ms:b(De(1e3*a[lr]))*n}):(a=Vr.exec(t))?(n="-"===a[1]?-1:1,s={y:Ve(a[2],n),M:Ve(a[3],n),w:Ve(a[4],n),d:Ve(a[5],n),h:Ve(a[6],n),m:Ve(a[7],n),s:Ve(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=ze(ye(s.from),ye(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new Se(s),Ee(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function Ve(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ye(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ze(t,e){var n;return t.isValid()&&e.isValid()?(e=Pe(e,t),t.isBefore(e)?n=Ye(t,e):(n=Ye(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ge(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Be(n,i),qe(this,r,t),this}}function qe(e,n,i,r){var o=n._milliseconds,s=De(n._days),a=De(n._months);e.isValid()&&(r=null==r||r,o&&e._d.setTime(e._d.valueOf()+o*i),s&&W(e,"Date",H(e,"Date")+s*i),a&&lt(e,H(e,"Month")+a*i),r&&t.updateOffset(e,s||a))}function Xe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ze(e,n){var i=e||ye(),r=Pe(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&(k(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,ye(i)))}function Je(){return new m(this)}function Qe(t,e){var n=v(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&(e=F(r(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ke(t,e){var n=v(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&(e=F(r(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function tn(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function en(t,e){var n,i=v(t)?t:ye(t);return!(!this.isValid()||!i.isValid())&&(e=F(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function nn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function rn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function on(t,e,n){var i,r,o,s;return this.isValid()?(i=Pe(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=F(e),"year"===e||"month"===e||"quarter"===e?(s=sn(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:y(s)):NaN):NaN}function sn(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function an(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ln(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):k(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function un(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)}function cn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=q(this,e);return this.localeData().postformat(n)}function dn(t,e){return this.isValid()&&(v(t)&&t.isValid()||ye(t).isValid())?Be({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function hn(t){return this.from(ye(),t)}function fn(t,e){return this.isValid()&&(v(t)&&t.isValid()||ye(t).isValid())?Be({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pn(t){return this.to(ye(),t)}function gn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=te(t))&&(this._locale=e),this)}function mn(){return this._locale}function vn(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function yn(t){return t=F(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function bn(){return this._d.valueOf()-6e4*(this._offset||0)}function wn(){return Math.floor(this.valueOf()/1e3)}function $n(){return new Date(this.valueOf())}function xn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Cn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function kn(){return this.isValid()?this.toISOString():null}function Sn(){return f(this)}function En(){return u({},h(this))}function Dn(){return h(this).overflow}function _n(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tn(t,e){Y(0,[t,t.length],0,e)}function Pn(t){return On.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Mn(t){return On.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function jn(){return xt(this.year(),1,4)}function An(){var t=this.localeData()._week;return xt(this.year(),t.dow,t.doy)}function On(t,e,n,i,r){var o;return null==t?$t(this,i,r).year:(o=xt(t,i,r),e>o&&(e=o),Fn.call(this,t,e,n,i,r))}function Fn(t,e,n,i,r){var o=wt(t,e,n,i,r),s=yt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function In(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Nn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Rn(t,e){e[lr]=b(1e3*("0."+t))}function Ln(){return this._isUTC?"UTC":""}function Hn(){return this._isUTC?"Coordinated Universal Time":""}function Wn(t){return ye(1e3*t)}function Un(){return ye.apply(null,arguments).parseZone()}function Bn(t){return t}function Vn(t,e,n,i){var r=te(),o=c().set(i,e);return r[n](o,t)}function Yn(t,e,n){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return Vn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Vn(t,i,n,"month");return r}function zn(t,e,n,i){"boolean"==typeof t?(o(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,o(e)&&(n=e,e=void 0),e=e||"");var r=te(),s=t?r._week.dow:0;if(null!=n)return Vn(e,(n+s)%7,i,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Vn(e,(a+s)%7,i,"day");return l}function Gn(t,e){return Yn(t,e,"months")}function qn(t,e){return Yn(t,e,"monthsShort")}function Xn(t,e,n){return zn(t,e,n,"weekdays")}function Zn(t,e,n){return zn(t,e,n,"weekdaysShort")}function Jn(t,e,n){return zn(t,e,n,"weekdaysMin")}function Qn(){var t=this._data;return this._milliseconds=eo(this._milliseconds),this._days=eo(this._days),this._months=eo(this._months),t.milliseconds=eo(t.milliseconds),t.seconds=eo(t.seconds),t.minutes=eo(t.minutes),t.hours=eo(t.hours),t.months=eo(t.months),t.years=eo(t.years),this}function Kn(t,e,n,i){var r=Be(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function ti(t,e){return Kn(this,t,e,1)}function ei(t,e){return Kn(this,t,e,-1)}function ni(t){return t<0?Math.floor(t):Math.ceil(t)}function ii(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*ni(oi(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=y(o/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,n=y(e/60),l.hours=n%24,s+=y(n/24),r=y(ri(s)),a+=r,s-=ni(oi(r)),i=y(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function ri(t){return 4800*t/146097}function oi(t){return 146097*t/4800}function si(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=F(t))||"year"===t)return e=this._days+i/864e5,n=this._months+ri(e),"month"===t?n:n/12;switch(e=this._days+Math.round(oi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ai(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function li(t){return function(){return this.as(t)}}function ui(t){return t=F(t),this.isValid()?this[t+"s"]():NaN}function ci(t){return function(){return this.isValid()?this._data[t]:NaN}}function di(){return y(this.days()/7)}function hi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function fi(t,e,n){var i=Be(t).abs(),r=yo(i.as("s")),o=yo(i.as("m")),s=yo(i.as("h")),a=yo(i.as("d")),l=yo(i.as("M")),u=yo(i.as("y")),c=r<=bo.ss&&["s",r]||r<bo.s&&["ss",r]||o<=1&&["m"]||o<bo.m&&["mm",o]||s<=1&&["h"]||s<bo.h&&["hh",s]||a<=1&&["d"]||a<bo.d&&["dd",a]||l<=1&&["M"]||l<bo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,hi.apply(null,c)}function pi(t){return void 0===t?yo:"function"==typeof t&&(yo=t,!0)}function gi(t,e){return void 0!==bo[t]&&(void 0===e?bo[t]:(bo[t]=e,"s"===t&&(bo.ss=e-1),!0))}function mi(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=fi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function vi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=wo(this._milliseconds)/1e3,r=wo(this._days),o=wo(this._months);e=y((t=y(i/60))/60),i%=60,t%=60;var s=n=y(o/12),a=o%=12,l=r,u=e,c=t,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var yi,bi,wi=bi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},$i=t.momentProperties=[],xi=!1,Ci={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var ki,Si,Ei=ki=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n},Di={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},_i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ti=/\d{1,2}/,Pi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Mi={},ji={},Ai=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fi={},Ii={},Ni=/\d/,Ri=/\d\d/,Li=/\d{3}/,Hi=/\d{4}/,Wi=/[+-]?\d{6}/,Ui=/\d\d?/,Bi=/\d\d\d\d?/,Vi=/\d\d\d\d\d\d?/,Yi=/\d{1,3}/,zi=/\d{1,4}/,Gi=/[+-]?\d{1,6}/,qi=/\d+/,Xi=/[+-]?\d+/,Zi=/Z|[+-]\d\d:?\d\d/gi,Ji=/Z|[+-]\d\d(?::?\d\d)?/gi,Qi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,tr={},er={},nr=0,ir=1,rr=2,or=3,sr=4,ar=5,lr=6,ur=7,cr=8,dr=Si=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),O("month","M"),N("month",8),Z("M",Ui),Z("MM",Ui,Ri),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[ir]=b(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ir]=r:h(n).invalidMonth=t});var hr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gr=Ki,mr=Ki;Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),O("year","y"),N("year",1),Z("Y",Xi),Z("YY",Ui,Ri),Z("YYYY",zi,Hi),Z("YYYYY",Gi,Wi),Z("YYYYYY",Gi,Wi),tt(["YYYYY","YYYYYY"],nr),tt("YYYY",function(e,n){n[nr]=2===e.length?t.parseTwoDigitYear(e):b(e)}),tt("YY",function(e,n){n[nr]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[nr]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var vr=L("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),N("week",5),N("isoWeek",5),Z("w",Ui),Z("ww",Ui,Ri),Z("W",Ui),Z("WW",Ui,Ri),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=b(t)});var yr={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),Z("d",Ui),Z("e",Ui),Z("E",Ui),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:h(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=b(t)});var br="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$r="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xr=Ki,Cr=Ki,kr=Ki;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Ut),Y("k",["kk",2],0,Bt),Y("hmm",0,0,function(){return""+Ut.apply(this)+V(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Ut.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Vt("a",!0),Vt("A",!1),O("hour","h"),N("hour",13),Z("a",Yt),Z("A",Yt),Z("H",Ui),Z("h",Ui),Z("k",Ui),Z("HH",Ui,Ri),Z("hh",Ui,Ri),Z("kk",Ui,Ri),Z("hmm",Bi),Z("hmmss",Vi),Z("Hmm",Bi),Z("Hmmss",Vi),tt(["H","HH"],or),tt(["k","kk"],function(t,e,n){var i=b(t);e[or]=24===i?0:i}),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[or]=b(t),h(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[or]=b(t.substr(0,i)),e[sr]=b(t.substr(i)),h(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[or]=b(t.substr(0,i)),e[sr]=b(t.substr(i,2)),e[ar]=b(t.substr(r)),h(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[or]=b(t.substr(0,i)),e[sr]=b(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[or]=b(t.substr(0,i)),e[sr]=b(t.substr(i,2)),e[ar]=b(t.substr(r))});var Sr,Er=/[ap]\.?m?\.?/i,Dr=L("Hours",!0),_r={calendar:Di,longDateFormat:_i,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Ti,relativeTime:Pi,months:fr,monthsShort:pr,week:yr,weekdays:br,weekdaysMin:$r,weekdaysShort:wr,meridiemParse:Er},Tr={},Pr={},Mr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ar=/Z|[+-]\d\d(?::?\d\d)?/,Or=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ir=/^\/?Date\((\-?\d+)/i,Nr=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Rr=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Lr=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Hr=function(){return Date.now?Date.now():+new Date},Wr=["year","quarter","month","week","day","hour","minute","second","millisecond"];_e("Z",":"),_e("ZZ",""),Z("Z",Ji),Z("ZZ",Ji),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Te(Ji,t)});var Ur=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Br=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Be.fn=Se.prototype,Be.invalid=ke;var Yr=Ge(1,"add"),zr=Ge(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Gr=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),Z("G",Xi),Z("g",Xi),Z("GG",Ui,Ri),Z("gg",Ui,Ri),Z("GGGG",zi,Hi),Z("gggg",zi,Hi),Z("GGGGG",Gi,Wi),Z("ggggg",Gi,Wi),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=b(t)}),et(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),O("quarter","Q"),N("quarter",7),Z("Q",Ni),tt("Q",function(t,e){e[ir]=3*(b(t)-1)}),Y("D",["DD",2],"Do","date"),O("date","D"),N("date",9),Z("D",Ui),Z("DD",Ui,Ri),Z("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),tt(["D","DD"],rr),tt("Do",function(t,e){e[rr]=b(t.match(Ui)[0],10)});var qr=L("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),N("dayOfYear",4),Z("DDD",Yi),Z("DDDD",Li),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=b(t)}),Y("m",["mm",2],0,"minute"),O("minute","m"),N("minute",14),Z("m",Ui),Z("mm",Ui,Ri),tt(["m","mm"],sr);var Xr=L("Minutes",!1);Y("s",["ss",2],0,"second"),O("second","s"),N("second",15),Z("s",Ui),Z("ss",Ui,Ri),tt(["s","ss"],ar);var Zr=L("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),N("millisecond",16),Z("S",Yi,Ni),Z("SS",Yi,Ri),Z("SSS",Yi,Li);var Jr;for(Jr="SSSS";Jr.length<=9;Jr+="S")Z(Jr,qi);for(Jr="S";Jr.length<=9;Jr+="S")tt(Jr,Rn);var Qr=L("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Kr=m.prototype;Kr.add=Yr,Kr.calendar=Ze,Kr.clone=Je,Kr.diff=on,Kr.endOf=yn,Kr.format=cn,Kr.from=dn,Kr.fromNow=hn,Kr.to=fn,Kr.toNow=pn,Kr.get=U,Kr.invalidAt=Dn,Kr.isAfter=Qe,Kr.isBefore=Ke,Kr.isBetween=tn,Kr.isSame=en,Kr.isSameOrAfter=nn,Kr.isSameOrBefore=rn,Kr.isValid=Sn,Kr.lang=Gr,Kr.locale=gn,Kr.localeData=mn,Kr.max=Lr,Kr.min=Rr,Kr.parsingFlags=En,Kr.set=B,Kr.startOf=vn,Kr.subtract=zr,Kr.toArray=xn,Kr.toObject=Cn,Kr.toDate=$n,Kr.toISOString=ln,Kr.inspect=un,Kr.toJSON=kn,Kr.toString=an,Kr.unix=wn,Kr.valueOf=bn,Kr.creationData=_n,Kr.year=vr,Kr.isLeapYear=mt,Kr.weekYear=Pn,Kr.isoWeekYear=Mn,Kr.quarter=Kr.quarters=In,Kr.month=ut,Kr.daysInMonth=ct,Kr.week=Kr.weeks=Et,Kr.isoWeek=Kr.isoWeeks=Dt,Kr.weeksInYear=An,Kr.isoWeeksInYear=jn,Kr.date=qr,Kr.day=Kr.days=Ft,Kr.weekday=It,Kr.isoWeekday=Nt,Kr.dayOfYear=Nn,Kr.hour=Kr.hours=Dr,Kr.minute=Kr.minutes=Xr,Kr.second=Kr.seconds=Zr,Kr.millisecond=Kr.milliseconds=Qr,Kr.utcOffset=je,Kr.utc=Oe,Kr.local=Fe,Kr.parseZone=Ie,Kr.hasAlignedHourOffset=Ne,Kr.isDST=Re,Kr.isLocal=He,Kr.isUtcOffset=We,Kr.isUtc=Ue,Kr.isUTC=Ue,Kr.zoneAbbr=Ln,Kr.zoneName=Hn,Kr.dates=x("dates accessor is deprecated. Use date instead.",qr),Kr.months=x("months accessor is deprecated. Use month instead",ut),Kr.years=x("years accessor is deprecated. Use year instead",vr),Kr.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ae),Kr.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Le);var to=D.prototype;to.calendar=_,to.longDateFormat=T,to.invalidDate=P,to.ordinal=M,to.preparse=Bn,to.postformat=Bn,to.relativeTime=j,to.pastFuture=A,to.set=S,to.months=rt,to.monthsShort=ot,to.monthsParse=at,to.monthsRegex=ht,to.monthsShortRegex=dt,to.week=Ct,to.firstDayOfYear=St,to.firstDayOfWeek=kt,to.weekdays=Pt,to.weekdaysMin=jt,to.weekdaysShort=Mt,to.weekdaysParse=Ot,to.weekdaysRegex=Rt,to.weekdaysShortRegex=Lt,to.weekdaysMinRegex=Ht,to.isPM=zt,to.meridiem=Gt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=x("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=x("moment.langData is deprecated. Use moment.localeData instead.",te);var eo=Math.abs,no=li("ms"),io=li("s"),ro=li("m"),oo=li("h"),so=li("d"),ao=li("w"),lo=li("M"),uo=li("y"),co=ci("milliseconds"),ho=ci("seconds"),fo=ci("minutes"),po=ci("hours"),go=ci("days"),mo=ci("months"),vo=ci("years"),yo=Math.round,bo={ss:44,s:45,m:45,h:22,d:26,M:11},wo=Math.abs,$o=Se.prototype;return $o.isValid=Ce,$o.abs=Qn,$o.add=ti,$o.subtract=ei,$o.as=si,$o.asMilliseconds=no,$o.asSeconds=io,$o.asMinutes=ro,$o.asHours=oo,$o.asDays=so,$o.asWeeks=ao,$o.asMonths=lo,$o.asYears=uo,$o.valueOf=ai,$o._bubble=ii,$o.get=ui,$o.milliseconds=co,$o.seconds=ho,$o.minutes=fo,$o.hours=po,$o.days=go,$o.weeks=di,$o.months=mo,$o.years=vo,$o.humanize=mi,$o.toISOString=vi,$o.toString=vi,$o.toJSON=vi,$o.locale=gn,$o.localeData=mn,$o.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vi),$o.lang=Gr,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),Z("x",Xi),Z("X",Qi),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(b(t))}),t.version="2.18.1",function(t){yi=t}(ye),t.fn=Kr,t.min=we,t.max=$e,t.now=Hr,t.utc=c,t.unix=Wn,t.months=Gn,t.isDate=s,t.locale=Jt,t.invalid=p,t.duration=Be,t.isMoment=v,t.weekdays=Xn,t.parseZone=Un,t.localeData=te,t.isDuration=Ee,t.monthsShort=qn,t.weekdaysMin=Jn,t.defineLocale=Qt,t.updateLocale=Kt,t.locales=ee,t.weekdaysShort=Zn,t.normalizeUnits=F,t.relativeTimeRounding=pi,t.relativeTimeThreshold=gi,t.calendarFormat=Xe,t.prototype=Kr,t}),function(){"use strict";function t(t){return angular.isUndefined(t)||null===t}function e(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function n(n,i){if(void 0===i){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");i=e()}return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",i).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(e,i,r,o){return function(s,a,l){function u(){var t;if(g)t=g;else if(o.serverTime){var e=(new Date).getTime()-x+o.serverTime;t=i(e)}else t=i();return t}function c(){m&&(e.clearTimeout(m),m=null)}function d(t){var n=u().diff(t,$),i=b&&n>=b;if(i?a.text(t.format(w)):a.text(t.from(u(),v)),y&&S&&a.attr("title",t.format(y)),!i){var r=Math.abs(u().diff(t,"minute")),o=3600;r<1?o=1:r<60?o=30:r<180&&(o=300),m=e.setTimeout(function(){d(t)},1e3*o)}}function h(t){k&&a.attr("datetime",t)}function f(){if(c(),p){var t=r.preprocessDate(p);d(t),h(t.toISOString())}}var p,g,m=null,v=o.withoutSuffix,y=o.titleFormat,b=o.fullDateThreshold,w=o.fullDateFormat,$=o.fullDateThresholdUnit,x=(new Date).getTime(),C=l.amTimeAgo,k="TIME"===a[0].nodeName.toUpperCase(),S=!a.attr("title");s.$watch(C,function(e){return t(e)||""===e?(c(),void(p&&(a.text(""),h(""),p=null))):(p=e,void f())}),n.isDefined(l.amFrom)&&s.$watch(l.amFrom,function(e){g=t(e)||""===e?null:i(e),f()}),n.isDefined(l.amWithoutSuffix)&&s.$watch(l.amWithoutSuffix,function(t){"boolean"==typeof t?(v=t,f()):v=o.withoutSuffix}),l.$observe("amFullDateThreshold",function(t){b=t,f()}),l.$observe("amFullDateFormat",function(t){w=t,f()}),l.$observe("amFullDateThresholdUnit",function(t){$=t,f()}),s.$on("$destroy",function(){c()}),s.$on("amMoment:localeChanged",function(){f()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,e,i,r){var o=null;this.changeLocale=function(i,r){var o=t.locale(i,r);return n.isDefined(i)&&e.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(n){t.tz&&t.tz.setDefault?(t.tz.setDefault(n),e.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=n,o=n},this.preprocessDate=function(e){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(t){return function(e,n){return t(e,n)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(t){function e(e,n){return t.preprocessDate(e).utcOffset(n)}return e}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(t,e,n){function i(e,i){var r=t.preprocessDate(e);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}return i}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i,r){if(t(e))return"";var o=n.preprocessDate(e);return o.isValid()?o.calendar(i,r):""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o,s){if(t(i))return"";var a=n.preprocessDate(i),l=t(r)?e():n.preprocessDate(r);return a.isValid()&&l.isValid()?a.diff(l,o,s):""}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i){if(t(e))return"";var r=n.preprocessDate(e);return r.isValid()?r.format(i):""}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e.duration(n,i).humanize(r)}return i.$stateful=n.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o){var s,a;return t(i)?"":(i=n.preprocessDate(i),s=e(i),s.isValid()?(a=e(o),!t(o)&&a.isValid()?s.from(a,r):s.fromNow(r)):"")}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).subtract(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).add(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amStartOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).startOf(i)}return i.$stateful=n.statefulFilters,i}]).filter("amEndOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).endOf(i)}return i.$stateful=n.statefulFilters,i}]),"angularMoment"}var i=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],n):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!i?module.exports=n(require("angular"),require("moment")):n(angular,("undefined"!=typeof global?global:window).moment)}(),function(t,e){"function"==typeof define&&define.amd?define(["moment"],function(n){return t.DateRange=e(n)}):"object"==typeof exports?module.exports=e(require("moment")):t.DateRange=e(moment)}(this,function(t){function e(e,n){var i,r=e,o=n;1!==arguments.length&&void 0!==n||("object"==typeof e&&2===e.length?(r=e[0],o=e[1]):"string"==typeof e&&(r=(i=e.split("/"))[0],o=i[1])),this.start=t(null===r?-864e13:r),this.end=t(null===o?864e13:o)}function n(e,n,i){for(var r=t(this.start);this.contains(r,i);)n.call(this,r.clone()),r.add(1,e)}function i(e,n,i){var r=this/e,o=Math.floor(r);if(o!==1/0){o===r&&i&&o--;for(var s=0;s<=o;s++)n.call(this,t(this.start.valueOf()+e.valueOf()*s))}}var r={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};return e.prototype.constructor=e,e.prototype.clone=function(){return t().range(this.start,this.end)},e.prototype.contains=function(t,n){var i=this.start,r=this.end;return t instanceof e?i<=t.start&&(r>t.end||r.isSame(t.end)&&!n):i<=t&&(r>t||r.isSame(t)&&!n)},e.prototype.overlaps=function(t){return null!==this.intersect(t)},e.prototype.intersect=function(t){var n=this.start,i=this.end;return n<=t.start&&t.start<i&&i<t.end?new e(t.start,i):t.start<n&&n<t.end&&t.end<=i?new e(n,t.end):t.start<n&&n<=i&&i<t.end?this:n<=t.start&&t.start<=t.end&&t.end<=i?t:null},e.prototype.add=function(n){return this.overlaps(n)?new e(t.min(this.start,n.start),t.max(this.end,n.end)):null},e.prototype.subtract=function(t){var n=this.start,i=this.end;return null===this.intersect(t)?[this]:t.start<=n&&n<i&&i<=t.end?[]:t.start<=n&&n<t.end&&t.end<i?[new e(t.end,i)]:n<t.start&&t.start<i&&i<=t.end?[new e(n,t.start)]:n<t.start&&t.start<t.end&&t.end<i?[new e(n,t.start),new e(t.end,i)]:n<t.start&&t.start<i&&t.end<i?[new e(n,t.start),new e(t.start,i)]:void 0},e.prototype.toArray=function(t,e){var n=[];return this.by(t,function(t){n.push(t)},e),n},e.prototype.by=function(t,e,r){return"string"==typeof t?n.call(this,t,e,r):i.call(this,t,e,r),this},e.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},e.prototype.valueOf=function(){return this.end-this.start},e.prototype.center=function(){var e=this.start+this.diff()/2;return t(e)},e.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},e.prototype.isSame=function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)},e.prototype.diff=function(t){return this.end.diff(this.start,t)},t.range=function(n,i){return n in r?new e(t(this).startOf(n),t(this).endOf(n)):new e(n,i)},t.range.constructor=e,t.fn.range=t.range,t.fn.within=function(t){return t.contains(this._d)},e}),function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(t,e){this.scope=t,t.$element=e,t.$nodeScope=null,t.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(t,e){function n(t){if(!t)return 0;var e,i,r,o=0,s=t.childNodes();if(!s||0===s.length)return 0;for(r=s.length-1;r>=0;r--)e=s[r],i=1+n(e),o=Math.max(o,i);return o}this.scope=t,t.$element=e,t.$modelValue=null,t.$parentNodeScope=null,t.$childNodesScope=null,t.$parentNodesScope=null,t.$treeScope=null,t.$handleScope=null,t.$type="uiTreeNode",t.$$allowNodeDrop=!1,t.collapsed=!1,t.expandOnHover=!1,t.init=function(n){var i=n[0];t.$treeScope=n[1]?n[1].scope:null,t.$parentNodeScope=i.scope.$nodeScope,t.$modelValue=i.scope.$modelValue[t.$index],t.$parentNodesScope=i.scope,i.scope.initSubNode(t),e.on("$destroy",function(){i.scope.destroySubNode(t)})},t.index=function(){return t.$parentNodesScope.$modelValue.indexOf(t.$modelValue)},t.dragEnabled=function(){return!(t.$treeScope&&!t.$treeScope.dragEnabled)},t.isSibling=function(e){return t.$parentNodesScope==e.$parentNodesScope},t.isChild=function(e){var n=t.childNodes();return n&&n.indexOf(e)>-1},t.prev=function(){var e=t.index();return e>0?t.siblings()[e-1]:null},t.siblings=function(){return t.$parentNodesScope.childNodes()},t.childNodesCount=function(){return t.childNodes()?t.childNodes().length:0},t.hasChild=function(){return t.childNodesCount()>0},t.childNodes=function(){return t.$childNodesScope&&t.$childNodesScope.$modelValue?t.$childNodesScope.childNodes():null},t.accept=function(e,n){return t.$childNodesScope&&t.$childNodesScope.$modelValue&&t.$childNodesScope.accept(e,n)},t.remove=function(){return t.$parentNodesScope.removeNode(t)},t.toggle=function(){t.collapsed=!t.collapsed,t.$treeScope.$callbacks.toggle(t.collapsed,t)},t.collapse=function(){t.collapsed=!0},t.expand=function(){t.collapsed=!1},t.depth=function(){var e=t.$parentNodeScope;return e?e.depth()+1:1},t.maxSubDepth=function(){return t.$childNodesScope?n(t.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(t,e){this.scope=t,t.$element=e,t.$modelValue=null,t.$nodeScope=null,t.$treeScope=null,t.$type="uiTreeNodes",t.$nodesMap={},t.nodropEnabled=!1,t.maxDepth=0,t.cloneEnabled=!1,t.initSubNode=function(e){return e.$modelValue?void(t.$nodesMap[e.$modelValue.$$hashKey]=e):null},t.destroySubNode=function(e){return e.$modelValue?void(t.$nodesMap[e.$modelValue.$$hashKey]=null):null},t.accept=function(e,n){return t.$treeScope.$callbacks.accept(e,t,n)},t.beforeDrag=function(e){return t.$treeScope.$callbacks.beforeDrag(e)},t.isParent=function(e){return e.$parentNodesScope==t},t.hasChild=function(){return t.$modelValue.length>0},t.safeApply=function(t){var e=this.$root.$$phase;"$apply"==e||"$digest"==e?t&&"function"==typeof t&&t():this.$apply(t)},t.removeNode=function(e){var n=t.$modelValue.indexOf(e.$modelValue);return n>-1?(t.safeApply(function(){t.$modelValue.splice(n,1)[0]}),t.$treeScope.$callbacks.removed(e)):null},t.insertNode=function(e,n){t.safeApply(function(){t.$modelValue.splice(e,0,n)})},t.childNodes=function(){var e,n=[];if(t.$modelValue)for(e=0;e<t.$modelValue.length;e++)n.push(t.$nodesMap[t.$modelValue[e].$$hashKey]);return n},t.depth=function(){return t.$nodeScope?t.$nodeScope.depth():0},t.outOfDepth=function(e){var n=t.maxDepth||t.$treeScope.maxDepth;return n>0&&t.depth()+e.maxSubDepth()+1>n}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(t,e){this.scope=t,t.$element=e,t.$nodesScope=null,t.$type="uiTree",t.$emptyElm=null,t.$callbacks=null,t.dragEnabled=!0,t.emptyPlaceholderEnabled=!0,t.maxDepth=0,t.dragDelay=0,t.cloneEnabled=!1,t.nodropEnabled=!1,t.isEmpty=function(){return t.$nodesScope&&t.$nodesScope.$modelValue&&0===t.$nodesScope.$modelValue.length},t.place=function(e){t.$nodesScope.$element.append(e),t.$emptyElm.remove()},this.resetEmptyElement=function(){t.$nodesScope.$modelValue&&0!==t.$nodesScope.$modelValue.length||!t.emptyPlaceholderEnabled?t.$emptyElm.remove():e.append(t.$emptyElm)},t.resetEmptyElement=this.resetEmptyElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(t,e){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,i,r,o){var s,a,l,u={accept:null,beforeDrag:null},c={};angular.extend(c,t),c.treeClass&&i.addClass(c.treeClass),"table"===i.prop("tagName").toLowerCase()?(n.$emptyElm=angular.element(e.document.createElement("tr")),a=i.find("tr"),l=a.length>0?angular.element(a).children().length:1e6,s=angular.element(e.document.createElement("td")).attr("colspan",l),n.$emptyElm.append(s)):n.$emptyElm=angular.element(e.document.createElement("div")),c.emptyTreeClass&&n.$emptyElm.addClass(c.emptyTreeClass),n.$watch("$nodesScope.$modelValue.length",function(t){angular.isNumber(t)&&o.resetEmptyElement()},!0),n.$watch(r.dragEnabled,function(t){"boolean"==typeof t&&(n.dragEnabled=t)}),n.$watch(r.emptyPlaceholderEnabled,function(t){"boolean"==typeof t&&(n.emptyPlaceholderEnabled=t,o.resetEmptyElement())}),n.$watch(r.nodropEnabled,function(t){"boolean"==typeof t&&(n.nodropEnabled=t)}),n.$watch(r.cloneEnabled,function(t){"boolean"==typeof t&&(n.cloneEnabled=t)}),n.$watch(r.maxDepth,function(t){"number"==typeof t&&(n.maxDepth=t)}),n.$watch(r.dragDelay,function(t){"number"==typeof t&&(n.dragDelay=t)}),u.accept=function(t,e,n){return!(e.nodropEnabled||e.$treeScope.nodropEnabled||e.outOfDepth(t))},u.beforeDrag=function(t){return!0},u.expandTimeoutStart=function(){},u.expandTimeoutCancel=function(){},u.expandTimeoutEnd=function(){},u.removed=function(t){},u.dropped=function(t){},u.dragStart=function(t){},u.dragMove=function(t){},u.dragStop=function(t){},u.beforeDrop=function(t){},u.toggle=function(t,e){},n.$watch(r.uiTree,function(t,e){angular.forEach(t,function(t,e){u[e]&&"function"==typeof t&&(u[e]=t)}),n.$callbacks=u},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(t){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(e,n,i,r){var o={};angular.extend(o,t),o.handleClass&&n.addClass(o.handleClass),e!=r.scope&&(e.$nodeScope=r.scope,r.scope.$handleScope=e)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(t,e,n,i,r,o){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(s,a,l,u){var c,d,h,f,p,g,m,v,y,b,w,$,x,C,k,S,E,D,_,T,P,M,j,A,O,F,I,N={},R="ontouchstart"in window,L=null,H=document.body,W=document.documentElement;angular.extend(N,t),N.nodeClass&&a.addClass(N.nodeClass),s.init(u),s.collapsed=!!e.getNodeAttribute(s,"collapsed")||t.defaultCollapsed,s.expandOnHover=!!e.getNodeAttribute(s,"expandOnHover"),s.scrollContainer=e.getNodeAttribute(s,"scrollContainer")||l.scrollContainer||null,s.sourceOnly=s.nodropEnabled||s.$treeScope.nodropEnabled,s.$watch(l.collapsed,function(t){"boolean"==typeof t&&(s.collapsed=t)}),s.$watch("collapsed",function(t){e.setNodeAttribute(s,"collapsed",t),l.$set("collapsed",t)}),s.$watch(l.expandOnHover,function(t){"boolean"!=typeof t&&"number"!=typeof t||(s.expandOnHover=t)}),s.$watch("expandOnHover",function(t){e.setNodeAttribute(s,"expandOnHover",t),l.$set("expandOnHover",t)}),l.$observe("scrollContainer",function(t){"string"==typeof t&&(s.scrollContainer=t)}),s.$watch("scrollContainer",function(t){e.setNodeAttribute(s,"scrollContainer",t),l.$set("scrollContainer",t),m=document.querySelector(t)}),s.$on("angular-ui-tree:collapse-all",function(){s.collapsed=!0}),s.$on("angular-ui-tree:expand-all",function(){s.collapsed=!1}),$=function(t){if((R||2!==t.button&&3!==t.which)&&!(t.uiTreeDragging||t.originalEvent&&t.originalEvent.uiTreeDragging)){var r,o,l,u,m,v,$,x,C,k=angular.element(t.target);if((r=e.treeNodeHandlerContainerOfElement(k))&&(k=angular.element(r)),o=a.clone(),x=e.elementIsTreeNode(k),C=e.elementIsTreeNodeHandle(k),(x||C)&&!(x&&e.elementContainsTreeNodeHandler(k)||"input"==(l=k.prop("tagName").toLowerCase())||"textarea"==l||"button"==l||"select"==l)){for(O=angular.element(t.target),F=O[0].attributes["ui-tree"];O&&O[0]&&O[0]!==a&&!F;){if(O[0].attributes&&(F=O[0].attributes["ui-tree"]),e.nodrag(O))return;O=O.parent()}s.beforeDrag(s)&&(t.uiTreeDragging=!0,t.originalEvent&&(t.originalEvent.uiTreeDragging=!0),t.preventDefault(),m=e.eventObj(t),c=!0,d=e.dragInfo(s),I=d.source.$treeScope.$id,u=a.prop("tagName"),"tr"===u.toLowerCase()?(f=angular.element(n.document.createElement(u)),v=angular.element(n.document.createElement("td")).addClass(N.placeholderClass).attr("colspan",a[0].children.length),f.append(v)):f=angular.element(n.document.createElement(u)).addClass(N.placeholderClass),p=angular.element(n.document.createElement(u)),N.hiddenClass&&p.addClass(N.hiddenClass),h=e.positionStarted(m,a),f.css("height",a.prop("offsetHeight")+"px"),(g=angular.element(n.document.createElement(s.$parentNodesScope.$element.prop("tagName"))).addClass(s.$parentNodesScope.$element.attr("class")).addClass(N.dragClass)).css("width",e.width(a)+"px"),g.css("z-index",9999),($=(a[0].querySelector(".angular-ui-tree-handle")||a[0]).currentStyle)&&(document.body.setAttribute("ui-tree-cursor",i.find("body").css("cursor")||""),i.find("body").css({cursor:$.cursor+"!important"})),s.sourceOnly&&f.css("display","none"),a.after(f),a.after(p),d.isClone()&&s.sourceOnly?g.append(o):g.append(a),i.find("body").append(g),g.css({left:m.pageX-h.offsetX+"px",top:m.pageY-h.offsetY+"px"}),y={placeholder:f,dragging:g},P(),s.$apply(function(){s.$treeScope.$callbacks.dragStart(d.eventArgs(y,h))}),b=Math.max(H.scrollHeight,H.offsetHeight,W.clientHeight,W.scrollHeight,W.offsetHeight),w=Math.max(H.scrollWidth,H.offsetWidth,W.clientWidth,W.scrollWidth,W.offsetWidth))}}},x=function(t){var i,o,a,l,u,p,$,x,C,k,S,E,D,_,T,P,M,j,O,F,R,H=e.eventObj(t);if(g){if(t.preventDefault(),n.getSelection?n.getSelection().removeAllRanges():n.document.selection&&n.document.selection.empty(),o=H.pageX-h.offsetX,a=H.pageY-h.offsetY,o<0&&(o=0),a<0&&(a=0),a+10>b&&(a=b-10),o+10>w&&(o=w-10),g.css({left:o+"px",top:a+"px"}),m?(p=m.getBoundingClientRect(),l=m.scrollTop,u=l+m.clientHeight,p.bottom<H.clientY&&u<m.scrollHeight&&(_=Math.min(m.scrollHeight-u,10),m.scrollTop+=_),p.top>H.clientY&&l>0&&(T=Math.min(l,10),m.scrollTop-=T)):(l=window.pageYOffset||n.document.documentElement.scrollTop,(u=l+(window.innerHeight||n.document.clientHeight||n.document.clientHeight))<H.pageY&&u<b&&(_=Math.min(b-u,10),window.scrollBy(0,_)),l>H.pageY&&(T=Math.min(l,10),window.scrollBy(0,-T))),e.positionMoved(t,h,c),c)return void(c=!1);if(x=H.pageX-(n.pageXOffset||n.document.body.scrollLeft||n.document.documentElement.scrollLeft)-(n.document.documentElement.clientLeft||0),C=H.pageY-(n.pageYOffset||n.document.body.scrollTop||n.document.documentElement.scrollTop)-(n.document.documentElement.clientTop||0),angular.isFunction(g.hide)?g.hide():(k=g[0].style.display,g[0].style.display="none"),n.document.elementFromPoint(x,C),E=angular.element(n.document.elementFromPoint(x,C)),(A=e.treeNodeHandlerContainerOfElement(E))&&(E=angular.element(A)),angular.isFunction(g.show)?g.show():g[0].style.display=k,e.elementIsTree(E)?S=E.controller("uiTree").scope:e.elementIsTreeNodeHandle(E)?S=E.controller("uiTreeHandle").scope:e.elementIsTreeNode(E)?S=E.controller("uiTreeNode").scope:e.elementIsTreeNodes(E)?S=E.controller("uiTreeNodes").scope:e.elementIsPlaceholder(E)?S=E.controller("uiTreeNodes").scope:E.controller("uiTreeNode")&&(S=E.controller("uiTreeNode").scope),S&&S.$treeScope&&S.$treeScope.$id&&S.$treeScope.$id===I&&h.dirAx)h.distX>0&&(i=d.prev())&&!i.collapsed&&i.accept(s,i.childNodesCount())&&(i.$childNodesScope.$element.append(f),d.moveTo(i.$childNodesScope,i.childNodes(),i.childNodesCount())),h.distX<0&&(d.next()||($=d.parentNode())&&$.$parentNodesScope.accept(s,$.index()+1)&&($.$element.after(f),d.moveTo($.$parentNodesScope,$.siblings(),$.index()+1)));else{if(D=!1,!S)return;if(!S.$treeScope||S.$parent.nodropEnabled||S.$treeScope.nodropEnabled||f.css("display",""),"uiTree"===S.$type&&S.dragEnabled&&(D=S.isEmpty()),"uiTreeHandle"===S.$type&&(S=S.$nodeScope),"uiTreeNode"!==S.$type&&!D)return void(N.appendChildOnHover&&!d.next()&&v&&(($=d.parentNode()).$element.after(f),d.moveTo($.$parentNodesScope,$.siblings(),$.index()+1),v=!1));L&&f.parent()[0]!=L.$element[0]&&(L.resetEmptyElement(),L=null),D?(L=S,S.$nodesScope.accept(s,0)&&(S.place(f),d.moveTo(S.$nodesScope,S.$nodesScope.childNodes(),0))):S.dragEnabled()&&(angular.isDefined(s.expandTimeoutOn)&&s.expandTimeoutOn!==S.id&&(r.cancel(s.expandTimeout),delete s.expandTimeout,delete s.expandTimeoutOn,s.$callbacks.expandTimeoutCancel()),S.collapsed&&(!0===s.expandOnHover||angular.isNumber(s.expandOnHover)&&0===s.expandOnHover?(S.collapsed=!1,S.$treeScope.$callbacks.toggle(!1,S)):!1!==s.expandOnHover&&angular.isNumber(s.expandOnHover)&&s.expandOnHover>0&&angular.isUndefined(s.expandTimeoutOn)&&(s.expandTimeoutOn=S.$id,s.$callbacks.expandTimeoutStart(),s.expandTimeout=r(function(){s.$callbacks.expandTimeoutEnd(),S.collapsed=!1,S.$treeScope.$callbacks.toggle(!1,S)},s.expandOnHover))),E=S.$element,P=e.offset(E),O=e.height(E),F=S.$childNodesScope?S.$childNodesScope.$element:null,R=F?e.height(F):0,O-=R,j=N.appendChildOnHover?.25*O:e.height(E)/2,M=H.pageY<P.top+j,S.$parentNodesScope.accept(s,S.index())?M?(E[0].parentNode.insertBefore(f[0],E[0]),d.moveTo(S.$parentNodesScope,S.siblings(),S.index())):N.appendChildOnHover&&S.accept(s,S.childNodesCount())?(S.$childNodesScope.$element.prepend(f),d.moveTo(S.$childNodesScope,S.childNodes(),0),v=!0):(E.after(f),d.moveTo(S.$parentNodesScope,S.siblings(),S.index()+1)):!M&&S.accept(s,S.childNodesCount())&&(S.$childNodesScope.$element.append(f),d.moveTo(S.$childNodesScope,S.childNodes(),S.childNodesCount())))}s.$apply(function(){s.$treeScope.$callbacks.dragMove(d.eventArgs(y,h))})}},C=function(t){var e=d.eventArgs(y,h);t.preventDefault(),M(),r.cancel(s.expandTimeout),s.$treeScope.$apply(function(){o.when(s.$treeScope.$callbacks.beforeDrop(e)).then(function(t){!1!==t&&s.$$allowNodeDrop?(d.apply(),s.$treeScope.$callbacks.dropped(e)):T()}).catch(function(){T()}).finally(function(){p.replaceWith(s.$element),f.remove(),g&&(g.remove(),g=null),s.$treeScope.$callbacks.dragStop(e),s.$$allowNodeDrop=!1,d=null;var t=document.body.getAttribute("ui-tree-cursor");null!==t&&(i.find("body").css({cursor:t}),document.body.removeAttribute("ui-tree-cursor"))})})},k=function(t){s.dragEnabled()&&$(t)},S=function(t){x(t)},E=function(t){s.$$allowNodeDrop=!0,C(t)},D=function(t){C(t)},_=function(){var t;return{exec:function(e,n){n||(n=0),this.cancel(),t=r(e,n)},cancel:function(){r.cancel(t)}}}(),j=function(t){27===t.keyCode&&E(t)},(T=function(){a.bind("touchstart mousedown",function(t){s.dragDelay>0?_.exec(function(){k(t)},s.dragDelay):k(t)}),a.bind("touchend touchcancel mouseup",function(){s.dragDelay>0&&_.cancel()})})(),P=function(){angular.element(i).bind("touchend",E),angular.element(i).bind("touchcancel",E),angular.element(i).bind("touchmove",S),angular.element(i).bind("mouseup",E),angular.element(i).bind("mousemove",S),angular.element(i).bind("mouseleave",D),angular.element(i).bind("keydown",j)},M=function(){angular.element(i).unbind("touchend",E),angular.element(i).unbind("touchcancel",E),angular.element(i).unbind("touchmove",S),angular.element(i).unbind("mouseup",E),angular.element(i).unbind("mousemove",S),angular.element(i).unbind("mouseleave",D),angular.element(i).unbind("keydown",j)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(t){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(e,n,i,r){var o={},s=r[0],a=r[1],l=r[2];angular.extend(o,t),o.nodesClass&&n.addClass(o.nodesClass),a?(a.scope.$childNodesScope=e,e.$nodeScope=a.scope):l.scope.$nodesScope=e,e.$treeScope=l.scope,s&&(s.$render=function(){e.$modelValue=s.$modelValue}),e.$watch(function(){return i.maxDepth},function(t){"number"==typeof t&&(e.maxDepth=t)}),e.$watch(function(){return i.nodropEnabled},function(t){void 0!==t&&(e.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";function t(t,e){if(void 0===e)return null;for(var n=e.parentNode,i=1,r="function"==typeof n.setAttribute&&n.hasAttribute(t)?n:null;n&&"function"==typeof n.setAttribute&&!n.hasAttribute(t);){if(n=n.parentNode,r=n,n===document.documentElement){r=null;break}i++}return r}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(e,n,i){return{nodesData:{},setNodeAttribute:function(t,e,n){if(!t.$modelValue)return null;var i=this.nodesData[t.$modelValue.$$hashKey];i||(i={},this.nodesData[t.$modelValue.$$hashKey]=i),i[e]=n},getNodeAttribute:function(t,e){if(!t.$modelValue)return null;var n=this.nodesData[t.$modelValue.$$hashKey];return n?n[e]:null},nodrag:function(t){return void 0!==t.attr("data-nodrag")&&"false"!==t.attr("data-nodrag")},eventObj:function(t){var e=t;return void 0!==t.targetTouches?e=t.targetTouches.item(0):void 0!==t.originalEvent&&void 0!==t.originalEvent.targetTouches&&(e=t.originalEvent.targetTouches.item(0)),e},dragInfo:function(t){return{source:t,sourceInfo:{cloneModel:!0===t.$treeScope.cloneEnabled?angular.copy(t.$modelValue):void 0,nodeScope:t,index:t.index(),nodesScope:t.$parentNodesScope},index:t.index(),siblings:t.siblings().slice(0),parent:t.$parentNodesScope,resetParent:function(){this.parent=t.$parentNodesScope},moveTo:function(t,e,n){this.parent=t,this.siblings=e.slice(0);var i=this.siblings.indexOf(this.source);i>-1&&(this.siblings.splice(i,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(t){return angular.copy(t)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(t,e){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:t,pos:e}},apply:function(){var t=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,t)))}}},height:function(t){return t.prop("scrollHeight")},width:function(t){return t.prop("scrollWidth")},offset:function(t){var i=t[0].getBoundingClientRect();return{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:i.top+(n.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:i.left+(n.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}},positionStarted:function(t,e){var n={},i=t.pageX,r=t.pageY;return t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches.length>0&&(i=t.originalEvent.touches[0].pageX,r=t.originalEvent.touches[0].pageY),n.offsetX=i-this.offset(e).left,n.offsetY=r-this.offset(e).top,n.startX=n.lastX=i,n.startY=n.lastY=r,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(t,e,n){var i,r=t.pageX,o=t.pageY;return t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches.length>0&&(r=t.originalEvent.touches[0].pageX,o=t.originalEvent.touches[0].pageY),e.lastX=e.nowX,e.lastY=e.nowY,e.nowX=r,e.nowY=o,e.distX=e.nowX-e.lastX,e.distY=e.nowY-e.lastY,e.lastDirX=e.dirX,e.lastDirY=e.dirY,e.dirX=0===e.distX?0:e.distX>0?1:-1,e.dirY=0===e.distY?0:e.distY>0?1:-1,i=Math.abs(e.distX)>Math.abs(e.distY)?1:0,n?(e.dirAx=i,void(e.moving=!0)):(e.dirAx!==i?(e.distAxX=0,e.distAxY=0):(e.distAxX+=Math.abs(e.distX),0!==e.dirX&&e.dirX!==e.lastDirX&&(e.distAxX=0),e.distAxY+=Math.abs(e.distY),0!==e.dirY&&e.dirY!==e.lastDirY&&(e.distAxY=0)),void(e.dirAx=i))},elementIsTreeNode:function(t){return void 0!==t.attr("ui-tree-node")},elementIsTreeNodeHandle:function(t){return void 0!==t.attr("ui-tree-handle")},elementIsTree:function(t){return void 0!==t.attr("ui-tree")},elementIsTreeNodes:function(t){return void 0!==t.attr("ui-tree-nodes")},elementIsPlaceholder:function(t){return t.hasClass(i.placeholderClass)},elementContainsTreeNodeHandler:function(t){return t[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(e){return t("ui-tree-handle",e[0])}}}])}(),function(t,e){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],e):"object"==typeof exports?module.exports=e(require("./ResizeSensor.js")):t.ElementQueries=e(t.ResizeSensor)}(this,function(t){var e=function(){function n(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function i(t,e){var i=e.split(/\d/),r=i[i.length-1];switch(e=parseFloat(e),r){case"px":return e;case"em":return e*n(t);case"rem":return e*n();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===r?"min":"max"])(o,s);default:return e}}function r(t){this.element=t,this.options={};var e,n,r,o,s,a,l,u=0,c=0;this.addOption=function(t){var e=[t.mode,t.property,t.value].join(",");this.options[e]=t};var d=["min-width","min-height","max-width","max-height"];this.call=function(){u=this.element.offsetWidth,c=this.element.offsetHeight,s={};for(e in this.options)this.options.hasOwnProperty(e)&&(n=this.options[e],r=i(this.element,n.value),o="width"==n.property?u:c,l=n.mode+"-"+n.property,a="","min"==n.mode&&o>=r&&(a+=n.value),"max"==n.mode&&o<=r&&(a+=n.value),s[l]||(s[l]=""),a&&-1===(" "+s[l]+" ").indexOf(" "+a+" ")&&(s[l]+=" "+a));for(var t in d)d.hasOwnProperty(t)&&(s[d[t]]?this.element.setAttribute(d[t],s[d[t]].substr(1)):this.element.removeAttribute(d[t]))}}function o(e,n){e.elementQueriesSetupInformation?e.elementQueriesSetupInformation.addOption(n):(e.elementQueriesSetupInformation=new r(e),e.elementQueriesSetupInformation.addOption(n),e.elementQueriesSensor=new t(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call(),f&&p.indexOf(e)<0&&p.push(e)}function s(t,e,n,i){void 0===g[e]&&(g[e]={}),void 0===g[e][n]&&(g[e][n]={}),void 0===g[e][n][i]?g[e][n][i]=t:g[e][n][i]+=","+t}function a(){var t;if(document.querySelectorAll&&(t=document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function l(){var t=a();for(var e in g)if(g.hasOwnProperty(e))for(var n in g[e])if(g[e].hasOwnProperty(n))for(var i in g[e][n])if(g[e][n].hasOwnProperty(i))for(var r=t(g[e][n][i]),s=0,l=r.length;s<l;s++)o(r[s],{mode:e,property:n,value:i})}function u(e){function n(){var t,n=!1;for(t in i)i.hasOwnProperty(t)&&r[t].minWidth&&e.offsetWidth>r[t].minWidth&&(n=t);if(n||(n=s),a!=n)if(l[n])i[a].style.display="none",i[n].style.display="block",a=n;else{var u=new Image;u.onload=function(){i[n].src=o[n],i[a].style.display="none",i[n].style.display="block",l[n]=!0,a=n},u.src=o[n]}else i[n].src=o[n]}var i=[],r=[],o=[],s=0,a=-1,l=[];for(var u in e.children)if(e.children.hasOwnProperty(u)&&e.children[u].tagName&&"img"===e.children[u].tagName.toLowerCase()){i.push(e.children[u]);var c=e.children[u].getAttribute("min-width")||e.children[u].getAttribute("data-min-width"),d=e.children[u].getAttribute("data-src")||e.children[u].getAttribute("url");o.push(d);var h={minWidth:c};r.push(h),c?e.children[u].style.display="none":(s=i.length-1,e.children[u].style.display="block")}a=s,e.resizeSensor=new t(e,n),n(),f&&p.push(e)}function c(){for(var t=a()("[data-responsive-image],[responsive-image]"),e=0,n=t.length;e<n;e++)u(t[e])}function d(t){var e,n;for(t=t.replace(/'/g,'"');null!==(e=m.exec(t));)for(n=e[1]+e[3],attrs=e[2];null!==(attrMatch=v.exec(attrs));)s(n,attrMatch[1],attrMatch[2],attrMatch[3])}function h(t){var e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||d(t);else for(var n=0,i=t.length;n<i;n++)1===t[n].type?-1!==(e=t[n].selectorText||t[n].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")?d(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||d(e):4===t[n].type&&h(t[n].cssRules||t[n].rules)}var f=!1,p=[],g={},m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,v=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(t){f=void 0!==t&&t;for(var e=0,n=document.styleSheets.length;e<n;e++)try{h(document.styleSheets[e].cssRules||document.styleSheets[e].rules||document.styleSheets[e].cssText)}catch(t){if("SecurityError"!==t.name)throw t}if(!y){var i=document.createElement("style");i.type="text/css",i.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img { width: 100%;}",document.getElementsByTagName("head")[0].appendChild(i),y=!0}l(),c()},this.update=function(t){this.init(t)},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready or call ElementQueryes.update(true).";for(var t;t=p.pop();)e.detach(t);p=[]}};e.update=function(t){e.instance.update(t)},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensor&&(t.resizeSensor.detach(),delete t.resizeSensor)},e.withTracking=!1,e.init=function(){e.instance||(e.instance=new e),e.instance.init(e.withTracking)};var n=function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))},10);else window.onload=t};return e.listen=function(){n(e.init)},"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:(window.ElementQueries=e,e.listen()),e}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}(this,function(){function t(t,e){var n=Object.prototype.toString.call(t),i="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,r=0,o=t.length;if(i)for(;r<o;r++)e(t[r]);else e(t)}if("undefined"==typeof window)return null;var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},n=function(i,r){function o(){var t=[];this.add=function(e){t.push(e)};var e,n;this.call=function(){for(e=0,n=t.length;e<n;e++)t[e].call()},this.remove=function(i){var r=[];for(e=0,n=t.length;e<n;e++)t[e]!==i&&r.push(t[e]);t=r},this.length=function(){return t.length}}function s(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):t.style[e]}function a(t,n){if(t.resizedAttached){if(t.resizedAttached)return void t.resizedAttached.add(n)}else t.resizedAttached=new o,t.resizedAttached.add(n);t.resizeSensor=document.createElement("div"),t.resizeSensor.className="resize-sensor";var i="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",r="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=i,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+r+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+r+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor),"static"==s(t,"position")&&(t.style.position="relative");var a,l,u,c,d=t.resizeSensor.childNodes[0],h=d.childNodes[0],f=t.resizeSensor.childNodes[1],p=t.offsetWidth,g=t.offsetHeight,m=function(){h.style.width="100000px",h.style.height="100000px",d.scrollLeft=1e5,d.scrollTop=1e5,f.scrollLeft=1e5,f.scrollTop=1e5};m();var v=function(){l=0,a&&(p=u,g=c,t.resizedAttached&&t.resizedAttached.call())},y=function(){u=t.offsetWidth,c=t.offsetHeight,(a=u!=p||c!=g)&&!l&&(l=e(v)),m()},b=function(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n)};b(d,"scroll",y),b(f,"scroll",y)}t(i,function(t){a(t,r)}),this.detach=function(t){n.detach(i,t)}};return n.detach=function(e,n){t(e,function(t){t.resizedAttached&&"function"==typeof n&&(t.resizedAttached.remove(n),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached)})},n}),function(){"use strict";angular.module("gantt.resizeSensor",["gantt"]).directive("ganttResizeSensor",[function(){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(t,e,n,i){function r(){var t=i.gantt.$element[0];return[new ResizeSensor(t,function(){var e=!1;Math.abs(t.clientWidth-i.gantt.$scope.ganttElementWidth)>1&&(i.gantt.$scope.ganttElementWidth=t.clientWidth,e=!0),Math.abs(t.clientHeight-i.gantt.$scope.ganttElementHeight)>1&&(i.gantt.$scope.ganttElementHeight=t.clientHeight,e=!0),e&&i.gantt.$scope.$apply()}),new ResizeSensor(t.parentElement,function(){var e=t.parentElement,n=e.offsetHeight,r=getComputedStyle(e);n=n-parseInt(r.marginTop)-parseInt(r.marginBottom),i.gantt.$scope.ganttContainerHeight=n;var o=e.offsetWidth;r=getComputedStyle(e),o=o-parseInt(r.marginLeft)-parseInt(r.marginRight),i.gantt.$scope.ganttContainerWidth=o,i.gantt.$scope.$apply()})]}function o(t){for(var e=0;e<t;e++)t[e].detach()}var s=i.gantt.api;if(t.options&&"object"==typeof t.options.resizeSensor)for(var a in t.options.resizeSensor)t[a]=t.options.resizeSensor[a];void 0===t.enabled&&(t.enabled=!0);var l=!1,u=[];s.core.on.rendered(t,function(){l=!0,o(u),t.enabled&&(ElementQueries.update(),u=r())}),t.$watch("enabled",function(t){l&&(t?(ElementQueries.update(),u=r()):t||(o(u),u=[]))})}}}])}(),angular.module("gantt.resizeSensor.templates",[]).run(["$templateCache",function(t){}]),function(){void 0===Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t={subtract:function(t,e){return{x:t.x-e.x,y:t.y-e.y}},dotProduct:function(t,e){return t.x*e.x+t.y*e.y},square:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},scale:function(t,e){return{x:t.x*e,y:t.y*e}}},e=Math.pow(2,-65),n=function(e,n){for(var i=[],s=r(e,n),a=n.length-1,l=o(s,2*a-1,i,0),c=t.subtract(e,n[0]),d=t.square(c),h=0,f=0;f<l;f++){c=t.subtract(e,u(n,a,i[f],null,null));var p=t.square(c);p<d&&(d=p,h=i[f])}return c=t.subtract(e,n[a]),(p=t.square(c))<d&&(d=p,h=1),{location:h,distance:d}},i=function(t,e){var i=n(t,e);return{point:u(e,e.length-1,i.location,null,null),location:i.location}},r=function(e,n){for(var i=n.length-1,r=2*i-1,o=[],s=[],a=[],l=[],u=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;c<=i;c++)o[c]=t.subtract(n[c],e);for(c=0;c<=i-1;c++)s[c]=t.subtract(n[c+1],n[c]),s[c]=t.scale(s[c],3);for(var d=0;d<=i-1;d++)for(var h=0;h<=i;h++)a[d]||(a[d]=[]),a[d][h]=t.dotProduct(s[d],o[h]);for(c=0;c<=r;c++)l[c]||(l[c]=[]),l[c].y=0,l[c].x=parseFloat(c)/r;for(var f=i,p=i-1,g=0;g<=f+p;g++){var m=Math.max(0,g-p),v=Math.min(g,f);for(c=m;c<=v;c++)j=g-c,l[c+j].y+=a[j][c]*u[j][c]}return l},o=function(t,e,n,i){var r,c,d=[],h=[],f=[],p=[];switch(s(t,e)){case 0:return 0;case 1:if(i>=64)return n[0]=(t[0].x+t[e].x)/2,1;if(a(t,e))return n[0]=l(t,e),1}u(t,e,.5,d,h),r=o(d,e,f,i+1),c=o(h,e,p,i+1);for(g=0;g<r;g++)n[g]=f[g];for(var g=0;g<c;g++)n[g+r]=p[g];return r+c},s=function(t,e){var n,i,r=0;n=i=Math.sgn(t[0].y);for(var o=1;o<=e;o++)(n=Math.sgn(t[o].y))!=i&&r++,i=n;return r},a=function(t,n){var i,r,o,s,a,l,u,c,d,h,f,p,g;l=t[0].y-t[n].y,u=t[n].x-t[0].x,c=t[0].x*t[n].y-t[n].x*t[0].y;for(var m=max_distance_below=0,v=1;v<n;v++){var y=l*t[v].x+u*t[v].y+c;y>m?m=y:y<max_distance_below&&(max_distance_below=y)}return 0,1,0,f=l,p=u,g=c-m,d=0*p-1*f,h=1/d,r=(1*g-0*p)*h,f=l,p=u,g=c-max_distance_below,d=0*p-1*f,h=1/d,o=(1*g-0*p)*h,s=Math.min(r,o),a=Math.max(r,o),i=a-s,i<e?1:0},l=function(t,e){var n=t[e].x-t[0].x,i=t[e].y-t[0].y,r=t[0].x-0;return 0+1*((n*(t[0].y-0)-i*r)*(1/(0*n-1*i)))},u=function(t,e,n,i,r){for(var o=[[]],s=0;s<=e;s++)o[0][s]=t[s];for(var a=1;a<=e;a++)for(s=0;s<=e-a;s++)o[a]||(o[a]=[]),o[a][s]||(o[a][s]={}),o[a][s].x=(1-n)*o[a-1][s].x+n*o[a-1][s+1].x,o[a][s].y=(1-n)*o[a-1][s].y+n*o[a-1][s+1].y;if(null!=i)for(s=0;s<=e;s++)i[s]=o[s][0];if(null!=r)for(s=0;s<=e;s++)r[s]=o[e-s][s];return o[e][0]},c={},d=function(t){var e=c[t];if(!e){var n=function(){return function(e){return Math.pow(e,t)}},i=function(){return function(e){return Math.pow(1-e,t)}},r=function(t){return function(e){return t}},o=function(){return function(t){return t}},s=function(){return function(t){return 1-t}},a=function(t){return function(e){for(var n=1,i=0;i<t.length;i++)n*=t[i](e);return n}};(e=[]).push(new n);for(var l=1;l<t;l++){for(var u=[new r(t)],d=0;d<t-l;d++)u.push(new o);for(d=0;d<l;d++)u.push(new s);e.push(new a(u))}e.push(new i),c[t]=e}return e},h=function(t,e){for(var n=d(t.length-1),i=0,r=0,o=0;o<t.length;o++)i+=t[o].x*n[o](e),r+=t[o].y*n[o](e);return{x:i,y:r}},f=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},p=function(t){return t[0].x==t[1].x&&t[0].y==t[1].y},g=function(t,e,n){if(p(t))return{point:t[0],location:e};for(var i=h(t,e),r=0,o=e,s=n>0?1:-1,a=null;r<Math.abs(n);)a=h(t,o+=.005*s),r+=f(a,i),i=a;return{point:a,location:o}},m=function(t){if(p(t))return 0;for(var e=h(t,0),n=0,i=0,r=null;i<1;)r=h(t,i+=.005),n+=f(r,e),e=r;return n},v=function(t,e,n){return g(t,e,n).point},y=function(t,e,n){return g(t,e,n).location},b=function(t,e){var n=h(t,e),i=h(t.slice(0,t.length-1),e),r=i.y-n.y,o=i.x-n.x;return 0==r?1/0:Math.atan(r/o)},w=function(t,e,n){var i=g(t,e,n);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),b(t,i.location)},$=function(t,e,n,i){var r=g(t,e,i=null==i?0:i),o=b(t,r.location),s=Math.atan(-1/o),a=n/2*Math.sin(s),l=n/2*Math.cos(s);return[{x:r.point.x+l,y:r.point.y+a},{x:r.point.x-l,y:r.point.y-a}]};this.jsBezier={distanceFromCurve:n,gradientAtPoint:b,gradientAtPointAlongCurveFrom:w,nearestPointOnCurve:i,pointOnCurve:h,pointAlongCurveFrom:v,perpendicularToCurveAt:$,locationAlongCurveFrom:y,getLength:m}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.Biltong={},e=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=function(t,n,i){return t=e(t)?t:[t.x,t.y],n=e(n)?n:[n.x,n.y],i(t,n)},i=t.gradient=function(t,e){return n(t,e,function(t,e){return e[0]==t[0]?e[1]>t[1]?1/0:-1/0:e[1]==t[1]?e[0]>t[0]?0:-0:(e[1]-t[1])/(e[0]-t[0])})},r=(t.normal=function(t,e){return-1/i(t,e)},t.lineLength=function(t,e){return n(t,e,function(t,e){return Math.sqrt(Math.pow(e[1]-t[1],2)+Math.pow(e[0]-t[0],2))})},t.quadrant=function(t,e){return n(t,e,function(t,e){return e[0]>t[0]?e[1]>t[1]?2:1:e[0]==t[0]?e[1]>t[1]?2:1:e[1]>t[1]?3:4})}),o=(t.theta=function(t,e){return n(t,e,function(t,e){var n=i(t,e),o=Math.atan(n),s=r(t,e);return 4!=s&&3!=s||(o+=Math.PI),o<0&&(o+=2*Math.PI),o})},t.intersects=function(t,e){var n=t.x,i=t.x+t.w,r=t.y,o=t.y+t.h,s=e.x,a=e.x+e.w,l=e.y,u=e.y+e.h;return n<=s&&s<=i&&r<=l&&l<=o||n<=a&&a<=i&&r<=l&&l<=o||n<=s&&s<=i&&r<=u&&u<=o||n<=a&&s<=i&&r<=u&&u<=o||s<=n&&n<=a&&l<=r&&r<=u||s<=i&&i<=a&&l<=r&&r<=u||s<=n&&n<=a&&l<=o&&o<=u||s<=i&&n<=a&&l<=o&&o<=u},t.encloses=function(t,e,n){var i=t.x,r=t.x+t.w,o=t.y,s=t.y+t.h,a=e.x,l=e.x+e.w,u=e.y,c=e.y+e.h,d=function(t,e,i,r){return n?t<=e&&i>=r:t<e&&i>r};return d(i,a,r,l)&&d(o,u,s,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),s=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,e,n){var a=i(t,e),l=r(t,e),u=n>0?o[l]:s[l],c=Math.atan(a),d=Math.abs(n*Math.sin(c))*u[1],h=Math.abs(n*Math.cos(c))*u[0];return{x:t.x+h,y:t.y+d}},t.perpendicularLineTo=function(t,e,n){var r=i(t,e),o=Math.atan(-1/r),s=n/2*Math.sin(o),a=n/2*Math.cos(o);return[{x:e.x+a,y:e.y+s},{x:e.x-a,y:e.y-s}]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e={android:navigator.userAgent.toLowerCase().indexOf("android")>-1},n=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},i=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},r=function(t){return t.srcElement||t.target},o=function(t,e,n,i){if(i){if(void 0!==t.path)return{path:t.path,end:t.path.indexOf(n)};var r={path:[],end:-1},o=function(t){r.path.push(t),t===n?r.end=r.path.length-1:null!=t.parentNode&&o(t.parentNode)};return o(e),r}return{path:[e],end:1}},s=function(t,e){for(var n=0,i=t.length;n<i&&t[n]!=e;n++);n<t.length&&t.splice(n,1)},a=1,l=function(t,e,n){var i=a++;return t.__ta=t.__ta||{},t.__ta[e]=t.__ta[e]||{},t.__ta[e][i]=n,n.__tauid=i,i},u=function(t,e,n){if(t.__ta&&t.__ta[e]&&delete t.__ta[e][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)M(t,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()},c=function(t,e,i,s){if(null==t)return i;var a=t.split(","),l=function(s){l.__tauid=i.__tauid;var u=r(s),c=u,d=o(s,u,e,null!=t);if(-1!=d.end)for(var h=0;h<d.end;h++){c=d.path[h];for(var f=0;f<a.length;f++)n(c,a[f],e)&&i.apply(c,arguments)}};return d(i,s,l),l},d=function(t,e,n){t.__taExtra=t.__taExtra||[],t.__taExtra.push([e,n])},h=function(t,e,n,i){if(y&&w[e]){var r=c(i,t,n,w[e]);P(t,w[e],r,n)}"focus"===e&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),P(t,e,c(i,t,n,e),n)},f=function(t,e,n,i){if(null==t.__taSmartClicks){var o=function(e){t.__tad=k(e)},a=function(e){t.__tau=k(e)},l=function(e){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var n=0;n<t.__taSmartClicks.length;n++)t.__taSmartClicks[n].apply(r(e),[e])};h(t,"mousedown",o,i),h(t,"mouseup",a,i),h(t,"click",l,i),t.__taSmartClicks=[]}t.__taSmartClicks.push(n),n.__taUnstore=function(){s(t.__taSmartClicks,n)}},p={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},g=function(t,e){return function(i,a,l,u){if("contextmenu"==a&&b)h(i,a,l,u);else{if(null==i.__taTapHandler){var c=i.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},d=function(s){for(var a=r(s),l=o(s,a,i,null!=u),d=!1,h=0;h<l.end;h++){if(d)return;a=l.path[h];for(var f=0;f<c.downSelectors.length;f++)if(null==c.downSelectors[f]||n(a,c.downSelectors[f],i)){c.down=!0,setTimeout(g,t),setTimeout(m,e),d=!0;break}}},f=function(t){if(c.down){var e,s,a=r(t);c.taps++;var l=T(t);for(var u in p)if(p.hasOwnProperty(u)){var d=p[u];if(d.touches===l&&(1===d.taps||d.taps===c.taps))for(var h=0;h<c[u].length;h++){s=o(t,a,i,null!=c[u][h][1]);for(var f=0;f<s.end;f++)if(e=s.path[f],null==c[u][h][1]||n(e,c[u][h][1],i)){c[u][h][0].apply(e,[t]);break}}}}},g=function(){c.down=!1},m=function(){c.taps=0};h(i,"mousedown",d),h(i,"mouseup",f)}i.__taTapHandler.downSelectors.push(u),i.__taTapHandler[a].push([l,u]),l.__taUnstore=function(){s(i.__taTapHandler[a],l)}}}},m=function(t,e,n,i){for(var r in n.__tamee[t])n.__tamee[t].hasOwnProperty(r)&&n.__tamee[t][r].apply(i,[e])},v=function(){var t=[];return function(e,i,o,s){if(!e.__tamee){e.__tamee={over:!1,mouseenter:[],mouseexit:[]};var a=function(i){var o=r(i);(null==s&&o==e&&!e.__tamee.over||n(o,s,e)&&(null==o.__tamee||!o.__tamee.over))&&(m("mouseenter",i,e,o),o.__tamee=o.__tamee||{},o.__tamee.over=!0,t.push(o))},u=function(i){for(var o=r(i),s=0;s<t.length;s++)o!=t[s]||n(i.relatedTarget||i.toElement,"*",o)||(o.__tamee.over=!1,t.splice(s,1),m("mouseexit",i,e,o))};P(e,"mouseover",c(s,e,a,"mouseover"),a),P(e,"mouseout",c(s,e,u,"mouseout"),u)}o.__taUnstore=function(){delete e.__tamee[i][o.__tauid]},l(e,i,o),e.__tamee[i][o.__tauid]=o}},y="ontouchstart"in document.documentElement,b="onmousedown"in document.documentElement,w={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},$=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),x=$>-1&&$<9,C=function(t,e){if(null==t)return[0,0];var n=_(t),i=D(n,0);return[i[e+"X"],i[e+"Y"]]},k=function(t){return null==t?[0,0]:x?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:C(t,"page")},S=function(t){return C(t,"screen")},E=function(t){return C(t,"client")},D=function(t,e){return t.item?t.item(e):t[e]},_=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},T=function(t){return _(t).length},P=function(t,e,n,i){if(l(t,e,n),i.__tauid=n.__tauid,t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var r=e+n.__tauid;t["e"+r]=n,t[r]=function(){t["e"+r]&&t["e"+r](window.event)},t.attachEvent("on"+e,t[r])}},M=function(t,e,n){null!=n&&j(t,function(){var r=i(this);if(u(r,e,n),null!=n.__tauid)if(r.removeEventListener)r.removeEventListener(e,n,!1),y&&w[e]&&r.removeEventListener(w[e],n,!1);else if(this.detachEvent){var o=e+n.__tauid;r[o]&&r.detachEvent("on"+e,r[o]),r[o]=null,r["e"+o]=null}n.__taTouchProxy&&M(t,n.__taTouchProxy[1],n.__taTouchProxy[0])})},j=function(t,e){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var n=0;n<t.length;n++)e.apply(t[n])}};t.Mottle=function(t){var n=(t=t||{}).clickThreshold||250,r=t.dblClickThreshold||450,o=new v,s=new g(n,r),a=t.smartClicks,l=function(t,e,n,r){null!=n&&j(t,function(){var t=i(this);a&&"click"===e?f(t,0,n,r):"tap"===e||"dbltap"===e||"contextmenu"===e?s(t,e,n,r):"mouseenter"===e||"mouseexit"==e?o(t,e,n,r):h(t,e,n,r)})};this.remove=function(t){return j(t,function(){var t=i(this);if(t.__ta)for(var e in t.__ta)if(t.__ta.hasOwnProperty(e))for(var n in t.__ta[e])t.__ta[e].hasOwnProperty(n)&&M(t,e,t.__ta[e][n]);t.parentNode&&t.parentNode.removeChild(t)}),this},this.on=function(t,e,n,i){var r=arguments[0],o=4==arguments.length?arguments[2]:null,s=arguments[1],a=arguments[arguments.length-1];return l(r,s,a,o),this},this.off=function(t,e,n){return M(t,e,n),this},this.trigger=function(t,n,r,o){var s=b&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),a=y&&!b&&w[n]?w[n]:n,l=!(y&&!b&&w[n]),u=k(r),c=S(r),d=E(r);return j(t,function(){var t,h=i(this);r=r||{screenX:c[0],screenY:c[1],clientX:d[0],clientY:d[1]};var f=function(t){o&&(t.payload=o)},p={TouchEvent:function(t){var e=document.createTouch(window,h,0,u[0],u[1],c[0],c[1],d[0],d[1],0,0,0,0),n=document.createTouchList(e),i=document.createTouchList(e),r=document.createTouchList(e);t.initTouchEvent(a,!0,!0,window,null,c[0],c[1],d[0],d[1],!1,!1,!1,!1,n,i,r,1,0)},MouseEvents:function(t){if(t.initMouseEvent(a,!0,!0,window,0,c[0],c[1],d[0],d[1],!1,!1,!1,!1,1,h),e.android){var n=document.createTouch(window,h,0,u[0],u[1],c[0],c[1],d[0],d[1],0,0,0,0);t.touches=t.targetTouches=t.changedTouches=document.createTouchList(n)}}};if(document.createEvent){var g=!l&&!s&&y&&w[n]&&!e.android?"TouchEvent":"MouseEvents";t=document.createEvent(g),p[g](t),f(t),h.dispatchEvent(t)}else document.createEventObject&&((t=document.createEventObject()).eventType=t.eventName=a,t.screenX=c[0],t.screenY=c[1],t.clientX=d[0],t.clientY=d[1],f(t),h.fireEvent("on"+a,t))}),this}},t.Mottle.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},t.Mottle.pageLocation=k,t.Mottle.setForceTouchEvents=function(t){y=t},t.Mottle.setForceMouseEvents=function(t){b=t}}.call("undefined"==typeof window?this:window),function(){"use strict";var t=this,e=function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},n=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},i=function(t,e){for(var n=[],i=0;i<t.length;i++)-1==e.indexOf(t[i])&&n.push(t[i]);return n},r=function(t){return null!=t&&("string"==typeof t||t.constructor==String)},o=function(t){var e=t.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,s=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,l=e.top+r-s,u=e.left+o-a;return{top:Math.round(l),left:Math.round(u)}},s=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},a=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),l=a>-1&&a<9,u=9==a,c=function(t){if(l)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var e=h(t),n=d(e,0);return u?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},d=function(t,e){return t.item?t.item(e):t[e]},h=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},f={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy"},p=["stop","start","drag","drop","over","out","beforeStart"],g=function(){},m=function(){return!0},v=function(t,e,n){for(var i=0;i<t.length;i++)t[i]!=n&&e(t[i])},y=function(t,e,n,i){v(t,function(t){t.setActive(e),e&&t.updatePosition(),n&&t.setHover(i,e)})},b=function(t,e){if(null!=t){t=r(t)||null!=t.tagName||null==t.length?[t]:t;for(var n=0;n<t.length;n++)e.apply(t[n],[t[n]])}},w=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},$=function(t,e,n){var i=t.srcElement||t.target;return!s(i,n.getInputFilterSelector(),e)},x=function(t,e,n,i){this.params=e||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=D();var r=!0;return this.setEnabled=function(t){r=t},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[i]},this.addScope=function(t){var e={};b(this.scopes,function(t){e[t]=!0}),b(t?t.split(/\s+/):[],function(t){e[t]=!0}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.removeScope=function(t){var e={};b(this.scopes,function(t){e[t]=!0}),b(t?t.split(/\s+/):[],function(t){delete e[t]}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.toggleScope=function(t){var e={};b(this.scopes,function(t){e[t]=!0}),b(t?t.split(/\s+/):[],function(t){e[t]?delete e[t]:e[t]=!0}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.setScope(e.scope),this.k=e.katavorio,e.katavorio},C=function(){return!0},k=function(){return!1},S=function(t,e,n,i){this._class=n.draggable;var a=x.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var l=[0,0],u=null,d=null,h=[0,0],p=!1,g=!1!==this.params.consumeStartEvent,v=this.el,b=this.params.clone,S=(this.params.scroll,!1!==e.multipleDrop),E=!1,_=!0===e.ghostProxy?C:e.ghostProxy&&"function"==typeof e.ghostProxy?e.ghostProxy:k,T=function(t){return t.cloneNode(!0)},P=e.snapThreshold||5,M=function(t,e,n,i,r){i=i||P,r=r||P;var o=e*Math.floor(t[0]/e),s=o+e,a=Math.abs(t[0]-o)<=i?o:Math.abs(s-t[0])<=i?s:t[0],l=n*Math.floor(t[1]/n),u=l+n;return[a,Math.abs(t[1]-l)<=r?l:Math.abs(u-t[1])<=r?u:t[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(t){return null==this.params.grid?t:M(t,this.params.grid[0],this.params.grid[1])},this.snap=function(t,e){if(null!=v){t=t||(this.params.grid?this.params.grid[0]:50),e=e||(this.params.grid?this.params.grid[1]:50);var n=this.params.getPosition(v);this.params.setPosition(v,M(n,t,e,t,e))}},this.setUseGhostProxy=function(t){_=t?C:k};var j,A=function(t){return!1===e.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},O=function(t){j="function"==typeof t?t:t?function(t){return A([Math.max(0,Math.min(H.w-this.size[0],t[0])),Math.max(0,Math.min(H.h-this.size[1],t[1]))])}.bind(this):function(t){return A(t)}}.bind(this);O("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){O(t)};var F;this.setRevert=function(t){F=t};var I=function(t){return"function"==typeof t?(t._katavorioId=D(),t._katavorioId):t},N={},R=function(t){for(var e in N){var n=N[e],i=n[0](t);if(n[1]&&(i=!i),!i)return!1}return!0},L=this.setFilter=function(e,n){if(e){var i=I(e);N[i]=[function(n){var i,o=n.srcElement||n.target;return r(e)?i=s(o,e,t):"function"==typeof e&&(i=e(n,t)),i},!1!==n]}};this.addFilter=L,this.removeFilter=function(t){var e="function"==typeof t?t._katavorioId:t;delete N[e]};this.clearAllFilters=function(){N={}},this.canDrag=this.params.canDrag||m;var H,W=[],U=[];this.downListener=function(t){if((this.rightButtonCanDrag||3!==t.which&&2!==t.button)&&this.isEnabled()&&this.canDrag())if(R(t)&&$(t,this.el,this.k)){if(b){(v=this.el.cloneNode(!0)).setAttribute("id",null),v.style.position="absolute";var e=o(this.el);v.style.left=e.left+"px",v.style.top=e.top+"px",document.body.appendChild(v)}else v=this.el;g&&w(t),l=c(t),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),a.markSelection(this),a.markPosses(this),this.params.addClass(document.body,n.noSelect),V("beforeStart",{el:this.el,pos:u,e:t,drag:this})}else this.params.consumeFilteredEvents&&w(t)}.bind(this),this.moveListener=function(t){if(l){if(!p&&!1!==V("start",{el:this.el,pos:u,e:t,drag:this})){if(!l)return;this.mark(!0),p=!0}if(l){U.length=0;var e=c(t),n=e[0]-l[0],i=e[1]-l[1],r=this.params.ignoreZoom?1:a.getZoom();n/=r,i/=r,this.moveBy(n,i,t),a.updateSelection(n,i,this),a.updatePosses(n,i,this)}}}.bind(this),this.upListener=function(t){l&&(l=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(t),a.unmarkSelection(this,t),a.unmarkPosses(this,t),this.stop(t),a.notifySelectionDragStop(this,t),a.notifyPosseDragStop(this,t),p=!1,b&&(v&&v.parentNode&&v.parentNode.removeChild(v),v=null),F&&!0===F(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,u),V("revert",this.el)))}.bind(this),this.getFilters=function(){return N},this.abort=function(){null!=l&&this.upListener()},this.getDragElement=function(){return v||this.el};var B={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};e.events.start&&B.start.push(e.events.start),e.events.beforeStart&&B.beforeStart.push(e.events.beforeStart),e.events.stop&&B.stop.push(e.events.stop),e.events.drag&&B.drag.push(e.events.drag),e.events.revert&&B.revert.push(e.events.revert),this.on=function(t,e){B[t]&&B[t].push(e)},this.off=function(t,e){if(B[t]){for(var n=[],i=0;i<B[t].length;i++)B[t][i]!==e&&n.push(B[t][i]);B[t]=n}};var V=function(t,e){if(B[t])for(var n=0;n<B[t].length;n++)try{B[t][n](e)}catch(t){}};this.notifyStart=function(t){V("start",{el:this.el,pos:this.params.getPosition(v),e:t,drag:this})},this.stop=function(t,e){if(e||p){var n=[],i=a.getSelection(),r=this.params.getPosition(v);if(i.length>1)for(var o=0;o<i.length;o++){var s=this.params.getPosition(i[o].el);n.push([i[o].el,{left:s[0],top:s[1]},i[o]])}else n.push([v,{left:r[0],top:r[1]},this]);V("stop",{el:v,pos:Y||r,finalPos:r,e:t,drag:this,selection:n})}},this.mark=function(t){u=this.params.getPosition(v),d=this.params.getPosition(v,!0),h=[d[0]-u[0],d[1]-u[1]],this.size=this.params.getSize(v),W=a.getMatchingDroppables(this),y(W,!0,!1,this),this.params.addClass(v,this.params.dragClass||n.drag);var e=this.params.getSize(v.parentNode);H={w:e[0],h:e[1]},t&&a.notifySelectionDragStart(this)};var Y;this.unmark=function(t,i){if(y(W,!1,!0,this),E&&_(this.el)?(Y=[v.offsetLeft,v.offsetTop],this.el.parentNode.removeChild(v),v=this.el):Y=null,this.params.removeClass(v,this.params.dragClass||n.drag),W.length=0,E=!1,!i){U.length>0&&Y&&e.setPosition(this.el,Y);for(var r=0;r<U.length&&!0!==U[r].drop(this,t);r++);}},this.moveBy=function(t,n,i){U.length=0;var r=this.toGrid([u[0]+t,u[1]+n]),o=j(r,v);if(_(this.el))if(r[0]!=o[0]||r[1]!=o[1]){if(!E){var s=T(this.el);e.addClass(s,f.ghostProxy),this.el.parentNode.appendChild(s),v=s,E=!0}o=r}else E&&(this.el.parentNode.removeChild(v),v=this.el,E=!1);var a={x:o[0],y:o[1],w:this.size[0],h:this.size[1]},l={x:a.x+h[0],y:a.y+h[1],w:a.w,h:a.h},c=null;this.params.setPosition(v,o);for(var d=0;d<W.length;d++){var p={x:W[d].pagePosition[0],y:W[d].pagePosition[1],w:W[d].size[0],h:W[d].size[1]};this.params.intersects(l,p)&&(S||null==c||c==W[d].el)&&W[d].canDrop(this)?(c||(c=W[d].el),U.push(W[d]),W[d].setHover(this,!0,i)):W[d].isHover()&&W[d].setHover(this,!1,i)}V("drag",{el:this.el,pos:o,e:i,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?L(this.params.handle,!1):L(this.params.filter,this.params.filterExclude)},E=function(t,e,n,i){this._class=n.droppable,this.params=e||{},this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,x.apply(this,arguments);var r=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return r},this.setHover=function(t,e,n){(e||null==this.el._katavorioDragHover||this.el._katavorioDragHover==t.el._katavorio)&&(this.params[e?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=e?t.el._katavorio:null,r!==e&&this.params.events[e?"over":"out"]({el:this.el,e:n,drag:t,drop:this}),r=e)},this.drop=function(t,e){return this.params.events.drop({drag:t,e:e,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,r=null}},D=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},_=function(t){return null==t?null:null==(t="string"==typeof t||t.constructor==String?document.getElementById(t):t)?null:(t._katavorio=t._katavorio||D(),t)};t.Katavorio=function(t){var o=[],s={};this._dragsByScope={},this._dropsByScope={};var a=1,l=function(t,e){b(t,function(t){for(var n=0;n<t.scopes.length;n++)e[t.scopes[n]]=e[t.scopes[n]]||[],e[t.scopes[n]].push(t)})},u=function(e,n){var i=0;return b(e,function(e){for(var r=0;r<e.scopes.length;r++)if(n[e.scopes[r]]){var o=t.indexOf(n[e.scopes[r]],e);-1!=o&&(n[e.scopes[r]].splice(o,1),i++)}}),i>0},c=(this.getMatchingDroppables=function(t){for(var e=[],n={},i=0;i<t.scopes.length;i++){var r=this._dropsByScope[t.scopes[i]];if(r)for(var o=0;o<r.length;o++)!r[o].canDrop(t)||n[r[o].uuid]||!r[o].allowLoopback&&r[o].el===t.el||(n[r[o].uuid]=!0,e.push(r[o]))}return e},function(e){e=e||{};var n,i={events:{}};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];for(n=0;n<p.length;n++)i.events[p[n]]=e[p[n]]||g;return i.katavorio=this,i}.bind(this)),d=function(t,e){for(var n=0;n<p.length;n++)e[p[n]]&&t.on(p[n],e[p[n]])}.bind(this),h={},m=t.css||{},y=t.scope||"katavorio-drag-scope";for(var w in f)h[w]=f[w];for(var w in m)h[w]=m[w];var $=t.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return $},this.setInputFilterSelector=function(t){return $=t,this},this.draggable=function(e,n){var i=[];return b(e,function(e){if(null!=(e=_(e)))if(null==e._katavorioDrag){var r=c(n);e._katavorioDrag=new S(e,r,h,y),l(e._katavorioDrag,this._dragsByScope),i.push(e._katavorioDrag),t.addClass(e,h.draggable)}else d(e._katavorioDrag,n)}.bind(this)),i},this.droppable=function(e,n){var i=[];return b(e,function(e){if(null!=(e=_(e))){var r=new E(e,c(n),h,y);e._katavorioDrop=e._katavorioDrop||[],e._katavorioDrop.push(r),l(r,this._dropsByScope),i.push(r),t.addClass(e,h.droppable)}}.bind(this)),i},this.select=function(e){return b(e,function(){var e=_(this);e&&e._katavorioDrag&&(s[e._katavorio]||(o.push(e._katavorioDrag),s[e._katavorio]=[e,o.length-1],t.addClass(e,h.selected)))}),this},this.deselect=function(e){return b(e,function(){var e=_(this);if(e&&e._katavorio&&s[e._katavorio]){for(var n=[],i=0;i<o.length;i++)o[i].el!==e&&n.push(o[i]);o=n,delete s[e._katavorio],t.removeClass(e,h.selected)}}),this},this.deselectAll=function(){for(var e in s){var n=s[e];t.removeClass(n[0],h.selected)}o.length=0,s={}},this.markSelection=function(t){v(o,function(t){t.mark()},t)},this.markPosses=function(t){t.posses&&b(t.posses,function(e){t.posseRoles[e]&&D[e]&&v(D[e].members,function(t){t.mark()},t)})},this.unmarkSelection=function(t,e){v(o,function(t){t.unmark(e)},t)},this.unmarkPosses=function(t,e){t.posses&&b(t.posses,function(n){t.posseRoles[n]&&D[n]&&v(D[n].members,function(t){t.unmark(e,!0)},t)})},this.getSelection=function(){return o.slice(0)},this.updateSelection=function(t,e,n){v(o,function(n){n.moveBy(t,e)},n)};var x=function(t,e){e.posses&&b(e.posses,function(n){e.posseRoles[n]&&D[n]&&v(D[n].members,function(e){t(e)},e)})};this.updatePosses=function(t,e,n){x(function(n){n.moveBy(t,e)},n)},this.notifyPosseDragStop=function(t,e){x(function(t){t.stop(e,!0)},t)},this.notifySelectionDragStop=function(t,e){v(o,function(t){t.stop(e,!0)},t)},this.notifySelectionDragStart=function(t,e){v(o,function(t){t.notifyStart(e)},t)},this.setZoom=function(t){a=t},this.getZoom=function(){return a};var C=function(t,e,n,i){b(t,function(t){u(t,n),t[i](e),l(t,n)})};b(["set","add","remove","toggle"],function(t){this[t+"Scope"]=function(e,n){C(e._katavorioDrag,n,this._dragsByScope,t+"Scope"),C(e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this),this[t+"DragScope"]=function(e,n){C(e.constructor===S?e:e._katavorioDrag,n,this._dragsByScope,t+"Scope")}.bind(this),this[t+"DropScope"]=function(e,n){C(e.constructor===E?e:e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(t,e){for(var n in this._dragsByScope)v(this._dragsByScope[n],function(n){n.snap(t,e)})},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var k=function(t,e,n){(t=_(t))[e]&&(u(t[e],n)&&b(t[e],function(t){t.destroy()}),delete t[e])};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t){k(t,"_katavorioDrag",this._dragsByScope)},this.destroyDroppable=function(t){k(t,"_katavorioDrop",this._dropsByScope)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},o=[],s={},D={}};var D={},T=function(t,n,i){var o=r(n)?n:n.id,s=!!r(n)||!1!==n.active,a=D[o]||function(){var t={name:o,members:[]};return D[o]=t,t}();return b(t,function(t){if(t._katavorioDrag){if(i&&null!=t._katavorioDrag.posseRoles[a.name])return;e(a.members,t._katavorioDrag),e(t._katavorioDrag.posses,a.name),t._katavorioDrag.posseRoles[a.name]=s}}),a};this.addToPosse=function(t,e){for(var n=[],i=1;i<arguments.length;i++)n.push(T(t,arguments[i]));return 1==n.length?n[0]:n},this.setPosse=function(t,e){for(var n=[],r=1;r<arguments.length;r++)n.push(T(t,arguments[r],!0).name);return b(t,function(t){if(t._katavorioDrag){var e=i(t._katavorioDrag.posses,n),r=[];Array.prototype.push.apply(r,t._katavorioDrag.posses);for(var o=0;o<e.length;o++)this.removeFromPosse(t,e[o])}}.bind(this)),1==n.length?n[0]:n},this.removeFromPosse=function(t,e){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var i=1;i<arguments.length;i++)e=arguments[i],b(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var i=t._katavorioDrag;b(e,function(t){n(D[t].members,i),n(i.posses,t),delete i.posseRoles[t]})}})},this.removeFromAllPosses=function(t){b(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var e=t._katavorioDrag;b(e.posses,function(t){n(D[t].members,e)}),e.posses.length=0,e.posseRoles={}}})},this.setPosseState=function(t,e,n){var i=D[e];i&&b(t,function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[i.name]=n)})}}}.call("undefined"!=typeof window?window:this),function(){var t=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e=function(t){return"[object Number]"===Object.prototype.toString.call(t)},n=function(t){return"string"==typeof t},i=function(t){return"boolean"==typeof t},r=function(t){return null==t},o=function(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)},s=function(t){return"[object Date]"===Object.prototype.toString.call(t)},a=function(t){return"[object Function]"===Object.prototype.toString.call(t)},l=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},u=this,c=u.jsPlumbUtil={isArray:t,isString:n,isBoolean:i,isNull:r,isObject:o,isDate:s,isFunction:a,isEmpty:l,isNumber:e,clone:function(e){if(n(e))return""+e;if(i(e))return!!e;if(s(e))return new Date(e.getTime());if(a(e))return e;if(t(e)){for(var r=[],l=0;l<e.length;l++)r.push(this.clone(e[l]));return r}if(o(e)){var u={};for(var c in e)u[c]=this.clone(e[c]);return u}return e},merge:function(e,r,s){var a,l,u={};for(s=s||[],l=0;l<s.length;l++)u[s[l]]=!0;var c=this.clone(e);for(l in r)if(null==c[l])c[l]=r[l];else if(n(r[l])||i(r[l]))u[l]?((a=[]).push.apply(a,t(c[l])?c[l]:[c[l]]),a.push.apply(a,t(r[l])?r[l]:[r[l]]),c[l]=a):c[l]=r[l];else if(t(r[l]))a=[],t(c[l])&&a.push.apply(a,c[l]),a.push.apply(a,r[l]),c[l]=a;else if(o(r[l])){o(c[l])||(c[l]={});for(var d in r[l])c[l][d]=r[l][d]}return c},replace:function(t,e,n){if(null!=t){var i=t;return e.replace(/([^\.])+/g,function(t,e,r,o){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=function(){return i[s[1]]||function(){return i[s[1]]=[],i[s[1]]}()};if(r+t.length>=o.length)s?a()[s[3]]=n:i[t]=n;else if(s){var l=a();i=l[s[3]]||function(){return l[s[3]]={},l[s[3]]}()}else i=i[t]||function(){return i[t]={},i[t]}()}),t}},functionChain:function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(r===e)return r}return t},populate:function(e,i,r){var s=function(t){var e=t.match(/(\${.*?})/g);if(null!=e)for(var n=0;n<e.length;n++){var r=i[e[n].substring(2,e[n].length-1)]||"";null!=r&&(t=t.replace(e[n],r))}return t},l=function(e){if(null!=e){if(n(e))return s(e);if(!a(e)||null!=r&&0!==(e.name||"").indexOf(r)){if(t(e)){for(var u=[],c=0;c<e.length;c++)u.push(l(e[c]));return u}if(o(e)){var d={};for(var h in e)d[h]=l(e[h]);return d}return e}return e(i)}};return l(e)},findWithFunction:function(t,e){if(t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},removeWithFunction:function(t,e){var n=c.findWithFunction(t,e);return n>-1&&t.splice(n,1),-1!=n},remove:function(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),-1!=n},addWithFunction:function(t,e,n){-1==c.findWithFunction(t,n)&&t.push(e)},addToList:function(t,e,n,i){var r=t[e];return null==r&&(r=[],t[e]=r),r[i?"unshift":"push"](n),r},suggest:function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},extend:function(e,n,i){var r;for(n=t(n)?n:[n],r=0;r<n.length;r++)for(var o in n[r].prototype)n[r].prototype.hasOwnProperty(o)&&(e.prototype[o]=n[r].prototype[o]);var s=function(t,e){return function(){for(r=0;r<n.length;r++)n[r].prototype[t]&&n[r].prototype[t].apply(this,arguments);return e.apply(this,arguments)}};if(arguments.length>2)for(r=2;r<arguments.length;r++)!function(t){for(var n in t)e.prototype[n]=s(n,t[n])}(arguments[r]);return e},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},logEnabled:!0,log:function(){if(c.logEnabled&&"undefined"!=typeof console)try{var t=arguments[arguments.length-1];console.log(t)}catch(t){}},wrap:function(t,e,n){return t=t||function(){},e=e||function(){},function(){var i=null;try{i=e.apply(this,arguments)}catch(t){c.log("jsPlumb function failed : "+t)}if(null==n||i!==n)try{i=t.apply(this,arguments)}catch(t){c.log("wrapped function failed : "+t)}return i}}};c.EventGenerator=function(){var t={},e=!1,n={ready:!0};this.bind=function(e,n,i){var r=function(e){c.addToList(t,e,n,i),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[u.jsPlumbUtil.uuid()]=e};if("string"==typeof e)r(e);else if(null!=e.length)for(var o=0;o<e.length;o++)r(e[o]);return this},this.fire=function(i,r,o){if(!e&&t[i]){var s=t[i].length,a=0,l=!1,u=null;if(!this.shouldFireEvent||this.shouldFireEvent(i,r,o))for(;!l&&a<s&&!1!==u;){if(n[i])t[i][a].apply(this,[r,o]);else try{u=t[i][a].apply(this,[r,o])}catch(t){c.log("jsPlumb: fire failed for event "+i+" : "+t)}a++,null!=t&&null!=t[i]||(l=!0)}}return this},this.unbind=function(e,n){if(0===arguments.length)t={};else if(1===arguments.length){if("string"==typeof e)delete t[e];else if(e.__jsPlumb){var i;for(var r in e.__jsPlumb)i=e.__jsPlumb[r],c.remove(t[i]||[],e)}}else 2===arguments.length&&c.remove(t[e]||[],n);return this},this.getListener=function(e){return t[e]},this.setSuspendEvents=function(t){e=t},this.isSuspendEvents=function(){return e},this.silently=function(t){this.setSuspendEvents(!0);try{t()}catch(t){u.jsPlumbUtil.log("Cannot execute silent function "+t)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var e in t)t[e]=null}},c.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumbUtil;t.matchesSelector=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},t.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},t.sizeElement=function(t,e,n,i,r){t&&(t.style.height=r+"px",t.height=r,t.style.width=i+"px",t.width=i,t.style.left=e+"px",t.style.top=n+"px")}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t,e=this,n=[],i=e.jsPlumbUtil,r=function(){return""+(new Date).getTime()},o=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var e={};v.extend(e,t._jsPlumb.paintStyle),v.extend(e,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,e.gradient&&t._jsPlumb.paintStyle.fillStyle&&delete e.gradient,t._jsPlumb.hoverPaintStyle=e}},s=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],a=function(t,e,n,i){var r=t.getAttachedElements();if(r)for(var o=0,s=r.length;o<s;o++)i&&i==r[o]||r[o].setHover(e,!0,n)},l=function(t){return null==t?null:t.split(" ")},u=function(t,e,n){for(var i in e)t[i]=n},c=function(t,e){e=i.isArray(e)||null!=e.length&&!i.isString(e)?e:[e];for(var n=0;n<e.length;n++)try{t.apply(e[n],[e[n]])}catch(t){i.log(".each iteration failed : "+t)}},d=function(t,e,n){if(t.getDefaultType){var r=t.getTypeDescriptor(),o={},s=t.getDefaultType(),a=i.merge({},s);u(o,s,"__default");for(var l=0,c=t._jsPlumb.types.length;l<c;l++){var d=t._jsPlumb.types[l];if("__default"!==d){var h=t._jsPlumb.instance.getType(d,r);null!=h&&(a=i.merge(a,h,["cssClass"]),u(o,h,d))}}e&&(a=i.populate(a,e,"_")),t.applyType(a,n,o),n||t.repaint()}},h=e.jsPlumbUIComponent=function(t){i.EventGenerator.apply(this,arguments);var e=this,n=arguments,r=e.idPrefix+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,e,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][t]=e},this.getCachedTypeItem=function(t,e){return this._jsPlumb.typeCache[e]?this._jsPlumb.typeCache[e][t]:null},this.getId=function(){return r};var o=t.overlays||[],s={};if(this.defaultOverlayKeys){for(var a=0;a<this.defaultOverlayKeys.length;a++)Array.prototype.push.apply(o,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[a]]||[]);for(a=0;a<o.length;a++){var l=v.convertToFullOverlaySpec(o[a]);s[l[1].id]=l}}var u={overlays:s,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return u},this.appendToDefaultType=function(t){for(var e in t)u[e]=t[e]},t.events)for(a in t.events)e.bind(a,t.events[a]);this.clone=function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,n),t}.bind(this),this.isDetachAllowed=function(t){var e=!0;if(this._jsPlumb.beforeDetach)try{e=this._jsPlumb.beforeDetach(t)}catch(t){i.log("jsPlumb: beforeDetach callback failed",t)}return e},this.isDropAllowed=function(t,e,n,r,o,s,a){var l=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:e,scope:n,connection:r,dropEndpoint:o,source:s,target:a});if(this._jsPlumb.beforeDrop)try{l=this._jsPlumb.beforeDrop({sourceId:t,targetId:e,scope:n,connection:r,dropEndpoint:o,source:s,target:a})}catch(t){i.log("jsPlumb: beforeDrop callback failed",t)}return l};var c=[];this.setListenerComponent=function(t){for(var e=0;e<c.length;e++)c[e][3]=t}},f=function(t,e){var n=t._jsPlumb.types[e],i=t._jsPlumb.instance.getType(n,t.getTypeDescriptor());null!=i&&i.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,i.cssClass)};i.extend(e.jsPlumbUIComponent,i.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,e){this._jsPlumb.parameters[t]=e},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return v.getClass(this.canvas)},hasClass:function(t){return v.hasClass(this.canvas,t)},addClass:function(t){v.addClass(this.canvas,t)},removeClass:function(t){v.removeClass(this.canvas,t)},updateClasses:function(t,e){v.updateClasses(this.canvas,t,e)},setType:function(t,e,n){this.clearTypes(),this._jsPlumb.types=l(t)||[],d(this,e,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,e){d(this,t,e)},hasType:function(t){return-1!=this._jsPlumb.types.indexOf(t)},addType:function(t,e,n){var i=l(t),r=!1;if(null!=i){for(var o=0,s=i.length;o<s;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),r=!0);r&&d(this,e,n)}},removeType:function(t,e,n){var i=l(t),r=!1,o=function(t){var e=this._jsPlumb.types.indexOf(t);return-1!=e&&(f(this,e),this._jsPlumb.types.splice(e,1),!0)}.bind(this);if(null!=i){for(var s=0,a=i.length;s<a;s++)r=o(i[s])||r;r&&d(this,e,n)}},clearTypes:function(t,e){for(var n=this._jsPlumb.types.length,i=0;i<n;i++)f(this,0),this._jsPlumb.types.splice(0,1);d(this,t,e)},toggleType:function(t,e,n){var i=l(t);if(null!=i){for(var r=0,o=i.length;r<o;r++){var s=this._jsPlumb.types.indexOf(i[r]);-1!=s?(f(this,s),this._jsPlumb.types.splice(s,1)):this._jsPlumb.types.push(i[r])}d(this,e,n)}},applyType:function(t,e){if(this.setPaintStyle(t.paintStyle,e),this.setHoverPaintStyle(t.hoverPaintStyle,e),t.parameters)for(var n in t.parameters)this.setParameter(n,t.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,e){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,o(this),e||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,e){this._jsPlumb.hoverPaintStyle=t,o(this),e||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,e,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){if(this._jsPlumb.hover=t,null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass){var i=t?"addClass":"removeClass";this._jsPlumb.instance[i](this.canvas,this._jsPlumb.instance.hoverClass)}null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||r(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!e&&a(this,t,r(),this)}}});var p=0,g=function(){var t=p+1;return p++,t},m=e.jsPlumbInstance=function(o){this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:4,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},o&&v.extend(this.Defaults,o),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},i.EventGenerator.apply(this);var a=this,l=g(),u=a.bind,d={},f=1,p=function(t){if(null==t)return null;if(3==t.nodeType||8==t.nodeType)return{el:t,text:!0};var e=a.getElement(t);return{el:e,id:i.isString(t)&&null==e?t:J(e)}};this.getInstanceIndex=function(){return l},this.setZoom=function(t,e){return f=t,a.fire("zoom",f),e&&a.repaintEverything(),!0},this.getZoom=function(){return f};for(var m in this.Defaults)d[m]=this.Defaults[m];var y,b=[];this.unbindContainer=function(){if(null!=y&&b.length>0)for(var t=0;t<b.length;t++)a.off(y,b[t][0],b[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each(function(e){e.moveParent(t)}),this.selectEndpoints().each(function(e){e.moveParent(t)});var e=y;y=t,b.length=0;for(var n={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},i=function(t,e,i){var r=e.srcElement||e.target,o=(r&&r.parentNode?r.parentNode._jsPlumb:null)||(r?r._jsPlumb:null)||(r&&r.parentNode&&r.parentNode.parentNode?r.parentNode.parentNode._jsPlumb:null);if(o){o.fire(t,o,e);var s=i?n[i+t]||t:t;a.fire(s,o.component||o,e)}},r=function(t,e,n){b.push([t,n]),a.on(y,t,e,n)},o=0;o<s.length;o++)!function(t){r(t,".jsplumb-connector",function(e){i(t,e)}),r(t,".jsplumb-endpoint",function(e){i(t,e,"endpoint")}),r(t,".jsplumb-overlay",function(e){i(t,e)})}(s[o]);for(var l in S){var u=S[l].el;u.parentNode===e&&(e.removeChild(u),y.appendChild(u))}},this.getContainer=function(){return y},this.bind=function(t,e){"ready"===t&&$?e():u.apply(a,[t,e])},a.importDefaults=function(t){for(var e in t)a.Defaults[e]=t[e];return t.Container&&a.setContainer(t.Container),a},a.restoreDefaults=function(){return a.Defaults=v.extend({},d),a};var w=null,$=!1,x=[],C={},k={},S={},E={},D={},_={},T=!1,P=[],M=!1,j=null,A=this.Defaults.Scope,O=1,F=function(){return""+O++},I=function(t,e){y?y.appendChild(t):e?this.getElement(e).appendChild(t):this.appendToRoot(t)}.bind(this),N=function(t,e,n,i){if(!v.headless&&!M){var o=J(t),s=a.getDragManager().getElementsForDraggable(o);null==n&&(n=r());var l=vt({elId:o,offset:e,recalc:!1,timestamp:n});if(s)for(var u in s)vt({elId:s[u].id,offset:{left:l.o.left+s[u].offset.left,top:l.o.top+s[u].offset.top},recalc:!1,timestamp:n});if(a.anchorManager.redraw(o,e,n,null,i),s)for(var c in s)a.anchorManager.redraw(s[c].id,e,n,s[c].offset,i,!0)}},R=function(t){return k[t]},L=function(t,e,n,r,o){if(!v.headless&&null!=e&&e&&v.isDragSupported(t,a)){var s=n||a.Defaults.DragOptions;if(s=v.extend({},s),v.isAlreadyDraggable(t,a))n.force&&a.initDraggable(t,s);else{var l=v.dragEvents.drag,u=v.dragEvents.stop,c=v.dragEvents.start,d=!1;mt(r,t),s[c]=i.wrap(s[c],function(){if(a.setHoverSuspended(!0),a.select({source:t}).addClass(a.elementDraggingClass+" "+a.sourceElementDraggingClass,!0),a.select({target:t}).addClass(a.elementDraggingClass+" "+a.targetElementDraggingClass,!0),a.setConnectionBeingDragged(!0),s.canDrag)return n.canDrag()},!1),s[l]=i.wrap(s[l],function(){var e=a.getUIPosition(arguments,a.getZoom());null!=e&&(N(t,e,null,!0),d&&a.addClass(t,"jsplumb-dragged"),d=!0)}),s[u]=i.wrap(s[u],function(){for(var t,e=arguments[0].selection,n=0;n<e.length;n++)!function(e){null!=e[1]&&(t=a.getUIPosition([{el:e[2].el,pos:[e[1].left,e[1].top]}]),N(e[2].el,t)),a.removeClass(e[0],"jsplumb-dragged"),a.select({source:e[2].el}).removeClass(a.elementDraggingClass+" "+a.sourceElementDraggingClass,!0),a.select({target:e[2].el}).removeClass(a.elementDraggingClass+" "+a.targetElementDraggingClass,!0),a.getDragManager().dragEnded(e[2].el)}(e[n]);d=!1,a.setHoverSuspended(!1),a.setConnectionBeingDragged(!1)});var h=J(t);_[h]=!0;var f=_[h];s.disabled=null!=f&&!f,a.initDraggable(t,s),a.getDragManager().register(t),o&&a.fire("elementDraggable",{el:t,options:s})}}},H=function(t,e){for(var n=t.scope.split(/\s/),i=e.scope.split(/\s/),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(i[o]==n[r])return!0;return!1},W=function(t,e){var n=v.extend({},t);if(e&&v.extend(n,e),n.source&&(n.source.endpoint?n.sourceEndpoint=n.source:n.source=a.getElement(n.source)),n.target&&(n.target.endpoint?n.targetEndpoint=n.target:n.target=a.getElement(n.target)),t.uuids&&(n.sourceEndpoint=R(t.uuids[0]),n.targetEndpoint=R(t.uuids[1])),n.sourceEndpoint&&n.sourceEndpoint.isFull())i.log(a,"could not add connection; source endpoint is full");else if(n.targetEndpoint&&n.targetEndpoint.isFull())i.log(a,"could not add connection; target endpoint is full");else{if(!n.type&&n.sourceEndpoint&&(n.type=n.sourceEndpoint.connectionType),n.sourceEndpoint&&n.sourceEndpoint.connectorOverlays){n.overlays=n.overlays||[];for(var r=0,o=n.sourceEndpoint.connectorOverlays.length;r<o;r++)n.overlays.push(n.sourceEndpoint.connectorOverlays[r])}n.sourceEndpoint&&n.sourceEndpoint.scope&&(n.scope=n.sourceEndpoint.scope),!n["pointer-events"]&&n.sourceEndpoint&&n.sourceEndpoint.connectorPointerEvents&&(n["pointer-events"]=n.sourceEndpoint.connectorPointerEvents);var s=function(t,e){var n=v.extend({},t);for(var i in e)e[i]&&(n[i]=e[i]);return n},l=function(t,e,i){return a.addEndpoint(t,s(e,{anchor:n.anchors?n.anchors[i]:n.anchor,endpoint:n.endpoints?n.endpoints[i]:n.endpoint,paintStyle:n.endpointStyles?n.endpointStyles[i]:n.endpointStyle,hoverPaintStyle:n.endpointHoverStyles?n.endpointHoverStyles[i]:n.endpointHoverStyle}))},u=function(t,e,i,r){if(n[t]&&!n[t].endpoint&&!n[t+"Endpoint"]&&!n.newConnection){var o=i[J(n[t])];if(o=o?o[r]:null){if(!o.enabled)return!1;var s=null!=o.endpoint&&o.endpoint._jsPlumb?o.endpoint:l(n[t],o.def,e);if(s.isFull())return!1;n[t+"Endpoint"]=s,s._doNotDeleteOnDetach=!1,s._deleteOnDetach=!0,o.uniqueEndpoint&&(o.endpoint?s.finalEndpoint=o.endpoint:(o.endpoint=s,s._deleteOnDetach=!1,s._doNotDeleteOnDetach=!0))}}};if(!1!==u("source",0,this.sourceEndpointDefinitions,n.type||"default")&&!1!==u("target",1,this.targetEndpointDefinitions,n.type||"default"))return n.sourceEndpoint&&n.targetEndpoint&&(H(n.sourceEndpoint,n.targetEndpoint)||(n=null)),n}}.bind(a),U=function(t){var e=a.Defaults.ConnectionType||a.getDefaultConnectionType();t._jsPlumb=a,t.newConnection=U,t.newEndpoint=V,t.endpointsByUUID=k,t.endpointsByElement=C,t.finaliseConnection=B,t.id="con_"+F();var n=new e(t);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},B=a.finaliseConnection=function(t,e,n,i){if(e=e||{},t.suspendedEndpoint||x.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,!1!==i&&a.anchorManager.newConnection(t),N(t.source),!e.doNotFireConnectionEvent&&!1!==e.fireEvent){var r={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};a.fire("connection",r,n)}},V=function(t,e){var n=a.Defaults.EndpointType||v.Endpoint,i=v.extend({},t);i._jsPlumb=a,i.newConnection=U,i.newEndpoint=V,i.endpointsByUUID=k,i.endpointsByElement=C,i.fireDetachEvent=tt,i.elementId=e||J(i.source);var r=new n(i);return r.id="ep_"+F(),mt(i.elementId,i.source),v.headless||a.getDragManager().endpointAdded(i.source,e),r},Y=function(t,e,n){var i=C[t];if(i&&i.length)for(var r=0,o=i.length;r<o;r++){for(var s=0,a=i[r].connections.length;s<a;s++)if(e(i[r].connections[s]))return;n&&n(i[r])}},z=function(t,e){return v.each(t,function(t){a.isDragSupported(t)&&(_[a.getAttribute(t,"id")]=e,a.setElementDraggable(t,e))})},G=function(t,e,n){e="block"===e;var i=null;n&&(i=function(t){t.setVisible(e,!0,!0)});var r=p(t);Y(r.id,function(t){if(e&&n){var i=t.sourceId===r.id?1:0;t.endpoints[i].isVisible()&&t.setVisible(!0)}else t.setVisible(e)},i)},q=function(t){var e;return v.each(t,function(t){var n=a.getAttribute(t,"id");return e=null!=_[n]&&_[n],e=!e,_[n]=e,a.setDraggable(t,e),e}.bind(this)),e},X=function(t,e){var n=null;e&&(n=function(t){var e=t.isVisible();t.setVisible(!e)}),Y(t,function(t){var e=t.isVisible();t.setVisible(!e)},n)},Z=function(t){var e=E[t];return e?{o:e,s:P[t]}:vt({elId:t})},J=function(t,e,n){if(i.isString(t))return t;if(null==t)return null;var r=a.getAttribute(t,"id");return r&&"undefined"!==r||(2==arguments.length&&void 0!==arguments[1]?r=e:(1==arguments.length||3==arguments.length&&!arguments[2])&&(r="jsPlumb_"+l+"_"+F()),n||a.setAttribute(t,"id",r)),r};this.setConnectionBeingDragged=function(t){T=t},this.isConnectionBeingDragged=function(){return T},this.getManagedElements=function(){return S},this.getRenderMode=function(){return"svg"},this.connectorClass="jsplumb-connector",this.connectorOutlineClass="jsplumb-connector-outline",this.editableConnectorClass="jsplumb-connector-editable",this.connectedClass="jsplumb-connected",this.hoverClass="jsplumb-hover",this.endpointClass="jsplumb-endpoint",this.endpointConnectedClass="jsplumb-endpoint-connected",this.endpointFullClass="jsplumb-endpoint-full",this.endpointDropAllowedClass="jsplumb-endpoint-drop-allowed",this.endpointDropForbiddenClass="jsplumb-endpoint-drop-forbidden",this.overlayClass="jsplumb-overlay",this.draggingClass="jsplumb-dragging",this.elementDraggingClass="jsplumb-element-dragging",this.sourceElementDraggingClass="jsplumb-source-element-dragging",this.targetElementDraggingClass="jsplumb-target-element-dragging",this.endpointAnchorClassPrefix="jsplumb-endpoint-anchor",this.hoverSourceClass="jsplumb-source-hover",this.hoverTargetClass="jsplumb-target-hover",this.dragSelectClass="jsplumb-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,e,n){n=n||{};var r=v.extend({},n);v.extend(r,e),r.endpoint=r.endpoint||a.Defaults.Endpoint,r.paintStyle=r.paintStyle||a.Defaults.EndpointStyle;for(var o=[],s=i.isArray(t)||null!=t.length&&!i.isString(t)?t:[t],l=0,u=s.length;l<u;l++){r.source=a.getElement(s[l]),pt(r.source);var c=J(r.source),d=V(r,c),h=mt(c,r.source).info.o;i.addToList(C,c,d),M||d.paint({anchorLoc:d.anchor.compute({xy:[h.left,h.top],wh:P[c],element:d,timestamp:j}),timestamp:j}),o.push(d),d._doNotDeleteOnDetach=!0}return 1==o.length?o[0]:o},this.addEndpoints=function(t,e,n){for(var r=[],o=0,s=e.length;o<s;o++){var l=a.addEndpoint(t,e[o],n);i.isArray(l)?Array.prototype.push.apply(r,l):r.push(l)}return r},this.animate=function(t,e,n){if(!this.animationSupported)return!1;n=n||{};var r=a.getElement(t),o=J(r),s=v.animEvents.step,l=v.animEvents.complete;n[s]=i.wrap(n[s],function(){a.revalidate(o)}),n[l]=i.wrap(n[l],function(){a.revalidate(o)}),a.doAnimate(r,e,n)},this.checkCondition=function(t,e){var n=a.getListener(t),r=!0;if(n&&n.length>0){var o=Array.prototype.slice.call(arguments,1);try{for(var s=0,l=n.length;s<l;s++)r=r&&n[s].apply(n[s],o)}catch(e){i.log(a,"cannot check condition ["+t+"]"+e)}}return r},this.connect=function(t,e){var n,r=W(t,e);if(r){if(null==r.source&&null==r.sourceEndpoint)return void i.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void i.log("Cannot establish connection - target does not exist");pt(r.source),n=U(r),B(n,r)}return n};var Q=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],K=function(t,e,n,i){var r,o,s,a=Q[n],l=t[a.elId],u=(t[a.el],t.endpoints[n]),c={index:n,originalSourceId:0===n?l:t.sourceId,newSourceId:t.sourceId,originalTargetId:1==n?l:t.targetId,newTargetId:t.targetId,connection:t};if(e.constructor==v.Endpoint)(r=e).addConnection(t),e=r.element;else if(o=J(e),s=this[a.epDefs][o],o===t[a.elId])r=null;else if(s)for(var d in s){if(!s[d].enabled)return;r=null!=s[d].endpoint&&s[d].endpoint._jsPlumb?s[d].endpoint:this.addEndpoint(e,s[d].def),s[d].uniqueEndpoint&&(s[d].endpoint=r),r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,r.addConnection(t)}else(r=t.makeEndpoint(0===n,e,o))._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0;return null!=r&&(u.detachFromConnection(t),t.endpoints[n]=r,t[a.el]=r.element,t[a.elId]=r.elementId,c[0===n?"newSourceId":"newTargetId"]=r.elementId,et(c),i||t.repaint()),c.element=e,c}.bind(this);this.setSource=function(t,e,n){var i=K(t,e,0,n);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,t,i.el)},this.setTarget=function(t,e,n){var i=K(t,e,1,n);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,t)},this.deleteEndpoint=function(t,e,n){var i="string"==typeof t?k[t]:t;return i&&a.deleteObject({endpoint:i,dontUpdateHover:e,deleteAttachedObjects:n}),a},this.deleteEveryEndpoint=function(){var t=a.setSuspendDrawing(!0);for(var e in C){var n=C[e];if(n&&n.length)for(var i=0,r=n.length;i<r;i++)a.deleteEndpoint(n[i],!0)}return C={},S={},k={},E={},D={},a.anchorManager.reset(),a.getDragManager().reset(),t||a.setSuspendDrawing(!1),a};var tt=function(t,e,n){var i=a.Defaults.ConnectionType||a.getDefaultConnectionType(),r=t.constructor==i?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;e&&a.fire("connectionDetached",r,n),a.anchorManager.connectionDetached(r)},et=a.fireMoveEvent=function(t,e){a.fire("connectionMoved",t,e)};this.unregisterEndpoint=function(t){t._jsPlumb.uuid&&(k[t._jsPlumb.uuid]=null),a.anchorManager.deleteEndpoint(t);for(var e in C){var n=C[e];if(n){for(var i=[],r=0,o=n.length;r<o;r++)n[r]!=t&&i.push(n[r]);C[e]=i}C[e].length<1&&delete C[e]}},this.detach=function(){if(0!==arguments.length){var t=a.Defaults.ConnectionType||a.getDefaultConnectionType(),e=arguments[0].constructor==t,n=2==arguments.length&&e?arguments[1]||{}:arguments[0],r=!1!==n.fireEvent,o=n.forceDetach,s=e?arguments[0]:n.connection,l=e?null:n.deleteAttachedObjects;if(s)(o||i.functionChain(!0,!1,[[s.endpoints[0],"isDetachAllowed",[s]],[s.endpoints[1],"isDetachAllowed",[s]],[s,"isDetachAllowed",[s]],[a,"checkCondition",["beforeDetach",s]]]))&&s.endpoints[0].detach({connection:s,ignoreTarget:!1,forceDetach:!0,fireEvent:r,deleteAttachedObjects:l});else{var u=v.extend({},n);if(u.uuids)R(u.uuids[0]).detachFrom(R(u.uuids[1]),r);else if(u.sourceEndpoint&&u.targetEndpoint)u.sourceEndpoint.detachFrom(u.targetEndpoint);else{var c=J(a.getElement(u.source)),d=J(a.getElement(u.target));Y(c,function(t){(t.sourceId==c&&t.targetId==d||t.targetId==c&&t.sourceId==d)&&a.checkCondition("beforeDetach",t)&&t.endpoints[0].detach({connection:t,ignoreTarget:!1,forceDetach:!0,fireEvent:r})})}}}},this.detachAllConnections=function(t,e){e=e||{},t=a.getElement(t);var n=J(t),i=C[n];if(i&&i.length)for(var r=0,o=i.length;r<o;r++)i[r].detachAll(!1!==e.fireEvent,e.forceDetach);return a},this.detachEveryConnection=function(t){return t=t||{},a.batch(function(){for(var e in C){var n=C[e];if(n&&n.length)for(var i=0,r=n.length;i<r;i++)n[i].detachAll(!1!==t.fireEvent,t.forceDetach)}x.length=0}),a},this.deleteObject=function(t){var e={endpoints:{},connections:{},endpointCount:0,connectionCount:0},n=(t.fireEvent,!1!==t.deleteAttachedObjects),r=function(i){if(null!=i&&null==e.connections[i.id]&&(t.dontUpdateHover||null==i._jsPlumb||i.setHover(!1),e.connections[i.id]=i,e.connectionCount++,n))for(var r=0;r<i.endpoints.length;r++)i.endpoints[r]._deleteOnDetach&&o(i.endpoints[r])},o=function(i){if(null!=i&&null==e.endpoints[i.id]&&(t.dontUpdateHover||null==i._jsPlumb||i.setHover(!1),e.endpoints[i.id]=i,e.endpointCount++,n))for(var o=0;o<i.connections.length;o++){var s=i.connections[o];r(s)}};t.connection?r(t.connection):o(t.endpoint);for(var s in e.connections){var l=e.connections[s];if(l._jsPlumb){i.removeWithFunction(x,function(t){return l.id==t.id}),tt(l,!1!==t.fireEvent&&!l.pending,t.originalEvent);var u=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;l.endpoints[0].detachFromConnection(l,null,u),l.endpoints[1].detachFromConnection(l,null,u),l.cleanup(!0),l.destroy(!0)}}for(var c in e.endpoints){var d=e.endpoints[c];d._jsPlumb&&(a.unregisterEndpoint(d),d.cleanup(!0),d.destroy(!0))}return e},this.draggable=function(t,e){var n;return c(function(t){(n=p(t)).el&&L(n.el,!0,e,n.id,!0)},t),a},this.droppable=function(t,e){var n;return e=e||{},e.allowLoopback=!1,c(function(t){(n=p(t)).el&&a.initDroppable(n.el,e)},t),a};var nt=function(t,e,n,i){for(var r=0,o=t.length;r<o;r++)t[r][e].apply(t[r],n);return i(t)},it=function(t,e,n){for(var i=[],r=0,o=t.length;r<o;r++)i.push([t[r][e].apply(t[r],n),t[r]]);return i},rt=function(t,e,n){return function(){return nt(t,e,arguments,n)}},ot=function(t,e){return function(){return it(t,e,arguments)}},st=function(t,e){var n=[];if(t)if("string"==typeof t){if("*"===t)return t;n.push(t)}else if(e)n=t;else if(t.length)for(var i=0,r=t.length;i<r;i++)n.push(p(t[i]).id);else n.push(p(t).id);return n},at=function(t,e,n){return"*"===t||(t.length>0?-1!=t.indexOf(e):!n)};this.getConnections=function(t,e){t?t.constructor==String&&(t={scope:t}):t={};for(var n=t.scope||a.getDefaultScope(),i=st(n,!0),r=st(t.source),o=st(t.target),s=!e&&i.length>1?{}:[],l=0,u=x.length;l<u;l++){var c=x[l],d=c.proxies&&c.proxies[0]?c.proxies[0].originalEp.elementId:c.sourceId,h=c.proxies&&c.proxies[1]?c.proxies[1].originalEp.elementId:c.targetId;at(i,c.scope)&&at(r,d)&&at(o,h)&&function(t,n){if(!e&&i.length>1){var r=s[t];null==r&&(r=s[t]=[]),r.push(n)}else s.push(n)}(c.scope,c)}return s};var lt=function(t,e){return function(n){for(var i=0,r=t.length;i<r;i++)n(t[i]);return e(t)}},ut=function(t){return function(e){return t[e]}},ct=function(t,e){var n,i,r={length:t.length,each:lt(t,e),get:ut(t)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,i=o.length;n<i;n++)r[o[n]]=rt(t,o[n],e);for(n=0,i=s.length;n<i;n++)r[s[n]]=ot(t,s[n]);return r},dt=function(t){var e=ct(t,dt);return v.extend(e,{setDetachable:rt(t,"setDetachable",dt),setReattach:rt(t,"setReattach",dt),setConnector:rt(t,"setConnector",dt),detach:function(){for(var e=0,n=t.length;e<n;e++)a.detach(t[e])},isDetachable:ot(t,"isDetachable"),isReattach:ot(t,"isReattach")})},ht=function(t){var e=ct(t,ht);return v.extend(e,{setEnabled:rt(t,"setEnabled",ht),setAnchor:rt(t,"setAnchor",ht),isEnabled:ot(t,"isEnabled"),detachAll:function(){for(var e=0,n=t.length;e<n;e++)t[e].detachAll()},remove:function(){for(var e=0,n=t.length;e<n;e++)a.deleteObject({endpoint:t[e]})}})};this.select=function(t){return t=t||{},t.scope=t.scope||"*",dt(t.connections||a.getConnections(t,!0))},this.selectEndpoints=function(t){(t=t||{}).scope=t.scope||"*";var e=!t.element&&!t.source&&!t.target,n=e?"*":st(t.element),i=e?"*":st(t.source),r=e?"*":st(t.target),o=st(t.scope,!0),s=[];for(var a in C){var l=at(n,a,!0),u=at(i,a,!0),c="*"!=i,d=at(r,a,!0),h="*"!=r;if(l||u||d)t:for(var f=0,p=C[a].length;f<p;f++){var g=C[a][f];if(at(o,g.scope,!0)){var m=c&&i.length>0&&!g.isSource,v=h&&r.length>0&&!g.isTarget;if(m||v)continue t;s.push(g)}}}return ht(s)},this.getAllConnections=function(){return x},this.getDefaultScope=function(){return A},this.getEndpoint=R,this.getEndpoints=function(t){return C[p(t).id]},this.getDefaultEndpointType=function(){return v.Endpoint},this.getDefaultConnectionType=function(){return v.Connection},this.getId=J,this.appendElement=I;var ft=!1;this.isHoverSuspended=function(){return ft},this.setHoverSuspended=function(t){ft=t},this.hide=function(t,e){return G(t,"none",e),a},this.idstamp=F,this.connectorsInitialized=!1,this.registerConnectorType=function(t,e){n.push([t,e])};var pt=function(t){if(!y&&t){var e=a.getElement(t);e.offsetParent&&a.setContainer(e.offsetParent)}},gt=function(){a.Defaults.Container&&a.setContainer(a.Defaults.Container)},mt=a.manage=function(t,e,n){return S[t]||(S[t]={el:e,endpoints:[],connections:[]},S[t].info=vt({elId:t,timestamp:j}),n||a.fire("manageElement",{id:t,info:S[t].info,el:e})),S[t]},vt=this.updateOffset=function(t){var e,n=t.timestamp,i=t.recalc,r=t.offset,o=t.elId;return M&&!n&&(n=j),!i&&n&&n===D[o]?{o:t.offset||E[o],s:P[o]}:(i||!r&&null==E[o]?null!=(e=S[o]?S[o].el:null)&&(P[o]=a.getSize(e),E[o]=a.getOffset(e),D[o]=n):(E[o]=r||E[o],null==P[o]&&null!=(e=S[o].el)&&(P[o]=a.getSize(e)),D[o]=n),E[o]&&!E[o].right&&(E[o].right=E[o].left+P[o][0],E[o].bottom=E[o].top+P[o][1],E[o].width=P[o][0],E[o].height=P[o][1],E[o].centerx=E[o].left+E[o].width/2,E[o].centery=E[o].top+E[o].height/2),{o:E[o],s:P[o]})};this.init=function(){t=e.jsPlumb.getRenderModes();if(!e.jsPlumb.connectorsInitialized){for(var r=0;r<n.length;r++)for(var o=0;o<t.length;o++)!function(t,n,r){e.jsPlumb.Connectors[t][n]=function(){r.apply(this,arguments),e.jsPlumb.ConnectorRenderers[t].apply(this,arguments)},i.extend(e.jsPlumb.Connectors[t][n],[r,e.jsPlumb.ConnectorRenderers[t]])}(t[o],n[r][1],n[r][0]);e.jsPlumb.connectorsInitialized=!0}$||(gt(),a.anchorManager=new e.jsPlumb.AnchorManager({jsPlumbInstance:a}),$=!0,a.fire("ready",a))}.bind(this),this.log=w,this.jsPlumbUIComponent=h,this.makeAnchor=function(){var t,n=function(t,n){if(e.jsPlumb.Anchors[t])return new e.jsPlumb.Anchors[t](n);if(!a.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var r=arguments[0],o=arguments[1],s=(arguments[2],null);if(r.compute&&r.getOrientation)return r;if("string"==typeof r)s=n(arguments[0],{elementId:o,jsPlumbInstance:a});else if(i.isArray(r))if(i.isArray(r[0])||i.isString(r[0]))2==r.length&&i.isObject(r[1])?i.isString(r[0])?(t=e.jsPlumb.extend({elementId:o,jsPlumbInstance:a},r[1]),s=n(r[0],t)):(t=e.jsPlumb.extend({elementId:o,jsPlumbInstance:a,anchors:r[0]},r[1]),s=new e.jsPlumb.DynamicAnchor(t)):s=new v.DynamicAnchor({anchors:r,selector:null,elementId:o,jsPlumbInstance:a});else{var l={x:r[0],y:r[1],orientation:r.length>=4?[r[2],r[3]]:[0,0],offsets:r.length>=6?[r[4],r[5]]:[0,0],elementId:o,jsPlumbInstance:a,cssClass:7==r.length?r[6]:null};(s=new e.jsPlumb.Anchor(l)).clone=function(){return new e.jsPlumb.Anchor(l)}}return s.id||(s.id="anchor_"+F()),s},this.makeAnchors=function(t,n,r){for(var o=[],s=0,l=t.length;s<l;s++)"string"==typeof t[s]?o.push(e.jsPlumb.Anchors[t[s]]({elementId:n,jsPlumbInstance:r})):i.isArray(t[s])&&o.push(a.makeAnchor(t[s],n,r));return o},this.makeDynamicAnchor=function(t,n){return new e.jsPlumb.DynamicAnchor({anchors:t,selector:n,elementId:null,jsPlumbInstance:a})},this.targetEndpointDefinitions={};this.sourceEndpointDefinitions={};var yt=function(t,e,n,i,r){for(var o=t.target||t.srcElement,s=!1,a=i.getSelector(e,n),l=0;l<a.length;l++)if(a[l]==o){s=!0;break}return r?!s:s},bt=function(t,n,r,o,s){var l=new h(n),u=n._jsPlumb.EndpointDropHandler({jsPlumb:a,enabled:function(){return t.def.enabled},isFull:function(){var e=a.select({target:t.id}).length;return t.def.maxConnections>0&&e>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:o,isTarget:s,addClass:function(e){a.addClass(t.el,e)},removeClass:function(e){a.removeClass(t.el,e)},onDrop:function(t){t.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return l.isDropAllowed.apply(l,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===t.el},getEndpoint:function(i){var r=t.def.endpoint;if(null==r||null==r._jsPlumb){var o=a.deriveEndpointAndAnchorSpec(i.getType().join(" "),!0),s=o.endpoints?e.jsPlumb.extend(n,{endpoint:t.def.def.endpoint||o.endpoints[1]}):n;o.anchors&&(s=e.jsPlumb.extend(s,{anchor:t.def.def.anchor||o.anchors[1]})),(r=a.addEndpoint(t.el,s))._mtNew=!0}if(n.uniqueEndpoint&&(t.def.endpoint=r),r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,i.isDetachable()&&r.initDraggable(),null!=r.anchor.positionFinder){var l=a.getUIPosition(arguments,a.getZoom()),u=a.getOffset(t.el),c=a.getSize(t.el),d=null==l?[0,0]:r.anchor.positionFinder(l,u,c,r.anchor.constructorParams);r.anchor.x=d[0],r.anchor.y=d[1]}return r},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?a.deleteObject({endpoint:t}):delete t._mtNew}}),c=e.jsPlumb.dragEvents.drop;return r.scope=r.scope||n.scope||a.Defaults.Scope,r[c]=i.wrap(r[c],u,!0),s&&(r[e.jsPlumb.dragEvents.over]=function(){return!0}),!1===n.allowLoopback&&(r.canDrop=function(e){return e.getDragElement()._jsPlumbRelatedElement!=t.el}),a.initDroppable(t.el,r,"internal"),u};this.makeTarget=function(t,n,i){var r=e.jsPlumb.extend({_jsPlumb:this},i);e.jsPlumb.extend(r,n);r.deleteEndpointsOnDetach;for(var o=r.maxConnections||-1,s=function(t){var n=p(t),i=n.id,s=e.jsPlumb.extend({},r.dropOptions||{});this.targetEndpointDefinitions[i]=this.targetEndpointDefinitions[i]||{},pt(i);var a={def:e.jsPlumb.extend({},r),uniqueEndpoint:r.uniqueEndpoint,maxConnections:o,enabled:!0};n.def=a,this.targetEndpointDefinitions[i].default=a,bt(n,r,s,!0===r.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=a}.bind(this),a=t.length&&t.constructor!=String?t:[t],l=0,u=a.length;l<u;l++)s(a[l]);return this},this.unmakeTarget=function(t,e){var n=p(t);return a.destroyDroppable(n.el,"internal"),e||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(t,n,r){var o=e.jsPlumb.extend({_jsPlumb:this},r);e.jsPlumb.extend(o,n);var s=o.connectionType||"default",l=a.deriveEndpointAndAnchorSpec(s);o.endpoint=o.endpoint||l.endpoints[0],o.anchor=o.anchor||l.anchors[0];for(var u=o.maxConnections||-1,c=o.onMaxConnections,d=function(t){var n=t.id,r=this.getElement(t.el);this.sourceEndpointDefinitions[n]=this.sourceEndpointDefinitions[n]||{},pt(n);var l={def:e.jsPlumb.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:u,enabled:!0};this.sourceEndpointDefinitions[n][s]=l,t.def=l;var d=e.jsPlumb.dragEvents.stop,h=e.jsPlumb.dragEvents.drag,p=e.jsPlumb.extend({},o.dragOptions||{}),g=p.drag,m=p.stop,v=null,y=!1;p.scope=p.scope||o.scope,p[h]=i.wrap(p[h],function(){g&&g.apply(this,arguments),y=!1}),p[d]=i.wrap(p[d],function(){if(m&&m.apply(this,arguments),this.currentlyDragging=!1,null!=v._jsPlumb){var t=o.anchor||this.Defaults.Anchor,e=v.anchor,i=v.connections[0],r=this.makeAnchor(t,n,this),s=v.element;if(null!=r.positionFinder){var l=a.getOffset(s),u=this.getSize(s),c={left:l.left+e.x*u[0],top:l.top+e.y*u[1]},d=r.positionFinder(c,l,u,r.constructorParams);r.x=d[0],r.y=d[1]}v.setAnchor(r,!0),v.repaint(),this.repaint(v.elementId),null!=i&&this.repaint(i.targetId)}}.bind(this));var b=function(l){if(3!==l.which&&2!==l.button){var d=this.sourceEndpointDefinitions[n][s];if(d.enabled&&(n=this.getId(this.getElement(t.el)),!o.filter||!1!==(i.isString(o.filter)?yt(l,t.el,o.filter,this,o.filterExclude):o.filter(l,t.el)))){var h=this.select({source:n}).length;if(d.maxConnections>=0&&h>=d.maxConnections)return c&&c({element:t.el,maxConnections:u},l),!1;var g=e.jsPlumb.getPositionOnElement(l,r,f),m={};e.jsPlumb.extend(m,o),m.isTemporarySource=!0,m.anchor=[g[0],g[1],0,0],m.dragOptions=p,d.def.scope&&(m.scope=d.def.scope),v=this.addEndpoint(n,m),y=!0,v._doNotDeleteOnDetach=!1,v._deleteOnDetach=!0,d.uniqueEndpoint&&(d.endpoint?v.finalEndpoint=d.endpoint:(d.endpoint=v,v._deleteOnDetach=!1,v._doNotDeleteOnDetach=!0));var b=function(){a.off(v.canvas,"mouseup",b),a.off(t.el,"mouseup",b),y&&(y=!1,a.deleteEndpoint(v))};a.on(v.canvas,"mouseup",b),a.on(t.el,"mouseup",b);var w={};if(d.def.extract)for(var $ in d.def.extract){var x=(l.srcElement||l.target).getAttribute($);x&&(w[d.def.extract[$]]=x)}a.trigger(v.canvas,"mousedown",l,w),i.consume(l)}}}.bind(this);this.on(t.el,"mousedown",b),l.trigger=b,o.filter&&(i.isString(o.filter)||i.isFunction(o.filter))&&a.setDragFilter(t.el,o.filter);var w=e.jsPlumb.extend({},o.dropOptions||{});bt(t,o,w,!0,!0===o.isTarget)}.bind(this),h=t.length&&t.constructor!=String?t:[t],g=0,m=h.length;g<m;g++)d(p(h[g]));return this},this.unmakeSource=function(t,e,n){var i=p(t);a.destroyDroppable(i.el,"internal");var r=this.sourceEndpointDefinitions[i.id];if(r)for(var o in r)if(null==e||e===o){var s=r[o].trigger;s&&a.off(i.el,"mousedown",s),n||delete this.sourceEndpointDefinitions[i.id][o]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)a.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var wt=function(t,e,n){e=i.isArray(e)?e:[e];var r=J(t);n=n||"default";for(var o=0;o<e.length;o++){var s=this[e[o]][r];if(s&&s[n])return s[n].def.scope||this.Defaults.Scope}}.bind(this),$t=function(t,e,n,r){n=i.isArray(n)?n:[n];var o=J(t);r=r||"default";for(var s=0;s<n.length;s++){var a=this[n[s]][o];a&&a[r]&&(a[r].def.scope=e)}}.bind(this);this.getScope=function(t,e){return wt(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return wt(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return wt(t,"targetEndpointDefinitions")},this.setScope=function(t,e,n){this.setSourceScope(t,e,n),this.setTargetScope(t,e,n)},this.setSourceScope=function(t,e,n){$t(t,e,"sourceEndpointDefinitions",n),this.setDragScope(t,e)},this.setTargetScope=function(t,e,n){$t(t,e,"targetEndpointDefinitions",n),this.setDropScope(t,e)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)a.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var xt=function(t,e,n,r,o){var s,l,u,c="source"==t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(o=o||"default",e.length&&!i.isString(e)){s=[];for(var d=0,h=e.length;d<h;d++)c[(l=p(e[d])).id]&&c[l.id][o]&&(s[d]=c[l.id][o].enabled,u=r?!s[d]:n,c[l.id][o].enabled=u,a[u?"removeClass":"addClass"](l.el,"jtk-"+t+"-disabled"))}else{var f=(l=p(e)).id;c[f]&&c[f][o]&&(s=c[f][o].enabled,u=r?!s:n,c[f][o].enabled=u,a[u?"removeClass":"addClass"](l.el,"jtk-"+t+"-disabled"))}return s}.bind(this),Ct=function(t,e){return i.isString(t)||!t.length?e.apply(this,[t]):t.length?e.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t,e){return xt("source",t,null,!0,e),this.isSourceEnabled(t,e)},this.setSourceEnabled=function(t,e,n){return xt("source",t,e,null,n)},this.isSource=function(t,e){return e=e||"default",Ct(t,function(t){var n=this.sourceEndpointDefinitions[p(t).id];return null!=n&&null!=n[e]}.bind(this))},this.isSourceEnabled=function(t,e){return e=e||"default",Ct(t,function(t){var n=this.sourceEndpointDefinitions[p(t).id];return n&&n[e]&&!0===n[e].enabled}.bind(this))},this.toggleTargetEnabled=function(t,e){return xt("target",t,null,!0,e),this.isTargetEnabled(t,e)},this.isTarget=function(t,e){return e=e||"default",Ct(t,function(t){var n=this.targetEndpointDefinitions[p(t).id];return null!=n&&null!=n[e]}.bind(this))},this.isTargetEnabled=function(t,e){return e=e||"default",Ct(t,function(t){var n=this.targetEndpointDefinitions[p(t).id];return n&&n[e]&&!0===n[e].enabled}.bind(this))},this.setTargetEnabled=function(t,e,n){return xt("target",t,e,null,n)},this.ready=function(t){a.bind("ready",t)};var kt=function(t,e){if("object"==typeof t&&t.length)for(var n=0,i=t.length;n<i;n++)e(t[n]);else e(t);return a};this.repaint=function(t,e,n){return kt(t,function(t){N(t,e,n)})},this.revalidate=function(t,e,n){return kt(t,function(t){var i=n?t:a.getId(t);a.updateOffset({elId:i,recalc:!0,timestamp:e}),a.repaint(t)})},this.repaintEverything=function(){var t,e=r();for(t in C)a.updateOffset({elId:t,recalc:!0,timestamp:e});for(t in C)N(t,null,e);return this},this.removeAllEndpoints=function(t,e,n){n=n||[];var i=function(t){var r,o,s=p(t),l=C[s.id];if(l)for(n.push(s),r=0,o=l.length;r<o;r++)a.deleteEndpoint(l[r],!1);if(delete C[s.id],e&&s.el&&3!=s.el.nodeType&&8!=s.el.nodeType)for(r=0,o=s.el.childNodes.length;r<o;r++)i(s.el.childNodes[r])};return i(t),this};var St=function(t,e){a.removeAllEndpoints(t.id,!0,e);for(var n=function(t){a.getDragManager().elementRemoved(t.id),a.anchorManager.clearFor(t.id),a.anchorManager.removeFloatingConnection(t.id),a.isSource(t.el)&&a.unmakeSource(t.el),a.isTarget(t.el)&&a.unmakeTarget(t.el),a.destroyDraggable(t.el),a.destroyDroppable(t.el),delete a.floatingConnections[t.id],delete S[t.id],delete E[t.id],t.el&&(a.removeElement(t.el),t.el._jsPlumb=null)},i=1;i<e.length;i++)n(e[i]);n(t)};this.remove=function(t,e){var n=p(t),i=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&a.batch(function(){St(n,i)},!1===e),a},this.empty=function(t,e){var n=[],i=function(t,e){var r=p(t);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){for(;r.el.childNodes.length>0;)i(r.el.childNodes[0]);e||St(r,n)}};return a.batch(function(){i(t,!0)},!1===e),a},this.reset=function(){a.silently(function(){ft=!1,a.removeAllGroups(),a.removeGroupManager(),a.deleteEveryEndpoint(),a.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},x.length=0,this.doReset&&this.doReset()}.bind(this))};var Et=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){a.select().each(Et),a.selectEndpoints().each(Et),C={},k={}},this.setDefaultScope=function(t){return A=t,a},this.setDraggable=z,this.deriveEndpointAndAnchorSpec=function(t,e){for(var n=((e?"":"default ")+t).split(/[\s]/),i=null,r=null,o=null,s=null,l=0;l<n.length;l++){var u=a.getType(n[l],"connection");u&&(u.endpoints&&(i=u.endpoints),u.endpoint&&(r=u.endpoint),u.anchors&&(s=u.anchors),u.anchor&&(o=u.anchor))}return{endpoints:i||[r,r],anchors:s||[o,o]}},this.setId=function(t,e,n){var r;i.isString(t)?r=t:(t=this.getElement(t),r=this.getId(t));var o=this.getConnections({source:r,scope:"*"},!0),s=this.getConnections({target:r,scope:"*"},!0);e=""+e,n?t=this.getElement(e):(t=this.getElement(r),this.setAttribute(t,"id",e)),C[e]=C[r]||[];for(var a=0,l=C[e].length;a<l;a++)C[e][a].setElementId(e),C[e][a].setReferenceElement(t);delete C[r],this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[e]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,e),this.getDragManager().changeId(r,e),S[e]=S[r],delete S[r];var u=function(n,i,r){for(var o=0,s=n.length;o<s;o++)n[o].endpoints[i].setElementId(e),n[o].endpoints[i].setReferenceElement(t),n[o][r+"Id"]=e,n[o][r]=t};u(o,0,"source"),u(s,1,"target"),this.repaint(e)},this.setDebugLog=function(t){w=t},this.setSuspendDrawing=function(t,e){var n=M;return M=t,j=t?(new Date).getTime():null,e&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return M},this.getSuspendedAt=function(){return j},this.batch=function(t,e){var n=this.isSuspendDrawing();n||this.setSuspendDrawing(!0);try{t()}catch(t){i.log("Function run while suspended failed",t)}n||this.setSuspendDrawing(!1,!e)},this.doWhileSuspended=this.batch,this.getCachedData=Z,this.timestamp=r,this.show=function(t,e){return G(t,"block",e),a},this.toggleVisible=X,this.toggleDraggable=q,this.addListener=this.bind};i.extend(e.jsPlumbInstance,i.EventGenerator,{setAttribute:function(t,e,n){this.setAttribute(t,e,n)},getAttribute:function(t,n){return this.getAttribute(e.jsPlumb.getElement(t),n)},convertToFullOverlaySpec:function(t){return i.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||i.uuid(),t},registerConnectionType:function(t,n){if(this._connectionTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var i={},r=0;r<n.overlays.length;r++){var o=this.convertToFullOverlaySpec(n.overlays[r]);i[o[1].id]=o}this._connectionTypes[t].overlays=i}},registerConnectionTypes:function(t){for(var e in t)this.registerConnectionType(e,t[e])},registerEndpointType:function(t,n){if(this._endpointTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var i={},r=0;r<n.overlays.length;r++){var o=this.convertToFullOverlaySpec(n.overlays[r]);i[o[1].id]=o}this._endpointTypes[t].overlays=i}},registerEndpointTypes:function(t){for(var e in t)this.registerEndpointType(e,t[e])},getType:function(t,e){return"connection"===e?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,e){this.setId(t,e,!0)},setParent:function(t,e){var n=this.getElement(t),i=this.getId(n),r=this.getElement(e),o=this.getId(r);n.parentNode.removeChild(n),r.appendChild(n),this.getDragManager().setParent(n,i,r,o)},extend:function(t,e,n){var i;if(n)for(i=0;i<n.length;i++)t[n[i]]=e[n[i]];else for(i in e)t[i]=e[i];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1}});var v=new m;e.jsPlumb=v,v.getInstance=function(t){var e=new m(t);return e.init(),e},v.each=function(t,e){if(null!=t)if("string"==typeof t)e(v.getElement(t));else if(null!=t.length)for(var n=0;n<t.length;n++)e(v.getElement(t[n]));else e(t)},"function"==typeof define&&(define("jsplumb",[],function(){return v}),define("jsplumbinstance",[],function(){return v.getInstance()})),"undefined"!=typeof exports&&(exports.jsPlumb=v),"undefined"!=typeof module&&(module.exports=v)}.call("undefined"!=typeof window?window:this),function(){var t=this,e=t.jsPlumbUtil,n=function(t,e){if(null==e)return[0,0];var n=a(e),i=s(n,0);return[i[t+"X"],i[t+"Y"]]},i=n.bind(this,"page"),r=n.bind(this,"screen"),o=n.bind(this,"client"),s=function(t,e){return t.item?t.item(e):t[e]},a=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},l=function(t){var e={},n=[],i={},r={},o={};this.register=function(s){var a=t.getId(s),l=t.getOffset(s);e[a]||(e[a]=s,n.push(s),i[a]={});var u=function(e){if(e)for(var n=0;n<e.childNodes.length;n++)if(3!=e.childNodes[n].nodeType&&8!=e.childNodes[n].nodeType){var s=jsPlumb.getElement(e.childNodes[n]),c=t.getId(e.childNodes[n],null,!0);if(c&&r[c]&&r[c]>0){var d=t.getOffset(s);i[a][c]={id:c,offset:{left:d.left-l.left,top:d.top-l.top}},o[c]=a}u(e.childNodes[n])}};u(s)},this.updateOffsets=function(e,n){if(null!=e){n=n||{};var r=jsPlumb.getElement(e),s=t.getId(r),a=i[s],l=t.getOffset(r);if(a)for(var u in a)if(a.hasOwnProperty(u)){var c=jsPlumb.getElement(u),d=n[u]||t.getOffset(c);if(null==c.offsetParent&&null!=i[s][u])continue;i[s][u]={id:u,offset:{left:d.left-l.left,top:d.top-l.top}},o[u]=s}}},this.endpointAdded=function(n,s){s=s||t.getId(n);var a=document.body,l=n.parentNode;for(r[s]=r[s]?r[s]+1:1;null!=l&&l!=a;){var u=t.getId(l,null,!0);if(u&&e[u]){var c=t.getOffset(l);if(null==i[u][s]){var d=t.getOffset(n);i[u][s]={id:s,offset:{left:d.left-c.left,top:d.top-c.top}},o[s]=u}break}l=l.parentNode}},this.endpointDeleted=function(t){if(r[t.elementId]&&--r[t.elementId]<=0)for(var e in i)i.hasOwnProperty(e)&&i[e]&&(delete i[e][t.elementId],delete o[t.elementId])},this.changeId=function(t,e){i[e]=i[t],i[t]={},o[e]=o[t],o[t]=null},this.getElementsForDraggable=function(t){return i[t]},this.elementRemoved=function(t){var e=o[t];e&&(delete i[e][t],delete o[t])},this.reset=function(){e={},n=[],i={},r={}},this.dragEnded=function(e){if(null!=e.offsetParent){var n=t.getId(e),i=o[n];i&&this.updateOffsets(i)}},this.setParent=function(e,n,r,s,a){var l=o[n];i[s]||(i[s]={});var u=t.getOffset(r),c=a||t.getOffset(e);l&&delete i[l][n],i[s][n]={id:n,offset:{left:c.left-u.left,top:c.top-u.top}},o[n]=s},this.clearParent=function(t,e){var n=o[e];n&&(delete i[n][e],delete o[e])},this.revalidateParent=function(e,n,i){var r=o[n];if(r){var s={};s[n]=i,this.updateOffsets(r,s),t.revalidate(r)}},this.getDragAncestor=function(e){var n=jsPlumb.getElement(e),i=t.getId(n),r=o[i];return r?jsPlumb.getElement(r):null}},u=function(t){return null==t?null:t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},c=function(t,e){e=u(e),void 0!==t.className.baseVal?t.className.baseVal=e:t.className=e},d=function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},h=function(t,n,i){n=null==n?[]:e.isArray(n)?n:n.split(/\s+/),i=null==i?[]:e.isArray(i)?i:i.split(/\s+/);var r=d(t).split(/\s+/),o=function(t,e){for(var n=0;n<e.length;n++)if(t)-1==r.indexOf(e[n])&&r.push(e[n]);else{var i=r.indexOf(e[n]);-1!=i&&r.splice(i,1)}};o(!0,n),o(!1,i),c(t,r.join(" "))};t.jsPlumb.extend(t.jsPlumbInstance.prototype,{headless:!1,pageLocation:i,screenLocation:r,clientLocation:o,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new l(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,e,n,i){return this.createElementNS(null,t,e,n,i)},createElementNS:function(t,e,n,i,r){var o,s=null==t?document.createElement(e):document.createElementNS(t,e);n=n||{};for(o in n)s.style[o]=n[o];i&&(s.className=i),r=r||{};for(o in r)s.setAttribute(o,""+r[o]);return s},getAttribute:function(t,e){return null!=t.getAttribute?t.getAttribute(e):null},setAttribute:function(t,e,n){null!=t.setAttribute&&t.setAttribute(e,n)},setAttributes:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:d,addClass:function(t,e){jsPlumb.each(t,function(t){h(t,e)})},hasClass:function(t,e){return t=jsPlumb.getElement(t),t.classList?t.classList.contains(e):-1!=d(t).indexOf(e)},removeClass:function(t,e){jsPlumb.each(t,function(t){h(t,null,e)})},updateClasses:function(t,e,n){jsPlumb.each(t,function(t){h(t,e,n)})},setClass:function(t,e){jsPlumb.each(t,function(t){c(t,e)})},setPosition:function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px"},getPosition:function(t){var e=function(e){var n=t.style[e];return n?n.substring(0,n.length-2):0};return{left:e("left"),top:e("top")}},getStyle:function(t,e){return void 0!==window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.currentStyle[e]},getSelector:function(t,e){return 1==arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(e)},getOffset:function(t,e,n){t=jsPlumb.getElement(t),n=n||this.getContainer();for(var i={left:t.offsetLeft,top:t.offsetTop},r=e||null!=n&&t!=n&&t.offsetParent!=n?t.offsetParent:null,o=function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(i.left-=t.scrollLeft,i.top-=t.scrollTop)}.bind(this);null!=r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,o(r),r=e?r.offsetParent:r.offsetParent==n?null:r.offsetParent;if(null!=n&&!e&&(n.scrollTop>0||n.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!=s&&(i.left-=n.scrollLeft,i.top-=n.scrollTop)}return i},getPositionOnElement:function(t,e,n){var i=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,l=o.clientTop||r.clientTop||0,u=o.clientLeft||r.clientLeft||0,c=i.top+s-l+0*n,d=i.left+a-u+0*n,h=jsPlumb.pageLocation(t),f=i.width||e.offsetWidth*n,p=i.height||e.offsetHeight*n;return[(h[0]-d)/f,(h[1]-c)/p]},getAbsolutePosition:function(t){var e=function(e){var n=t.style[e];if(n)return parseFloat(n.substring(0,n.length-2))};return[e("left"),e("top")]},setAbsolutePosition:function(t,e,n,i){n?this.animate(t,{left:"+="+(e[0]-n[0]),top:"+="+(e[1]-n[1])},i):(t.style.left=e[0]+"px",t.style.top=e[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,n){var i={cssClass:n.cssClass,labelStyle:t.labelStyle,id:"__label",component:t,_jsPlumb:t._jsPlumb.instance},r=e.extend(i,n);return new(e.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(r)},r=function(t,i){var r=null;if(n.isArray(i)){var o=i[0],s=e.extend({component:t,_jsPlumb:t._jsPlumb.instance},i[1]);3==i.length&&e.extend(s,i[2]),r=new(e.Overlays[t._jsPlumb.instance.getRenderMode()][o])(s)}else r=i.constructor==String?new(e.Overlays[t._jsPlumb.instance.getRenderMode()][i])({component:t,_jsPlumb:t._jsPlumb.instance}):i;return r.id=r.id||n.uuid(),t.cacheTypeItem("overlay",r,r.id),t._jsPlumb.overlays[r.id]=r,r};e.OverlayCapableJsPlumbUIComponent=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},e.label&&(this.getDefaultType().overlays.__label=["Label",{label:e.label,location:e.labelLocation||this.defaultLabelLocation||.5,labelStyle:e.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].setListenerComponent(t)}},e.OverlayCapableJsPlumbUIComponent.applyType=function(t,e){if(e.overlays){var n,i={};for(n in e.overlays){var r=t._jsPlumb.overlays[e.overlays[n][1].id];if(r)r.updateFrom(e.overlays[n][1]),i[e.overlays[n][1].id]=!0;else{var o=t.getCachedTypeItem("overlay",e.overlays[n][1].id);null!=o?(o.reattach(t._jsPlumb.instance),o.setVisible(!0),o.updateFrom(e.overlays[n][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(e.overlays[n],!0),i[o.id]=!0}}for(n in t._jsPlumb.overlays)null==i[t._jsPlumb.overlays[n].id]&&t.removeOverlay(t._jsPlumb.overlays[n].id,!0)}},n.extend(e.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t,e){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,e){var n=r(this,t);return e||this.repaint(),n},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var e=this.getOverlay(t);e&&e.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var e=this.getOverlay(t);e&&e.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup&&this._jsPlumb.overlays[e].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,t||this.repaint()},removeOverlay:function(t,e){var n=this._jsPlumb.overlays[t];n&&(n.setVisible(!1),!e&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t])},removeOverlays:function(){for(var t=0,e=arguments.length;t<e;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas);for(var e in this._jsPlumb.overlays)if(this._jsPlumb.overlays[e].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[e].getElement();n.parentNode.removeChild(n),t.appendChild(n)}}},getLabel:function(){var t=this.getOverlay("__label");return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(t){var e=this.getOverlay("__label");if(e)t.constructor==String||t.constructor==Function?e.setLabel(t):(t.label&&e.setLabel(t.label),t.location&&e.setLocation(t.location));else{var n=t.constructor==String||t.constructor==Function?{label:t}:t;e=i(this,n),this._jsPlumb.overlays.__label=e}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup(t),this._jsPlumb.overlays[e].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,e){this._jsPlumb.overlayPositions[t.id]=e},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,e,n){if(!n)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][t+"Class"](e)},addClass:function(t,e){this._clazzManip("add",t,e)},removeClass:function(t,e){this._clazzManip("remove",t,e)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,e,n){var i=!1;return{drag:function(){if(i)return i=!1,!0;if(e.element){var r=n.getUIPosition(arguments,n.getZoom());null!=r&&jsPlumb.setPosition(e.element,r),n.repaint(e.element,r),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t})})}},stopDrag:function(){i=!0}}},r=function(t,e,n,i){var r=jsPlumb.createElement("div",{position:"absolute"});e.appendElement(r);var o=e.getId(r);jsPlumb.setPosition(r,n),r.style.width=i[0]+"px",r.style.height=i[1]+"px",e.manage(o,r,!0),t.id=o,t.element=r},o=function(t,n,i,r,o,s,a,l){return a({paintStyle:t,endpoint:i,anchor:new e.FloatingAnchor({reference:n,referenceCanvas:r,jsPlumbInstance:s}),source:o,scope:l})},s=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],a=function(t,e){var n=0;if(null!=e)for(var i=0;i<t.connections.length;i++)if(t.connections[i].sourceId==e||t.connections[i].targetId==e){n=i;break}return t.connections[n]};e.Endpoint=function(t){var l=t._jsPlumb,u=t.newConnection,c=t.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:t.connectionType,maxConnections:null==t.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:t.maxConnections,paintStyle:t.endpointStyle||t.paintStyle||t.style||this._jsPlumb.instance.Defaults.EndpointStyle||e.Defaults.EndpointStyle,hoverPaintStyle:t.endpointHoverStyle||t.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle,connectorStyle:t.connectorStyle,connectorHoverStyle:t.connectorHoverStyle,connectorClass:t.connectorClass,connectorHoverClass:t.connectorHoverClass,connectorOverlays:t.connectorOverlays,connector:t.connector,connectorTooltip:t.connectorTooltip}),this._jsPlumb.enabled=!(!1===t.enabled),this._jsPlumb.visible=!0,this.element=e.getElement(t.source),this._jsPlumb.uuid=t.uuid,this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(t.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=t.elementId,this.dragProxy=t.dragProxy,this._jsPlumb.connectionCost=t.connectionCost,this._jsPlumb.connectionsDirected=t.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var d=function(){var t=l.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var e=l.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(e),jsPlumb.updateClasses(this.element,e,t)}.bind(this);this.prepareAnchor=function(t){var e=this._jsPlumb.instance.makeAnchor(t,this.elementId,l);return e.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),d()}.bind(this)),e},this.setPreparedAnchor=function(t,e){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,d(),e||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,e){var n=this.prepareAnchor(t);return this.setPreparedAnchor(n,e),this};var h=function(t){if(this.connections.length>0)for(var e=0;e<this.connections.length;e++)this.connections[e].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",function(){h(!0)}),this.bind("mouseout",function(){h(!1)}),t._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(i,r){var o,s=function(t,n){var i=l.getRenderMode();if(e.Endpoints[i][t])return new e.Endpoints[i][t](n);if(!l.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},a={_jsPlumb:this._jsPlumb.instance,cssClass:t.cssClass,container:t.container,tooltip:t.tooltip,connectorTooltip:t.connectorTooltip,endpoint:this};return n.isString(i)?o=s(i,a):n.isArray(i)?(a=n.merge(i[1],a),o=s(i[0],a)):o=i.clone(),o.clone=function(){return n.isString(i)?s(i,a):n.isArray(i)?(a=n.merge(i[1],a),s(i[0],a)):void 0}.bind(this),o.typeId=r,o},this.setEndpoint=function(t,e){var n=this.prepareEndpoint(t);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(t,e){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},e.extend(this,t,s),this.isSource=t.isSource||!1,this.isTemporarySource=t.isTemporarySource||!1,this.isTarget=t.isTarget||!1,this.connections=t.connections||[],this.connectorPointerEvents=t["connector-pointer-events"],this.scope=t.scope||l.getDefaultScope(),this.timestamp=null,this.reattachConnections=t.reattach||l.Defaults.ReattachConnections,this.connectionsDetachable=l.Defaults.ConnectionsDetachable,!1!==t.connectionsDetachable&&!1!==t.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==t.dragAllowedWhenFull,t.onMaxConnections&&this.bind("maxConnections",t.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)},this.detachFromConnection=function(t,e,n){(e=null==e?this.connections.indexOf(t):e)>=0&&(this.connections.splice(e,1),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)),(this._forceDeleteOnDetach||!n&&this._deleteOnDetach)&&0===this.connections.length&&l.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.detach=function(t){var e=t.connectionIndex,n=t.connection,i=t.ignoreTarget,r=t.fireEvent,o=t.originalEvent,s=t.endpointBeingDeleted,a=t.forceDetach,u=!1;return r=!1!==r,(null==e?this.connections.indexOf(n):e)>=0&&(a||n._forceDetach||n.isDetachable()&&n.isDetachAllowed(n)&&this.isDetachAllowed(n)&&l.checkCondition("beforeDetach",n,s))&&(l.deleteObject({connection:n,fireEvent:!i&&r,originalEvent:o,deleteAttachedObjects:t.deleteAttachedObjects}),u=!0),u},this.detachAll=function(t,e){for(var n=[];this.connections.length>0;)this.detach({connection:this.connections[0],ignoreTarget:!1,forceDetach:!0===e,fireEvent:!1!==t,originalEvent:null,endpointBeingDeleted:this,connectionIndex:0})||(n.push(this.connections[0]),this.connections.splice(0,1));return this.connections=n,this},this.detachFrom=function(t,e,n){for(var i=[],r=0;r<this.connections.length;r++)this.connections[r].endpoints[1]!=t&&this.connections[r].endpoints[0]!=t||i.push(this.connections[r]);for(var o=0;o<i.length;o++)this.detach({connection:i[o],ignoreTarget:!1,forceDetach:!0,fireEvent:e,originalEvent:n});return this},this.getElement=function(){return this.element},this.setElement=function(e){var i=this._jsPlumb.instance.getId(e),r=this.elementId;return n.removeWithFunction(t.endpointsByElement[this.elementId],function(t){return t.id==this.id}.bind(this)),this.element=jsPlumb.getElement(e),this.elementId=l.getId(this.element),l.anchorManager.rehomeEndpoint(this,r,this.element),l.dragManager.endpointAdded(this.element),n.addToList(t.endpointsByElement,i,this),this},this.makeInPlaceCopy=function(){var e=this.anchor.getCurrentLocation({element:this}),n=this.anchor.getOrientation(this),i=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[e[0],e[1]]},getCurrentLocation:function(){return[e[0],e[1]]},getOrientation:function(){return n},getCssClass:function(){return i}};return c({dropOptions:t.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:t.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){var t=this.connections[0];return t||(this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:t)},this.setStyle=this.setPaintStyle,this.paint=function(t){var e=(t=t||{}).timestamp,n=!(!1===t.recalc);if(!e||this.timestamp!==e){var i=l.updateOffset({elId:this.elementId,timestamp:e}),r=t.offset?t.offset.o:i.o;if(null!=r){var o=t.anchorPoint,s=t.connectorPaintStyle;if(null==o){var u=t.dimensions||i.s,c={xy:[r.left,r.top],wh:u,element:this,timestamp:e};if(n&&this.anchor.isDynamic&&this.connections.length>0){var d=a(this,t.elementWithPrecedence),h=d.endpoints[0]==this?1:0,f=0===h?d.sourceId:d.targetId,p=l.getCachedData(f),g=p.o,m=p.s;c.txy=[g.left,g.top],c.twh=m,c.tElement=d.endpoints[h]}o=this.anchor.compute(c)}this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,s||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=e;for(var v in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var y=this._jsPlumb.overlays[v];y.isVisible()&&(this._jsPlumb.overlayPlacements[v]=y.draw(this.endpoint,this._jsPlumb.paintStyleInUse),y.paint(this._jsPlumb.overlayPlacements[v]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var f=!1;this.initDraggable=function(){if(!f&&e.isDragSupported(this.element)){var s,a={id:null,element:null},d=null,h=!1,p=null,g=i(this,a,l),m=t.dragOptions||{},v={},y=e.dragEvents.start,b=e.dragEvents.stop,w=e.dragEvents.drag,$=e.dragEvents.beforeStart,x=function(t){s=t.e.payload||{}},C=function(e){d=this.connectorSelector();var i=!0;this.isEnabled()||(i=!1),null!=d||this.isSource||this.isTemporarySource||(i=!1),!this.isSource||!this.isFull()||null!=d&&this.dragAllowedWhenFull||(i=!1),null==d||d.isDetachable(this)||(i=!1);var f=l.checkCondition(null==d?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:d});if(!1===f?i=!1:"object"==typeof f?jsPlumb.extend(f,s||{}):f=s||{},!1===i)return l.stopDrag&&l.stopDrag(this.canvas),g.stopDrag(),!1;for(var m=0;m<this.connections.length;m++)this.connections[m].setHover(!1);this.addClass("endpointDrag"),l.setConnectionBeingDragged(!0),d&&!this.isFull()&&this.isSource&&(d=null),l.updateOffset({elId:this.elementId});var v=this._jsPlumb.instance.getOffset(this.canvas),y=this.canvas,b=this._jsPlumb.instance.getSize(this.canvas);r(a,l,v,b),l.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var w=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var $=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);$.endpoints[1]&&(w=$.endpoints[1])}var x=this._jsPlumb.instance.makeAnchor("Center");x.isFloating=!0,this._jsPlumb.floatingEndpoint=o(this.getPaintStyle(),x,w,this.canvas,a.element,l,c,this.scope);var C=this._jsPlumb.floatingEndpoint.anchor;if(null==d)this.setHover(!1,!1),(d=u({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:t.connectorStyle,hoverPaintStyle:t.connectorHoverStyle,connector:t.connector,overlays:t.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:t.scope,data:f})).pending=!0,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.anchor=C,l.fire("connectionDrag",d),l.anchorManager.newConnection(d);else{h=!0,d.setHover(!1);var k=d.endpoints[0].id==this.id?0:1;this.detachFromConnection(d,null,!0);var S=l.getDragScope(y);l.setAttribute(this.canvas,"originalScope",S),l.fire("connectionDrag",d),0===k?(p=[d.source,d.sourceId,y,S],l.anchorManager.sourceChanged(d.endpoints[k].elementId,a.id,d,a.element)):(p=[d.target,d.targetId,y,S],d.target=a.element,d.targetId=a.id,l.anchorManager.updateOtherEndpoint(d.sourceId,d.endpoints[k].elementId,d.targetId,d)),d.suspendedEndpoint=d.endpoints[k],d.suspendedElement=d.endpoints[k].getElement(),d.suspendedElementId=d.endpoints[k].elementId,d.suspendedElementType=0===k?"source":"target",d.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=d.suspendedEndpoint,d.endpoints[k]=this._jsPlumb.floatingEndpoint,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass)}l.floatingConnections[a.id]=d,n.addToList(t.endpointsByElement,a.id,this._jsPlumb.floatingEndpoint),l.currentlyDragging=!0}.bind(this),k=function(){if(l.setConnectionBeingDragged(!1),d&&null!=d.endpoints){var t=l.getDropEvent(arguments),e=l.getFloatingAnchorIndex(d);if(d.endpoints[0===e?1:0].anchor.locked=!1,d.removeClass(l.draggingClass),this._jsPlumb&&(d.deleteConnectionNow||d.endpoints[e]==this._jsPlumb.floatingEndpoint)&&h&&d.suspendedEndpoint){0===e?(d.floatingElement=d.source,d.floatingId=d.sourceId,d.floatingEndpoint=d.endpoints[0],d.floatingIndex=0,d.source=p[0],d.sourceId=p[1]):(d.floatingElement=d.target,d.floatingId=d.targetId,d.floatingEndpoint=d.endpoints[1],d.floatingIndex=1,d.target=p[0],d.targetId=p[1]);var n=this._jsPlumb.floatingEndpoint;l.setDragScope(p[2],p[3]),d.endpoints[e]=d.suspendedEndpoint,d.isReattach()||d._forceReattach||d._forceDetach||!d.endpoints[0===e?1:0].detach({connection:d,ignoreTarget:!1,forceDetach:!1,fireEvent:!0,originalEvent:t,endpointBeingDeleted:!0})?(d.setHover(!1),d._forceDetach=null,d._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(d),d.suspendedEndpoint.addConnection(d),1==e?l.anchorManager.updateOtherEndpoint(d.sourceId,d.floatingId,d.targetId,d):l.anchorManager.sourceChanged(d.floatingId,d.sourceId,d,d.source),l.repaint(p[1])):l.deleteObject({endpoint:n})}this.deleteAfterDragStop?l.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),l.fire("connectionDragStop",d,t),d.pending&&l.fire("connectionAborted",d,t),l.currentlyDragging=!1,d.suspendedElement=null,d.suspendedEndpoint=null,d=null}a&&a.element&&l.remove(a.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);(m=e.extend(v,m)).scope=this.scope||m.scope,m[$]=n.wrap(m[$],x,!1),m[y]=n.wrap(m[y],C,!1),m[w]=n.wrap(m[w],g.drag),m[b]=n.wrap(m[b],k),m.multipleDrop=!1,m.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),l.initDraggable(this.canvas,m,"internal"),this.canvas._jsPlumbRelatedElement=this.element,f=!0}};var p=t.endpoint||this._jsPlumb.instance.Defaults.Endpoint||e.Defaults.Endpoint;this.setEndpoint(p,!0);var g=t.anchor?t.anchor:t.anchors?t.anchors:l.Defaults.Anchor||"Top";this.setAnchor(g,!0);var m=["default",t.type||""].join(" ");this.addType(m,t.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var v=function(i,r,o,s){if(e.isDropSupported(this.element)){var a=t.dropOptions||l.Defaults.DropOptions||e.Defaults.DropOptions;(a=e.extend({},a)).scope=a.scope||this.scope;var u=e.dragEvents.drop,c=e.dragEvents.over,d=e.dragEvents.out,h=this,f=l.EndpointDropHandler({getEndpoint:function(){return h},jsPlumb:l,enabled:function(){return null==o||o.isEnabled()},isFull:function(){return o.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){h.addClass(t)},removeClass:function(t){h.removeClass(t)},isDropAllowed:function(){return h.isDropAllowed.apply(h,arguments)},reference:s,isRedrop:function(t,e){return t.suspendedEndpoint&&e.reference&&t.suspendedEndpoint.id===e.reference.id}});a[u]=n.wrap(a[u],f,!0),a[c]=n.wrap(a[c],function(){var t=e.getDragObject(arguments),n=l.getAttribute(e.getElement(t),"dragId"),i=l.floatingConnections[n];if(null!=i){var r=l.getFloatingAnchorIndex(i);if(this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==i.suspendedEndpoint.id){var o=l.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[r],targetEndpoint:this,connection:i});this[(o?"add":"remove")+"Class"](l.endpointDropAllowedClass),this[(o?"remove":"add")+"Class"](l.endpointDropForbiddenClass),i.endpoints[r].anchor.over(this.anchor,this)}}}.bind(this)),a[d]=n.wrap(a[d],function(){var t=e.getDragObject(arguments),n=null==t?null:l.getAttribute(e.getElement(t),"dragId"),i=n?l.floatingConnections[n]:null;if(null!=i){var r=l.getFloatingAnchorIndex(i);(this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==i.suspendedEndpoint.id)&&(this.removeClass(l.endpointDropAllowedClass),this.removeClass(l.endpointDropForbiddenClass),i.endpoints[r].anchor.out())}}.bind(this)),l.initDroppable(i,a,"internal",r)}}.bind(this);return this.anchor.isFloating||v(this.canvas,!(t._transient||this.anchor.isFloating),this,t.reference),this},n.extend(e.Endpoint,e.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,e,n){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!e)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(t),!n){var r=this===this.connections[i].endpoints[0]?1:0;1==this.connections[i].endpoints[r].connections.length&&this.connections[i].endpoints[r].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,n){this.setPaintStyle(t.endpointStyle||t.paintStyle,n),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,n),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),e.extend(this,t,s),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");jsPlumb.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var e=!1;if(t)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]==t||this.connections[n].endpoints[0]==t){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(t){this.element=e.getElement(t)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),t.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(e){var i=t.jsPlumb;t.removeClass(i.endpointDropAllowedClass),t.removeClass(i.endpointDropForbiddenClass);var r=i.getDropEvent(arguments),o=i.getDragObject(arguments),s=i.getAttribute(o,"dragId"),a=(i.getAttribute(o,"elId"),i.getAttribute(o,"originalScope")),l=i.floatingConnections[s];if(null!=l){var u=null!=l.suspendedEndpoint;if(!u||null!=l.suspendedEndpoint._jsPlumb){var c=t.getEndpoint(l);if(null!=c){if(t.isRedrop(l,t))return l._forceReattach=!0,l.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(c));var d=i.getFloatingAnchorIndex(l);if(0===d&&!t.isSource||1===d&&!t.isTarget)t.maybeCleanup&&t.maybeCleanup(c);else{t.onDrop&&t.onDrop(l),a&&i.setDragScope(o,a);var h=t.isFull(e);if(h&&c.fire("maxConnections",{endpoint:this,connection:l,maxConnections:c._jsPlumb.maxConnections},r),!h&&t.enabled()){var f=!0;0===d?(l.floatingElement=l.source,l.floatingId=l.sourceId,l.floatingEndpoint=l.endpoints[0],l.floatingIndex=0,l.source=t.element,l.sourceId=t.elementId):(l.floatingElement=l.target,l.floatingId=l.targetId,l.floatingEndpoint=l.endpoints[1],l.floatingIndex=1,l.target=t.element,l.targetId=t.elementId),u&&l.suspendedEndpoint.id!=c.id&&(l.isDetachAllowed(l)&&l.endpoints[d].isDetachAllowed(l)&&l.suspendedEndpoint.isDetachAllowed(l)&&i.checkCondition("beforeDetach",l)||(f=!1));var p=function(t){l.endpoints[d].detachFromConnection(l),l.suspendedEndpoint&&l.suspendedEndpoint.detachFromConnection(l),l.endpoints[d]=c,c.addConnection(l);var e=c.getParameters();for(var o in e)l.setParameter(o,e[o]);if(u){var s=l.suspendedEndpoint.elementId;i.fireMoveEvent({index:d,originalSourceId:0===d?s:l.sourceId,newSourceId:0===d?c.elementId:l.sourceId,originalTargetId:1==d?s:l.targetId,newTargetId:1==d?c.elementId:l.targetId,originalSourceEndpoint:0===d?l.suspendedEndpoint:l.endpoints[0],newSourceEndpoint:0===d?c:l.endpoints[0],originalTargetEndpoint:1==d?l.suspendedEndpoint:l.endpoints[1],newTargetEndpoint:1==d?c:l.endpoints[1],connection:l},r)}else e.draggable&&i.initDraggable(this.element,dragOptions,"internal",i);1==d?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),l.endpoints[0].finalEndpoint&&(l.endpoints[0].detachFromConnection(l),l.endpoints[0]=l.endpoints[0].finalEndpoint,l.endpoints[0].addConnection(l)),n.isObject(t)&&l.mergeData(t),i.finaliseConnection(l,null,r,!1),l.setHover(!1)}.bind(this);if(f=f&&t.isDropAllowed(l.sourceId,l.targetId,l.scope,l,c))return p(f),!0;!function(){l.suspendedEndpoint&&(l.endpoints[d]=l.suspendedEndpoint,l.setHover(!1),l._forceDetach=!0,0===d?(l.source=l.suspendedEndpoint.element,l.sourceId=l.suspendedEndpoint.elementId):(l.target=l.suspendedEndpoint.element,l.targetId=l.suspendedEndpoint.elementId),l.suspendedEndpoint.addConnection(l),1==d?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),i.repaint(l.sourceId),l._forceDetach=!1)}()}t.maybeCleanup&&t.maybeCleanup(c),i.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,n,i,r,o){if(!t.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[n][i])throw{msg:"jsPlumb: unknown connector type '"+i+"'"};return new e.Connectors[n][i](r,o)},r=function(t,e,n){return t?n.makeAnchor(t,e,n):null},o=function(t,e,i,r){null!=e&&(e._jsPlumbConnections=e._jsPlumbConnections||{},r?delete e._jsPlumbConnections[t.id]:e._jsPlumbConnections[t.id]=!0,n.isEmpty(e._jsPlumbConnections)?i.removeClass(e,i.connectedClass):i.addClass(e,i.connectedClass))};e.Connection=function(t){var i=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=e.getElement(t.source),this.target=e.getElement(t.target),t.sourceEndpoint&&(this.source=t.sourceEndpoint.getElement()),t.targetEndpoint&&(this.target=t.targetEndpoint.getElement()),e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=!0===t.editable,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.editableRequested=!1!==t.editable,this.setEditable=function(t){return!!this.connector&&this.connector.setEditable(t)},this.isEditable=function(){return!!this.connector&&this.connector.isEditable()},this.isEditing=function(){return!!this.connector&&this.connector.isEditing()},this.makeEndpoint=function(e,n,o,s){return o=o||this._jsPlumb.instance.getId(n),this.prepareEndpoint(r,i,this,s,e?0:1,t,n,o)},t.type&&(t.endpoints=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var o=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);o&&n.addToList(t.endpointsByElement,this.sourceId,o),s&&n.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=t.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=t.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));var a=r.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var l=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:l,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||r.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||r.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle});var u=r.getSuspendedAt();if(!r.isSuspendDrawing()){var c=r.getCachedData(this.sourceId),d=c.o,h=c.s,f=r.getCachedData(this.targetId),p=f.o,g=f.s,m=u||r.timestamp(),v=this.endpoints[0].anchor.compute({xy:[d.left,d.top],wh:h,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[p.left,p.top],twh:g,tElement:this.endpoints[1],timestamp:m});this.endpoints[0].paint({anchorLoc:v,timestamp:m}),v=this.endpoints[1].anchor.compute({xy:[p.left,p.top],wh:g,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[d.left,d.top],twh:h,tElement:this.endpoints[0],timestamp:m}),this.endpoints[1].paint({anchorLoc:v,timestamp:m})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var y=jsPlumb.extend({},this.endpoints[1].getParameters());e.extend(y,this.endpoints[0].getParameters()),e.extend(y,this.getParameters()),this.setParameters(y),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||r.Defaults.Connector||e.Defaults.Connector,!0),t.geometry&&this.connector.setGeometry(t.geometry);var b=null!=t.data&&n.isObject(t.data)?t.data:{};this.getData=function(){return b},this.setData=function(t){b=t||{}},this.mergeData=function(t){b=jsPlumb.extend(b,t)};var w=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(w)&&this.addType(w,t.data,!0),this.updateConnectedClass()},n.extend(e.Connection,e.OverlayCapableJsPlumbUIComponent,{applyType:function(t,n,i){null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var r=null;t.anchor?null==(r=this.getCachedTypeItem("anchors",i.anchor))&&(r=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",r,i.anchor)):t.anchors&&null==(r=this.getCachedTypeItem("anchors",i.anchors))&&(r=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",r,i.anchors)),null!=r&&(this.endpoints[0].anchor=r[0],this.endpoints[1].anchor=r[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,e){e&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,e){e&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,t),o(this,this.target,this._jsPlumb.instance,t))},setHover:function(e){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(e),t.jsPlumb[e?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[e?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return!0===this._jsPlumb.directed},getConnector:function(){return this.connector},getGeometry:function(){return this.connector?this.connector.getGeometry():null},setGeometry:function(t){this.connector&&this.connector.setGeometry(t)},prepareConnector:function(t,e){var r,o={_jsPlumb:this._jsPlumb.instance,cssClass:(this._jsPlumb.params.cssClass||"")+(this.isEditable()?this._jsPlumb.instance.editableConnectorClass:""),container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"],editable:this.editableRequested},s=this._jsPlumb.instance.getRenderMode();return n.isString(t)?r=i(this._jsPlumb.instance,s,t,o,this):n.isArray(t)&&(r=1==t.length?i(this._jsPlumb.instance,s,t[0],o,this):i(this._jsPlumb.instance,s,t[0],n.merge(t[1],o),this)),null!=e&&(r.typeId=e),r},setPreparedConnector:function(t,e,n,i){var r,o="";if(null!=this.connector&&(o=(r=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,i&&this.cacheTypeItem("connector",t,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);n||this.setListenerComponent(this.connector),e||this.repaint()},setConnector:function(t,e,n,i){var r=this.prepareConnector(t,i);this.setPreparedConnector(r,e,n,i)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var e=(t=t||{}).timestamp,n=this.targetId,i=this.sourceId;if(null==e||e!=this._jsPlumb.lastPaintedAt){var r=this._jsPlumb.instance.updateOffset({elId:i}).o,o=this._jsPlumb.instance.updateOffset({elId:n}).o,s=this.endpoints[0],a=this.endpoints[1],l=s.anchor.getCurrentLocation({xy:[r.left,r.top],wh:[r.width,r.height],element:s,timestamp:e}),u=a.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:a,timestamp:e});this.connector.resetBounds(),this.connector.compute({sourcePos:l,targetPos:u,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:r,targetInfo:o});var c={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var d in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(d)){var h=this._jsPlumb.overlays[d];h.isVisible()&&(this._jsPlumb.overlayPlacements[d]=h.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(h)),c.minX=Math.min(c.minX,this._jsPlumb.overlayPlacements[d].minX),c.maxX=Math.max(c.maxX,this._jsPlumb.overlayPlacements[d].maxX),c.minY=Math.min(c.minY,this._jsPlumb.overlayPlacements[d].minY),c.maxY=Math.max(c.maxY,this._jsPlumb.overlayPlacements[d].maxY))}var f=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,p=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),g={xmin:Math.min(this.connector.bounds.minX-(f+p),c.minX),ymin:Math.min(this.connector.bounds.minY-(f+p),c.minY),xmax:Math.max(this.connector.bounds.maxX+(f+p),c.maxX),ymax:Math.max(this.connector.bounds.maxY+(f+p),c.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,g);for(var m in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var v=this._jsPlumb.overlays[m];v.isVisible()&&v.paint(this._jsPlumb.overlayPlacements[m],g)}}this._jsPlumb.lastPaintedAt=e}},repaint:function(t){t=t||{},this.paint({elId:this.sourceId,recalc:!(!1===t.recalc),timestamp:t.timestamp})},prepareEndpoint:function(t,n,i,o,s,a,l,u){var c;if(o)i.endpoints[s]=o,o.addConnection(i);else{a.endpoints||(a.endpoints=[null,null]);var d=a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||jsPlumb.Defaults.Endpoints[s]||t.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var h=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||jsPlumb.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==h.fillStyle&&null!=a.paintStyle&&(h.fillStyle=a.paintStyle.strokeStyle),null==h.outlineColor&&null!=a.paintStyle&&(h.outlineColor=a.paintStyle.outlineColor),null==h.outlineWidth&&null!=a.paintStyle&&(h.outlineWidth=a.paintStyle.outlineWidth);var f=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||jsPlumb.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==f&&(f={}),null==f.fillStyle&&(f.fillStyle=a.hoverPaintStyle.strokeStyle));var p=a.anchors?a.anchors[s]:a.anchor?a.anchor:r(t.Defaults.Anchors[s],u,t)||r(e.Defaults.Anchors[s],u,t)||r(t.Defaults.Anchor,u,t)||r(e.Defaults.Anchor,u,t);c=n({paintStyle:h,hoverPaintStyle:f,endpoint:d,connections:[i],uuid:a.uuids?a.uuids[s]:null,anchor:p,source:l,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),i.endpoints[s]=c,!1===a.drawEndpoints&&c.setVisible(!1,!0,!0)}return c}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumbUtil,n=t.jsPlumb;n.AnchorManager=function(t){var i={},r={},o={},s={},a={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},l=["left","top","right","bottom"],u={},c=this,d={},h=t.jsPlumbInstance,f={},p=function(t,e,n,i,r,o){if(t===e)return{orientation:a.IDENTITY,a:["top","top"]};var s=Math.atan2(i.centery-n.centery,i.centerx-n.centerx),u=Math.atan2(n.centery-i.centery,n.centerx-i.centerx),c=[],d={};!function(t,e){for(var n=0;n<t.length;n++)d[t[n]]={left:[e[n].left,e[n].centery],right:[e[n].right,e[n].centery],top:[e[n].centerx,e[n].top],bottom:[e[n].centerx,e[n].bottom]}}(["source","target"],[n,i]);for(var h=0;h<l.length;h++)for(var f=0;f<l.length;f++)c.push({source:l[h],target:l[f],dist:Biltong.lineLength(d.source[l[h]],d.target[l[f]])});c.sort(function(t,e){return t.dist<e.dist?-1:t.dist>e.dist?1:0});for(var p=c[0].source,g=c[0].target,m=0;m<c.length&&(p=!r.isContinuous||r.isEdgeSupported(c[m].source)?c[m].source:null,g=!o.isContinuous||o.isEdgeSupported(c[m].target)?c[m].target:null,null==p||null==g);m++);return{a:[p,g],theta:s,theta2:u}},g=function(t,e,n,i,r,o,s){for(var a=[],l=e[r?0:1]/(i.length+1),u=0;u<i.length;u++){var c=(u+1)*l,d=o*e[r?1:0];s&&(c=e[r?0:1]-c);var h=r?c:d,f=n[0]+h,p=h/e[0],g=r?d:c,m=n[1]+g,v=g/e[1];a.push([f,m,p,v,i[u][1],i[u][2]])}return a},m=function(t){return function(e,n){var i=!0;return i=t?e[0][0]<n[0][0]:e[0][0]>n[0][0],!1===i?-1:1}},v=function(t,e){return(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])>(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])?1:t[0][1]>e[0][1]?1:-1},y={top:function(t,e){return t[0]>e[0]?1:-1},right:m(!0),bottom:m(!0),left:v},b=function(t,e){return t.sort(e)},w=function(t,e){var n=h.getCachedData(t),i=n.s,o=n.o,a=function(e,n,i,o,a,l,u){if(o.length>0)for(var c=b(o,y[e]),d=g(0,n,i,c,a,l,"right"===e||"top"===e),h=function(t,e){r[t.id]=[e[0],e[1],e[2],e[3]],s[t.id]=u},f=0;f<d.length;f++){var p=d[f][4],m=p.endpoints[0].elementId===t,v=p.endpoints[1].elementId===t;m&&h(p.endpoints[0],d[f]),v&&h(p.endpoints[1],d[f])}};a("bottom",i,[o.left,o.top],e.bottom,!0,1,[0,1]),a("top",i,[o.left,o.top],e.top,!0,0,[0,-1]),a("left",i,[o.left,o.top],e.left,!1,0,[-1,0]),a("right",i,[o.left,o.top],e.right,!1,1,[1,0])};this.reset=function(){i={},u={},d={}},this.addFloatingConnection=function(t,e){f[t]=e},this.removeFloatingConnection=function(t){delete f[t]},this.newConnection=function(t){var i=t.sourceId,r=t.targetId,o=t.endpoints,s=!0,a=function(a,l,c,d,h){i==r&&c.isContinuous&&(t._jsPlumb.instance.removeElement(o[1].canvas),s=!1),e.addToList(u,d,[h,l,c.constructor==n.DynamicAnchor])};a(0,o[0],o[0].anchor,r,t),s&&a(0,o[1],o[1].anchor,i,t)};var $=function(t){!function(t,n){if(t){var i=function(t){return t[4]==n};e.removeWithFunction(t.top,i),e.removeWithFunction(t.left,i),e.removeWithFunction(t.bottom,i),e.removeWithFunction(t.right,i)}}(d[t.elementId],t.id)};this.connectionDetached=function(t,n){var i=t.connection||t,r=t.sourceId,o=t.targetId,s=i.endpoints,a=function(t,n,i,r,o){e.removeWithFunction(u[r],function(t){return t[0].id==o.id})};a(0,s[1],s[1].anchor,r,i),a(0,s[0],s[0].anchor,o,i),i.floatingId&&(a(i.floatingIndex,i.floatingEndpoint,i.floatingEndpoint.anchor,i.floatingId,i),$(i.floatingEndpoint)),$(i.endpoints[0]),$(i.endpoints[1]),n||(c.redraw(i.sourceId),i.targetId!==i.sourceId&&c.redraw(i.targetId))},this.add=function(t,n){e.addToList(i,n,t)},this.changeId=function(t,e){u[e]=u[t],i[e]=i[t],delete u[t],delete i[t]},this.getConnectionsFor=function(t){return u[t]||[]},this.getEndpointsFor=function(t){return i[t]||[]},this.deleteEndpoint=function(t){e.removeWithFunction(i[t.elementId],function(e){return e.id==t.id}),$(t)},this.clearFor=function(t){delete i[t],i[t]=[]};var x=function(n,i,r,o,s,a,l,u,c,d,h,f){var p,g,m=-1,v=o.endpoints[l],y=v.id,b=[1,0][l],w=[[i,r],o,s,a,y],$=n[c],x=v._continuousAnchorEdge?n[v._continuousAnchorEdge]:null;if(x){var C=e.findWithFunction(x,function(t){return t[4]==y});if(-1!=C)for(x.splice(C,1),p=0;p<x.length;p++)g=x[p][1],e.addWithFunction(h,g,function(t){return t.id==g.id}),e.addWithFunction(f,x[p][1].endpoints[l],function(t){return t.id==g.endpoints[l].id}),e.addWithFunction(f,x[p][1].endpoints[b],function(t){return t.id==g.endpoints[b].id})}for(p=0;p<$.length;p++)g=$[p][1],1==t.idx&&$[p][3]===a&&-1==m&&(m=p),e.addWithFunction(h,g,function(t){return t.id==g.id}),e.addWithFunction(f,$[p][1].endpoints[l],function(t){return t.id==g.endpoints[l].id}),e.addWithFunction(f,$[p][1].endpoints[b],function(t){return t.id==g.endpoints[b].id});var k=u?-1!=m?m:0:$.length;$.splice(k,0,w),v._continuousAnchorEdge=c};this.updateOtherEndpoint=function(t,i,r,o){var s=e.findWithFunction(u[t],function(t){return t[0].id===o.id}),a=e.findWithFunction(u[i],function(t){return t[0].id===o.id});-1!=s&&(u[t][s][0]=o,u[t][s][1]=o.endpoints[1],u[t][s][2]=o.endpoints[1].anchor.constructor==n.DynamicAnchor),a>-1&&(u[i].splice(a,1),e.addToList(u,r,[o,o.endpoints[0],o.endpoints[0].anchor.constructor==n.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(t,i,r,o){if(t!==i){r.sourceId=i,r.source=o,e.removeWithFunction(u[t],function(t){return t[0].id===r.id});var s=e.findWithFunction(u[r.targetId],function(t){return t[0].id===r.id});s>-1&&(u[r.targetId][s][0]=r,u[r.targetId][s][1]=r.endpoints[0],u[r.targetId][s][2]=r.endpoints[0].anchor.constructor==n.DynamicAnchor),e.addToList(u,i,[r,r.endpoints[1],r.endpoints[1].anchor.constructor==n.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(t,e,n){var r=i[e]||[],o=h.getId(n);if(o!==e){var s=r.indexOf(t);if(s>-1){var a=r.splice(s,1)[0];c.add(a,o)}}for(var l=0;l<t.connections.length;l++)t.connections[l].sourceId==e?c.sourceChanged(e,t.elementId,t.connections[l],t.element):t.connections[l].targetId==e&&(t.connections[l].targetId=t.elementId,t.connections[l].target=t.element,c.updateOtherEndpoint(t.connections[l].sourceId,e,t.elementId,t.connections[l]))},this.redraw=function(t,r,o,s,a,l){if(!h.isSuspendDrawing()){var c=i[t]||[],g=u[t]||[],m=[],v=[],y=[];o=o||h.timestamp(),s=s||{left:0,top:0},r&&(r={left:r.left+s.left,top:r.top+s.top});for(var b=h.updateOffset({elId:t,offset:r,recalc:!1,timestamp:o}),$={},C=0;C<g.length;C++){var k=g[C][0],S=k.sourceId,E=k.targetId,D=k.endpoints[0].anchor.isContinuous,_=k.endpoints[1].anchor.isContinuous;if(D||_){var T=S+"_"+E,P=$[T],M=k.sourceId==t?1:0;D&&!d[S]&&(d[S]={top:[],right:[],bottom:[],left:[]}),_&&!d[E]&&(d[E]={top:[],right:[],bottom:[],left:[]}),t!=E&&h.updateOffset({elId:E,timestamp:o}),t!=S&&h.updateOffset({elId:S,timestamp:o});var j=h.getCachedData(E),A=h.getCachedData(S);E==S&&(D||_)?(x(d[S],-Math.PI/2,0,k,!1,E,0,!1,"top",0,m,v),x(d[E],-Math.PI/2,0,k,!1,S,1,!1,"top",0,m,v)):(P||(P=p(S,E,A.o,j.o,k.endpoints[0].anchor,k.endpoints[1].anchor),$[T]=P),D&&x(d[S],P.theta,0,k,!1,E,0,!1,P.a[0],0,m,v),_&&x(d[E],P.theta2,-1,k,!0,S,1,!0,P.a[1],0,m,v)),D&&e.addWithFunction(y,S,function(t){return t===S}),_&&e.addWithFunction(y,E,function(t){return t===E}),e.addWithFunction(m,k,function(t){return t.id==k.id}),(D&&0===M||_&&1===M)&&e.addWithFunction(v,k.endpoints[M],function(t){return t.id==k.endpoints[M].id})}}for(C=0;C<c.length;C++)0===c[C].connections.length&&c[C].anchor.isContinuous&&(d[t]||(d[t]={top:[],right:[],bottom:[],left:[]}),x(d[t],-Math.PI/2,0,{endpoints:[c[C],c[C]],paint:function(){}},!1,t,0,!1,c[C].anchor.getDefaultFace(),0,m,v),e.addWithFunction(y,t,function(e){return e===t}));for(C=0;C<y.length;C++)w(y[C],d[y[C]]);for(C=0;C<c.length;C++)c[C].paint({timestamp:o,offset:b,dimensions:b.s,recalc:!0!==l});for(C=0;C<v.length;C++){var O=h.getCachedData(v[C].elementId);v[C].paint({timestamp:o,offset:O,dimensions:O.s})}for(C=0;C<g.length;C++){var F=g[C][1];if(F.anchor.constructor==n.DynamicAnchor){F.paint({elementWithPrecedence:t,timestamp:o}),e.addWithFunction(m,g[C][0],function(t){return t.id==g[C][0].id});for(var I=0;I<F.connections.length;I++)F.connections[I]!==g[C][0]&&e.addWithFunction(m,F.connections[I],function(t){return t.id==F.connections[I].id})}else F.anchor.constructor==n.Anchor&&e.addWithFunction(m,g[C][0],function(t){return t.id==g[C][0].id})}var N=f[t];for(N&&N.paint({timestamp:o,recalc:!1,elId:t}),C=0;C<m.length;C++)m[C].paint({elId:t,timestamp:o,recalc:!1,clearEdits:a})}};var C=function(t){e.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=t.faces||["top","right","bottom","left"],i=!(!1===t.clockwise),a={},l={top:"bottom",right:"left",left:"right",bottom:"top"},u={top:"right",right:"bottom",left:"top",bottom:"left"},c={top:"left",right:"top",left:"bottom",bottom:"right"},d=i?u:c,h=i?c:u,f=t.cssClass||"",p=0;p<n.length;p++)a[n[p]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.verifyEdge=function(t){return a[t]?t:a[l[t]]?l[t]:a[d[t]]?d[t]:a[h[t]]?h[t]:t},this.isEdgeSupported=function(t){return!0===a[t]},this.compute=function(t){return o[t.element.id]||r[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return o[t.element.id]||r[t.element.id]||[0,0]},this.getOrientation=function(t){return s[t.id]||[0,0]},this.clearUserDefinedLocation=function(){delete o[t.elementId]},this.setUserDefinedLocation=function(e){o[t.elementId]=e},this.getCssClass=function(){return f}};h.continuousAnchorFactory={get:function(t){return new C(t)},clear:function(t){delete o[t],delete r[t]}}},n.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null,e.EventGenerator.apply(this),this.compute=function(t){var e=t.xy,n=t.wh,i=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===self.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[e[0]+this.x*n[0]+this.offsets[0],e[1]+this.y*n[1]+this.offsets[1]],this.timestamp=i,this.lastReturnValue)},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!=t.timestamp?this.compute(t):this.lastReturnValue}},e.extend(n.Anchor,e.EventGenerator,{equals:function(t){if(!t)return!1;var e=t.getOrientation(),n=this.getOrientation();return this.x==t.x&&this.y==t.y&&this.offsets[0]==t.offsets[0]&&this.offsets[1]==t.offsets[1]&&n[0]==e[0]&&n[1]==e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),n.FloatingAnchor=function(t){n.Anchor.apply(this,arguments);var e=t.reference,i=t.referenceCanvas,r=n.getSize(i),o=null,s=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var e=t.xy,n=[e[0]+r[0]/2,e[1]+r[1]/2];return s=n,n},this.getOrientation=function(t){if(o)return o;var n=e.getOrientation(t);return[0*Math.abs(n[0])*-1,0*Math.abs(n[1])*-1]},this.over=function(t,e){o=t.getOrientation(e)},this.out=function(){o=null},this.getCurrentLocation=function(t){return null==s?this.compute(t):s}},e.extend(n.FloatingAnchor,n.Anchor);var i=function(t,e,i){return t.constructor==n.Anchor?t:e.makeAnchor(t,i,e)};n.DynamicAnchor=function(t){n.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var e=0;e<t.anchors.length;e++)this.anchors[e]=i(t.anchors[e],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors},this.locked=!1;var r=this.anchors.length>0?this.anchors[0]:null,o=r,s=this,a=function(t,e,n,i,r){var o=i[0]+t.x*r[0],s=i[1]+t.y*r[1],a=i[0]+r[0]/2,l=i[1]+r[1]/2;return Math.sqrt(Math.pow(e-o,2)+Math.pow(n-s,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(l-s,2))},l=t.selector||function(t,e,n,i,r){for(var o=n[0]+i[0]/2,s=n[1]+i[1]/2,l=-1,u=1/0,c=0;c<r.length;c++){var d=a(r[c],o,s,t,e);d<u&&(l=c+0,u=d)}return r[l]};this.compute=function(t){var e=t.xy,n=t.wh,i=t.txy,a=t.twh;this.timestamp=t.timestamp;var u=s.getUserDefinedLocation();return null!=u?u:this.locked||null==i||null==a?r.compute(t):(t.timestamp=null,r=l(e,n,i,a,this.anchors),this.x=r.x,this.y=r.y,r!=o&&this.fire("anchorChanged",r),o=r,r.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=r?r.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=r?r.getOrientation(t):[0,0]},this.over=function(t,e){null!=r&&r.over(t,e)},this.out=function(){null!=r&&r.out()},this.getCssClass=function(){return r&&r.getCssClass()||""}},e.extend(n.DynamicAnchor,n.Anchor);var r=function(t,e,i,r,o,s){n.Anchors[o]=function(n){var a=n.jsPlumbInstance.makeAnchor([t,e,i,r,0,0],n.elementId,n.jsPlumbInstance);return a.type=o,s&&s(a,n),a}};r(.5,0,0,-1,"TopCenter"),r(.5,1,0,1,"BottomCenter"),r(0,.5,-1,0,"LeftMiddle"),r(1,.5,1,0,"RightMiddle"),r(.5,0,0,-1,"Top"),r(.5,1,0,1,"Bottom"),r(0,.5,-1,0,"Left"),r(1,.5,1,0,"Right"),r(.5,.5,0,0,"Center"),r(1,0,0,-1,"TopRight"),r(1,1,0,1,"BottomRight"),r(0,0,0,-1,"TopLeft"),r(0,1,0,1,"BottomLeft"),n.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},n.Anchors.AutoDefault=function(t){var e=t.jsPlumbInstance.makeDynamicAnchor(n.Defaults.DynamicAnchors(t));return e.type="AutoDefault",e};var o=function(t,e){n.Anchors[t]=function(n){var i=n.jsPlumbInstance.makeAnchor(["Continuous",{faces:e}],n.elementId,n.jsPlumbInstance);return i.type=t,i}};n.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},o("ContinuousLeft",["left"]),o("ContinuousTop",["top"]),o("ContinuousBottom",["bottom"]),o("ContinuousRight",["right"]),r(0,0,0,0,"Assign",function(t,e){var n=e.position||"Fixed";t.positionFinder=n.constructor==String?e.jsPlumbInstance.AnchorPositionFinders[n]:n,t.constructorParams=e}),t.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,e,n){return[(t.left-e.left)/n[0],(t.top-e.top)/n[1]]},Grid:function(t,e,n,i){var r=t.left-e.left,o=t.top-e.top,s=n[0]/i.grid[0],a=n[1]/i.grid[1],l=Math.floor(r/s),u=Math.floor(o/a);return[(l*s+s/2)/n[0],(u*a+a/2)/n[1]]}},n.Anchors.Perimeter=function(t){var e=(t=t||{}).anchorCount||60,n=t.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var i=function(){for(var t=2*Math.PI/e,n=0,i=[],r=0;r<e;r++){var o=.5+.5*Math.sin(n),s=.5+.5*Math.cos(n);i.push([o,s,0,0]),n+=t}return i},r=function(t){for(var n=e/t.length,i=[],r=function(t,r,o,s,a){for(var l=(o-t)/(n=e*a),u=(s-r)/n,c=0;c<n;c++)i.push([t+l*c,r+u*c,0,0])},o=0;o<t.length;o++)r.apply(null,t[o]);return i},o=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3],1/t.length]);return r(e)},s=function(){return o([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:i,Ellipse:i,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var e=t.points,n=[],i=0,o=0;o<e.length-1;o++){var s=Math.sqrt(Math.pow(e[o][2]-e[o][0])+Math.pow(e[o][3]-e[o][1]));i+=s,n.push([e[o][0],e[o][1],e[o+1][0],e[o+1][1],s])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/i;return r(n)}};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var l=a[n](t);t.rotation&&(l=function(t,e){for(var n=[],i=e/180*Math.PI,r=0;r<t.length;r++){var o=t[r][0]-.5,s=t[r][1]-.5;n.push([o*Math.cos(i)-s*Math.sin(i)+.5,o*Math.sin(i)+s*Math.cos(i)+.5,t[r][2],t[r][3]])}return n}(l,t.rotation));var u=t.jsPlumbInstance.makeDynamicAnchor(l);return u.type="Perimeter",u}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=t.Biltong;e.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,e){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}}},Straight:function(t){e.Segments.AbstractSegment.apply(this,arguments);var n,r,o,s,a,l,u,c=function(){n=Math.sqrt(Math.pow(a-s,2)+Math.pow(u-l,2)),r=i.gradient({x:s,y:l},{x:a,y:u}),o=-1/r};this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:s,y1:l,x2:a,y2:u}},this.setCoordinates=function(t){s=t.x1,l=t.y1,a=t.x2,u=t.y2,c()},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(l,u),maxX:Math.max(s,a),maxY:Math.max(l,u)}},this.pointOnPath=function(t,e){if(0!==t||e){if(1!=t||e){var r=e?t>0?t:n+t:t*n;return i.pointOnLine({x:s,y:l},{x:a,y:u},r)}return{x:a,y:u}}return{x:s,y:l}},this.gradientAtPoint=function(t){return r},this.pointAlongPathFrom=function(t,e,n){var r=this.pointOnPath(t,n),o=e<=0?{x:s,y:l}:{x:a,y:u};return e<=0&&Math.abs(e)>1&&(e*=-1),i.pointOnLine(r,o,e)};var d=function(t,e,n){return n>=Math.min(t,e)&&n<=Math.max(t,e)},h=function(t,e,n){return Math.abs(n-t)<Math.abs(n-e)?t:e};this.findClosestPointOnPath=function(t,e){var c={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:l,y2:u};if(0===r)c.y=l,c.x=d(s,a,t)?t:h(s,a,t);else if(r==1/0||r==-1/0)c.x=s,c.y=d(l,u,e)?e:h(l,u,e);else{var f=l-r*s,p=(e-o*t-f)/(r-o),g=r*p+f;c.x=d(s,a,p)?p:h(s,a,p),c.y=d(l,u,g)?g:h(l,u,g)}var m=i.lineLength([c.x,c.y],[s,l]);return c.d=i.lineLength([t,e],[c.x,c.y]),c.l=m/n,c}},Arc:function(t){e.Segments.AbstractSegment.apply(this,arguments);var n=function(e,n){return i.theta([t.cx,t.cy],[e,n])},r=function(t,e){if(t.anticlockwise){var n=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle;return n-Math.abs(n-t.endAngle)*e}var i=t.endAngle<t.startAngle?t.endAngle+o:t.endAngle,r=Math.abs(i-t.startAngle);return t.startAngle+r*e},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=n(t.x1,t.y1),this.endAngle=n(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o);var s=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(s-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var a=2*Math.PI*this.radius,l=this.sweep/o,u=a*l;this.getLength=function(){return u},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var c=function(t){var e=Math.floor(t),n=Math.ceil(t);return t-e<1e-10?e:n-t<1e-10?n:t};this.pointOnPath=function(e,n){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==e)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(e/=u);var i=r(this,e),o=t.cx+t.r*Math.cos(i),s=t.cy+t.r*Math.sin(i);return{x:c(o),y:c(s),theta:i}},this.gradientAtPoint=function(e,n){var r=this.pointOnPath(e,n),o=i.normal([t.cx,t.cy],[r.x,r.y]);return this.anticlockwise||o!=1/0&&o!=-1/0||(o*=-1),o},this.pointAlongPathFrom=function(e,n,i){var r=this.pointOnPath(e,i),o=n/a*2*Math.PI,s=this.anticlockwise?-1:1,l=r.theta+s*o;return{x:t.cx+this.radius*Math.cos(l),y:t.cy+this.radius*Math.sin(l)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}];e.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var i=function(e,n,i){return i&&(n=t.jsBezier.locationAlongCurveFrom(e,n>0?0:1,n)),n};this.pointOnPath=function(e,n){return e=i(this.curve,e,n),t.jsBezier.pointOnCurve(this.curve,e)},this.gradientAtPoint=function(e,n){return e=i(this.curve,e,n),t.jsBezier.gradientAtPoint(this.curve,e)},this.pointAlongPathFrom=function(e,n,r){return e=i(this.curve,e,r),t.jsBezier.pointAlongCurveFrom(this.curve,e,n)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};e.Connectors.AbstractConnector=function(t){r.apply(this,arguments);var o=[],s=0,a=[],l=[],u=t.stub||0,c=n.isArray(u)?u[0]:u,d=n.isArray(u)?u[1]:u,h=t.gap||0,f=n.isArray(h)?h[0]:h,p=n.isArray(h)?h[1]:h,g=null,m=!1,v=null,y=null,b=!1!==t.editable&&null!=jsPlumb.ConnectorEditors&&null!=jsPlumb.ConnectorEditors[this.type],w=this.setGeometry=function(t,e){m=!e,y=t},$=this.getGeometry=function(){return y};this.hasBeenEdited=function(){return m},this.isEditing=function(){return null!=this.editor&&this.editor.isActive()},this.setEditable=function(t){return b=!(!t||null==jsPlumb.ConnectorEditors||null==jsPlumb.ConnectorEditors[this.type]||null!=this.overrideSetEditable&&!this.overrideSetEditable())&&t},this.isEditable=function(){return b},this.findSegmentForPoint=function(t,e){for(var n={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var r=o[i].findClosestPointOnPath(t,e);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=o[i],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=i)}return n};var x=function(){for(var t=0,e=0;e<o.length;e++){var n=o[e].getLength();l[e]=n/s,a[e]=[t,t+=n/s]}},C=function(t,e){e&&(t=t>0?t/s:(s+t)/s);for(var n=a.length-1,i=1,r=0;r<a.length;r++)if(a[r][1]>=t){n=r,i=1==t?1:0===t?0:(t-a[r][0])/l[r];break}return{segment:o[n],proportion:i,index:n}},k=function(t,n,i){if(i.x1!=i.x2||i.y1!=i.y2){var r=new e.Segments[n](i);o.push(r),s+=r.getLength(),t.updateBounds(r)}},S=function(){s=o.length=a.length=l.length=0};this.setSegments=function(t){g=[],s=0;for(var e=0;e<t.length;e++)g.push(t[e]),s+=t[e].getLength()},this.getLength=function(){return s};var E=function(t){this.lineWidth=t.lineWidth;var e=i.quadrant(t.sourcePos,t.targetPos),n=t.targetPos[0]<t.sourcePos[0],r=t.targetPos[1]<t.sourcePos[1],o=t.lineWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),l=n?t.targetPos[0]:t.sourcePos[0],u=r?t.targetPos[1]:t.sourcePos[1],h=Math.abs(t.targetPos[0]-t.sourcePos[0]),g=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var m=h>g?0:1,v=[1,0][m];a=[],(s=[])[m]=t.sourcePos[m]>t.targetPos[m]?-1:1,a[m]=t.sourcePos[m]>t.targetPos[m]?1:-1,s[v]=0,a[v]=0}var y=n?h+f*s[0]:f*s[0],b=r?g+f*s[1]:f*s[1],w=n?p*a[0]:h+p*a[0],$=r?p*a[1]:g+p*a[1],x=s[0]*a[0]+s[1]*a[1],C={sx:y,sy:b,tx:w,ty:$,lw:o,xSpan:Math.abs(w-y),ySpan:Math.abs($-b),mx:(y+w)/2,my:(b+$)/2,so:s,to:a,x:l,y:u,w:h,h:g,segment:e,startStubX:y+s[0]*c,startStubY:b+s[1]*c,endStubX:w+a[0]*d,endStubY:$+a[1]*d,isXGreaterThanStubTimes2:Math.abs(y-w)>c+d,isYGreaterThanStubTimes2:Math.abs(b-$)>c+d,opposite:-1==x,perpendicular:0===x,orthogonal:1==x,sourceAxis:0===s[0]?"y":"x",points:[l,u,h,g,y,b,w,$]};return C.anchorOrientation=C.opposite?"opposite":C.orthogonal?"orthogonal":"perpendicular",C};this.getSegments=function(){return o},this.updateBounds=function(t){var e=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,e.minX),this.bounds.maxX=Math.max(this.bounds.maxX,e.maxX),this.bounds.minY=Math.min(this.bounds.minY,e.minY),this.bounds.maxY=Math.max(this.bounds.maxY,e.maxY)};return this.pointOnPath=function(t,e){var n=C(t,e);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,e){var n=C(t,e);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(t,e,n){var i=C(t,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,e,!1)||[0,0]},this.compute=function(t){v=E.call(this,t),S(),this._compute(v,t),this.x=v.points[0],this.y=v.points[1],this.w=v.points[2],this.h=v.points[3],this.segment=v.segment,x()},{addSegment:k,prepareCompute:E,sourceStub:c,targetStub:d,maxStub:Math.max(c,d),sourceGap:f,targetGap:p,maxGap:Math.max(f,p),setGeometry:w,getGeometry:$}},n.extend(e.Connectors.AbstractConnector,r);var o=e.Connectors.Straight=function(){this.type="Straight";var t=e.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(e,n){t.addSegment(this,"Straight",{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),t.addSegment(this,"Straight",{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),t.addSegment(this,"Straight",{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty})}};n.extend(e.Connectors.Straight,e.Connectors.AbstractConnector),e.registerConnectorType(o,"Straight"),e.Endpoints.AbstractEndpoint=function(t){return r.apply(this,arguments),{compute:this.compute=function(t,e,n,i){var r=this._compute.apply(this,arguments);return this.x=r[0],this.y=r[1],this.w=r[2],this.h=r[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,r},cssClass:t.cssClass}},n.extend(e.Endpoints.AbstractEndpoint,r),e.Endpoints.Dot=function(t){this.type="Dot";e.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,e,n,i){this.radius=n.radius||this.radius;var r=t[0]-this.radius,o=t[1]-this.radius,s=2*this.radius,a=2*this.radius;if(n.strokeStyle){var l=n.lineWidth||1;r-=l,o-=l,s+=2*l,a+=2*l}return[r,o,s,a,this.radius]}},n.extend(e.Endpoints.Dot,e.Endpoints.AbstractEndpoint),e.Endpoints.Rectangle=function(t){this.type="Rectangle";e.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,e,n,i){var r=n.width||this.width,o=n.height||this.height;return[t[0]-r/2,t[1]-o/2,r,o]}},n.extend(e.Endpoints.Rectangle,e.Endpoints.AbstractEndpoint);var s=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(s,e.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),e.Endpoints.Image=function(i){this.type="Image",s.apply(this,arguments),e.Endpoints.AbstractEndpoint.apply(this,arguments);var r=i.onload,o=i.src||i.url,a=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=i.width,this._jsPlumb.heightToUse=i.height,this._jsPlumb.endpoint=i.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,e){var n=t.constructor==String?t:t.src;r=e,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(o,r),this._compute=function(t,e,n,i){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=jsPlumb.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,e,i){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var r=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,o=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,r,o,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(e,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(e,n):t.setTimeout(function(){this.paint(e,n)}.bind(this),200))}},n.extend(e.Endpoints.Image,[s,e.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),e.Endpoints.Blank=function(t){e.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",s.apply(this,arguments),this._compute=function(t,e,n,i){return[t[0],t[1],10,0]};var i=t.cssClass?" "+t.cssClass:"";this.canvas=jsPlumb.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,e){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(e.Endpoints.Blank,[e.Endpoints.AbstractEndpoint,s],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),e.Endpoints.Triangle=function(t){this.type="Triangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),(t=t||{}).width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,e,n,i){var r=n.width||self.width,o=n.height||self.height;return[t[0]-r/2,t[1]-o/2,r,o]}};var a=e.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};a.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},e.Overlays.Arrow=function(t){this.type="Arrow",a.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{},this.length=t.length||20,this.width=t.width||20,this.id=t.id;var e=(t.direction||1)<0?-1:1,r=t.paintStyle||{lineWidth:1},o=t.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width},this.elementCreated=function(e,n){if(this.path=e,t.events)for(var i in t.events)jsPlumb.on(e,i,t.events[i])},this.draw=function(t,s){var a,l,u,c,d;if(t.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var h=parseInt(this.loc,10),f=this.loc<0?1:0;a=t.pointAlongPathFrom(f,h,!1),l=t.pointAlongPathFrom(f,h-e*this.length/2,!1),u=i.pointOnLine(a,l,this.length)}else if(1==this.loc){if(a=t.pointOnPath(this.loc),l=t.pointAlongPathFrom(this.loc,-this.length),u=i.pointOnLine(a,l,this.length),-1==e){var p=u;u=a,a=p}}else if(0===this.loc){if(u=t.pointOnPath(this.loc),l=t.pointAlongPathFrom(this.loc,this.length),a=i.pointOnLine(u,l,this.length),-1==e){var g=u;u=a,a=g}}else a=t.pointAlongPathFrom(this.loc,e*this.length/2),l=t.pointOnPath(this.loc),u=i.pointOnLine(a,l,this.length);var m={hxy:a,tail:c=i.perpendicularLineTo(a,u,this.width),cxy:d=i.pointOnLine(a,u,o*this.length)},v=r.strokeStyle||s.strokeStyle,y=r.fillStyle||s.strokeStyle;return{component:t,d:m,lineWidth:r.lineWidth||s.lineWidth,strokeStyle:v,fillStyle:y,minX:Math.min(a.x,c[0].x,c[1].x),maxX:Math.max(a.x,c[0].x,c[1].x),minY:Math.min(a.y,c[0].y,c[1].y),maxY:Math.max(a.y,c[0].y,c[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(e.Overlays.Arrow,a,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback}}),e.Overlays.PlainArrow=function(t){t=t||{};var n=e.extend(t,{foldback:1});e.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(e.Overlays.PlainArrow,e.Overlays.Arrow),e.Overlays.Diamond=function(t){var n=(t=t||{}).length||40,i=jsPlumb.extend(t,{length:n/2,foldback:2});e.Overlays.Arrow.call(this,i),this.type="Diamond"},n.extend(e.Overlays.Diamond,e.Overlays.Arrow);var l=function(t,e){return(null==t._jsPlumb.cachedDimensions||e)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},u=function(t){e.jsPlumbUIComponent.apply(this,arguments),a.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var e=this._jsPlumb.div=jsPlumb.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute",e.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:""),this._jsPlumb.instance.appendElement(e),this._jsPlumb.instance.getId(e),this.canvas=e;var n="translate(-50%, -50%)";e.style.webkitTransform=n,e.style.mozTransform=n,e.style.msTransform=n,e.style.oTransform=n,e.style.transform=n,e._jsPlumb=this,!1===t.visible&&(e.style.display="none")}return this._jsPlumb.div},this.draw=function(t,e,i){var r=l(this);if(null!=r&&2==r.length){var o={x:0,y:0};if(i)o={x:i[0],y:i[1]};else if(t.pointOnPath){var s=this.loc,a=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),a=!0),o=t.pointOnPath(s,a)}else{var u=this.loc.constructor==Array?this.loc:this.endpointLoc;o={x:u[0]*t.w,y:u[1]*t.h}}var c=o.x-r[0]/2,d=o.y-r[1]/2;return{component:t,d:{minx:c,miny:d,td:r,cxy:o},minX:c,maxX:c+r[0],minY:d,maxY:d+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(u,[e.jsPlumbUIComponent,a],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(l(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=l(this);return Math.max(t[0],t[1])},paint:function(t,e){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),e.Overlays.Custom=function(t){this.type="Custom",u.apply(this,arguments)},n.extend(e.Overlays.Custom,u),e.Overlays.GuideLines=function(){var t=this;t.length=50,t.lineWidth=5,this.type="GuideLines",a.apply(this,arguments),e.jsPlumbUIComponent.apply(this,arguments),this.draw=function(e,n){var r=e.pointAlongPathFrom(t.loc,t.length/2),o=e.pointOnPath(t.loc),s=i.pointOnLine(r,o,t.length),a=i.perpendicularLineTo(r,s,40),l=i.perpendicularLineTo(s,r,20);return{connector:e,head:r,tail:s,headLine:l,tailLine:a,minX:Math.min(r.x,s.x,l[0].x,l[1].x),minY:Math.min(r.y,s.y,l[0].y,l[1].y),maxX:Math.max(r.x,s.x,l[0].x,l[1].x),maxY:Math.max(r.y,s.y,l[0].y,l[1].y)}}},e.Overlays.Label=function(t){this.labelStyle=t.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=e.extend({create:function(){return jsPlumb.createElement("div")}},t);if(e.Overlays.Custom.call(this,n),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(i.style.background=this.labelStyle.fillStyle),this.labelStyle.borderWidth>0){var r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";i.style.border=this.labelStyle.borderWidth+"px solid "+r}this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},n.extend(e.Overlays.Label,e.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){t.label&&this.setLabel(t.label)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=function(e){var n=e._mottle;return n||(n=e._mottle=new t.Mottle),n};t.jsPlumb.extend(t.jsPlumbInstance.prototype,{getEventManager:function(){return e(this)},on:function(t,e,n){return this.getEventManager().on.apply(this,arguments),this},off:function(t,e,n){return this.getEventManager().off.apply(this,arguments),this}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumbUtil,n=t.jsPlumbInstance,i="stop",r="revert",o="_jsPlumbGroup",s=function(t){function n(t){delete t.proxies;var n,i=a[t.id];null!=i&&(n=function(e){return e.id===t.id},e.removeWithFunction(i.connections.source,n),e.removeWithFunction(i.connections.target,n),delete a[t.id]),null!=(i=l[t.id])&&(n=function(e){return e.id===t.id},e.removeWithFunction(i.connections.source,n),e.removeWithFunction(i.connections.target,n),delete l[t.id])}function i(e,n){for(var i=e.getMembers(),r=0;r<i.length;r++)t[n?"show":"hide"](i[r],!0)}function r(e){var n=e.getMembers(),i=t.getConnections({source:n},!0),r=t.getConnections({target:n},!0),o={};e.connections.source.length=0,e.connections.target.length=0;var s=function(t){for(var n=0;n<t.length;n++)o[t[n].id]||(o[t[n].id]=!0,t[n].source._jsPlumbGroup===e?(t[n].target._jsPlumbGroup!==e&&e.connections.source.push(t[n]),a[t[n].id]=e):t[n].target._jsPlumbGroup===e&&(e.connections.target.push(t[n]),l[t[n].id]=e))};s(i),s(r)}var s={},a={},l={};t.bind("connection",function(t){null!=t.source[o]&&null!=t.target[o]&&t.source[o]===t.target[o]?(a[t.connection.id]=t.source[o],l[t.connection.id]=t.source[o]):(null!=t.source[o]&&(e.suggest(t.source[o].connections.source,t.connection),a[t.connection.id]=t.source[o]),null!=t.target[o]&&(e.suggest(t.target[o].connections.target,t.connection),l[t.connection.id]=t.target[o]))}),t.bind("connectionDetached",function(t){n(t.connection)}),t.bind("connectionMoved",function(t){var e=(0===t.index?a:l)[t.connection.id];if(e){var n=e.connections[0===t.index?"source":"target"],i=n.indexOf(t.connection);-1!=i&&n.splice(i,1)}}),this.addGroup=function(e){t.addClass(e.el,"jsplumb-group-expanded"),s[e.id]=e,e.manager=this,r(e),t.fire("group:add",{group:e})},this.addToGroup=function(t,e,n){(t=this.getGroup(t))&&t.add(e,n)},this.removeFromGroup=function(t,e,n){(t=this.getGroup(t))&&t.remove(e,null,n)},this.getGroup=function(t){var n=t;if(e.isString(t)&&null==(n=s[t]))throw new TypeError("No such group ["+t+"]");return n},this.getGroups=function(){var t=[];for(var e in s)t.push(s[e]);return t},this.removeGroup=function(e,n){e=this.getGroup(e),this.expandGroup(e,!0),e[n?"removeAll":"orphanAll"](),t.remove(e.getEl()),delete s[e.id],delete t._groups[e.id],t.fire("group:remove",{group:e})},this.removeAllGroups=function(t){for(var e in s)this.removeGroup(s[e],t)};var u=this.collapseConnection=function(e,n,i){var r,s=i.getEl(),a=t.getId(s),l=e.endpoints[n].elementId,u=e.endpoints[0===n?1:0].element;u[o]&&!u[o].shouldProxy()&&u[o].collapsed||(e.proxies=e.proxies||[],e.proxies[n]?r=e.proxies[n].ep:(r=t.addEndpoint(s,{endpoint:i.getEndpoint(e,n),anchor:i.getAnchor(e,n),parameters:{isProxyEndpoint:!0}}))._forceDeleteOnDetach=!0,e.proxies[n]={ep:r,originalEp:e.endpoints[n]},0===n?t.anchorManager.sourceChanged(l,a,e,s):(t.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,l,a,e),e.target=s,e.targetId=a),e.proxies[n].originalEp.detachFromConnection(e,null,!0),r.connections=[e],e.endpoints[n]=r,e.setVisible(!0))};this.collapseGroup=function(e){if(null!=(e=this.getGroup(e))&&!e.collapsed){var n=e.getEl();if(i(e,!1),e.shouldProxy()){var r=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];u(r,n,e)}};r(e.connections.source,0),r(e.connections.target,1)}e.collapsed=!0,t.removeClass(n,"jsplumb-group-expanded"),t.addClass(n,"jsplumb-group-collapsed"),t.revalidate(n),t.fire("group:collapse",{group:e})}};var c=this.expandConnection=function(e,n,i){if(null!=e.proxies&&null!=e.proxies[n]){var r=t.getId(i.getEl()),o=e.proxies[n].originalEp.element,s=e.proxies[n].originalEp.elementId;e.endpoints[n]=e.proxies[n].originalEp,0===n?t.anchorManager.sourceChanged(r,s,e,o):(t.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,r,s,e),e.target=o,e.targetId=s),e.proxies[n].ep.detachFromConnection(e,null,!0),e.proxies[n].originalEp.addConnection(e),delete e.proxies[n]}};this.expandGroup=function(e,n){if(null!=(e=this.getGroup(e))&&e.collapsed){var r=e.getEl();if(i(e,!0),e.shouldProxy()){var o=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];c(r,n,e)}};o(e.connections.source,0),o(e.connections.target,1)}e.collapsed=!1,t.addClass(r,"jsplumb-group-expanded"),t.removeClass(r,"jsplumb-group-collapsed"),t.revalidate(r),this.repaintGroup(e),n||t.fire("group:expand",{group:e})}},this.repaintGroup=function(e){for(var n=(e=this.getGroup(e)).getMembers(),i=0;i<n.length;i++)t.revalidate(n[i])},this.updateConnectionsForGroup=r,this.refreshAllGroups=function(){for(var e in s)r(s[e]),t.dragManager.updateOffsets(t.getId(s[e].getEl()))}},a=function(n,s){function a(t){return t.offsetParent}function l(t,e){var i=a(t),r=n.getSize(i),o=n.getSize(t),s=e[0],l=s+o[0],u=e[1],c=u+o[1];return l>0&&s<r[0]&&c>0&&u<r[1]}function u(t){var e=n.getId(t),i=n.getOffset(t);t.parentNode.removeChild(t),n.getContainer().appendChild(t),n.setPosition(t,i),delete t._jsPlumbGroup,h(t),n.dragManager.clearParent(t,e)}function c(t){l(t.el,t.pos)||(t.el._jsPlumbGroup.remove(t.el),x?n.remove(t.el):u(t.el))}function d(t){var e=n.getId(t);n.revalidate(t),n.dragManager.revalidateParent(t,e)}function h(t){t._katavorioDrag&&((x||$)&&t._katavorioDrag.off(i,c),x||$||!w||(t._katavorioDrag.off(r,d),t._katavorioDrag.setRevert(null)))}function f(t){t._katavorioDrag&&((x||$)&&t._katavorioDrag.on(i,c),b&&t._katavorioDrag.setConstrain(!0),y&&t._katavorioDrag.setUseGhostProxy(!0),x||$||!w||(t._katavorioDrag.on(r,d),t._katavorioDrag.setRevert(function(t,e){return!l(t,e)})))}var p=this,g=s.el;this.getEl=function(){return g},this.id=s.id||e.uuid(),g._isJsPlumbGroup=!0;var m=n.getSelector(g,"[jsplumb-group-content]"),v=m&&m.length>0?m[0]:g,y=!0===s.ghost,b=y||!0===s.constrain,w=!1!==s.revert,$=!0===s.orphan,x=!0===s.prune,C=!0===s.dropOverride,k=!1!==s.proxied,S=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,e){return s.anchor||"Continuous"},this.getEndpoint=function(t,e){return s.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==s.draggable){var E={stop:function(t){n.fire("groupDragStop",jsPlumb.extend(t,{group:p}))},scope:"_jsPlumbGroupDrag"};s.dragOptions&&t.jsPlumb.extend(E,s.dragOptions),n.draggable(s.el,E)}!1!==s.droppable&&n.droppable(s.el,{drop:function(t){var e=n.getGroupManager(),i=t.drag.el;if(!i._isJsPlumbGroup){var r=i._jsPlumbGroup;if(r!==p){var o=n.getOffset(i,!0),s=p.collapsed?n.getOffset(g,!0):n.getOffset(v,!0);if(null!=r){if(r.overrideDrop(i,p))return;r.remove(i,!0),e.updateConnectionsForGroup(r)}p.add(i,!0);var a=function(t,n){var i=0==n?1:0;t.each(function(t){t.setVisible(!1),t.endpoints[i].element._jsPlumbGroup===p?(t.endpoints[i].setVisible(!1),e.expandConnection(t,i,p)):(t.endpoints[n].setVisible(!1),e.collapseConnection(t,n,p))})};p.collapsed&&(a(n.select({source:i}),0),a(n.select({target:i}),1));var l=n.getId(i);n.dragManager.setParent(i,l,g,n.getId(g),o),n.setPosition(i,{left:o.left-s.left,top:o.top-s.top}),n.dragManager.revalidateParent(i,l,o),e.updateConnectionsForGroup(p),setTimeout(function(){n.fire("group:addMember",{group:p,el:i})},0)}}}});var D=function(t,e){for(var n=null==t.nodeType?t:[t],i=0;i<n.length;i++)e(n[i])};this.overrideDrop=function(t,e){return C&&(w||x||$)},this.add=function(t,e){D(t,function(t){t._jsPlumbGroup=p,S.push(t),n.isAlreadyDraggable(t)&&f(t),t.parentNode!=v&&v.appendChild(t),e||n.fire("group:addMember",{group:p,el:t})}),n.getGroupManager().updateConnectionsForGroup(p)},this.remove=function(t,i,r,o){D(t,function(t){if(delete t._jsPlumbGroup,e.removeWithFunction(S,function(e){return e===t}),i)try{p.getEl().removeChild(t)}catch(t){jsPlumbUtil.log("Could not remove element from Group "+t)}h(t),r||n.fire("group:removeMember",{group:p,el:t})}),o||n.getGroupManager().updateConnectionsForGroup(p)},this.removeAll=function(t,e){for(var i=0,r=S.length;i<r;i++)p.remove(S[0],t,e,!0);S.length=0,n.getGroupManager().updateConnectionsForGroup(p)},this.orphanAll=function(){for(var t=0;t<S.length;t++)u(S[t]);S.length=0},this.getMembers=function(){return S},g[o]=this,n.bind("elementDraggable",function(t){t.el._jsPlumbGroup==this&&f(t.el)}.bind(this)),this.shouldProxy=function(){return k},n.getGroupManager().addGroup(this)};n.prototype.addGroup=function(t){var e=this;if(e._groups=e._groups||{},null!=e._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[o])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");var n=new a(e,t);return e._groups[n.id]=n,n},n.prototype.addToGroup=function(t,e,n){this.getGroupManager().addToGroup(t,e,n)},n.prototype.removeFromGroup=function(t,e,n){this.getGroupManager().removeFromGroup(t,e,n)},n.prototype.removeGroup=function(t,e){this.getGroupManager().removeGroup(t,e)},n.prototype.removeAllGroups=function(t){this.getGroupManager().removeAllGroups(t)},n.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},n.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},n.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},n.prototype.toggleGroup=function(t){null!=(t=this.getGroupManager().getGroup(t))&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},n.prototype.getGroupManager=function(){var t=this._groupManager;return null==t&&(t=this._groupManager=new s(this)),t},n.prototype.removeGroupManager=function(){delete this._groupManager},n.prototype.getGroupFor=function(t){if(t=this.getElement(t))return t[o]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=function(t){this.type="Flowchart",(t=t||{}).stub=null==t.stub?30:t.stub;var n,i,r=e.Connectors.AbstractConnector.apply(this,arguments),o=null==t.midpoint?.5:t.midpoint,s=!0===t.alwaysRespectStubs,a=null,l=null,u=null!=t.cornerRadius?t.cornerRadius:0,c=(t.loopbackRadius,function(t){return t<0?-1:0===t?0:1}),d=function(t,e,n,i){if(a!=e||l!=n){var r=null==a?i.sx:a,o=null==l?i.sy:l,s=r==e?"v":"h",u=c(e-r),d=c(n-o);a=e,l=n,t.push([r,o,e,n,s,u,d])}},h=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},f=function(t){var e=[];return e.push.apply(e,t),e},p=function(t,e,n){for(var i,o=null,s=0;s<e.length-1;s++){if(o=o||f(e[s]),i=f(e[s+1]),u>0&&o[4]!=i[4]){var a=Math.min(u,h(o),h(i));o[2]-=o[5]*a,o[3]-=o[6]*a,i[0]+=i[5]*a,i[1]+=i[6]*a;var l=o[6]==i[5]&&1==i[5]||o[6]==i[5]&&0===i[5]&&o[5]!=i[6]||o[6]==i[5]&&-1==i[5],c=(i[1]>o[3]?1:-1)==(i[0]>o[2]?1:-1),d=c&&l||!c&&!l?i[0]:o[2],p=c&&l||!c&&!l?o[3]:i[1];r.addSegment(t,"Straight",{x1:o[0],y1:o[1],x2:o[2],y2:o[3]}),r.addSegment(t,"Arc",{r:a,x1:o[2],y1:o[3],x2:i[0],y2:i[1],cx:d,cy:p,ac:l})}else{var g=o[2]==o[0]?0:o[2]>o[0]?n.lw/2:-n.lw/2,m=o[3]==o[1]?0:o[3]>o[1]?n.lw/2:-n.lw/2;r.addSegment(t,"Straight",{x1:o[0]-g,y1:o[1]-m,x2:o[2]+g,y2:o[3]+m})}o=i}null!=i&&r.addSegment(t,"Straight",{x1:i[0],y1:i[1],x2:i[2],y2:i[3]})};this._compute=function(t,e){n=[],a=null,l=null,i=null;var u=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},c={perpendicular:u,orthogonal:u,opposite:function(e){var n=t,i="x"==e?0:1,r={x:function(){return 1==n.so[i]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1==n.so[i]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1==n.so[i]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1==n.so[i]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}};return!s&&r[e]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[e]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}}[t.anchorOrientation](t.sourceAxis),h="x"==t.sourceAxis?0:1,f="x"==t.sourceAxis?1:0,g=c[h],m=c[f],v=c[h+2],y=c[f+2];d(n,c[0],c[1],t);var b=t.startStubX+(t.endStubX-t.startStubX)*o,w=t.startStubY+(t.endStubY-t.startStubY)*o,$={x:[0,1],y:[1,0]},x={perpendicular:function(e){var n=t,i={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},r={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},o={x:[[b,n.startStubY],[b,n.endStubY]],y:[[n.startStubX,w],[n.endStubX,w]]},s={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},a={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},l={x:[[n.startStubX,w],[n.endStubX,w],[n.endStubX,n.endStubY]],y:[[b,n.startStubY],[b,n.endStubY],[n.endStubX,n.endStubY]]},u={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},c=$[e][0],d=$[e][1],h=n.so[c]+1,f=n.to[d]+1,p=-1==n.to[d]&&u[e][1]<u[e][0]||1==n.to[d]&&u[e][1]>u[e][0],g=r[e][h][0],m=r[e][h][1],v=i[e][h][f];return n.segment==v[3]||n.segment==v[2]&&p?o[e]:n.segment==v[2]&&m<g?s[e]:n.segment==v[2]&&m>=g||n.segment==v[1]&&!p?l[e]:n.segment==v[0]||n.segment==v[1]&&p?a[e]:void 0},orthogonal:function(e,n,i,r,o){var s=t,a={x:-1==s.so[0]?Math.min(n,r):Math.max(n,r),y:-1==s.so[1]?Math.min(n,r):Math.max(n,r)}[e];return{x:[[a,i],[a,o],[r,o]],y:[[i,a],[o,a],[o,r]]}[e]},opposite:function(n,i,o,s){var a=t,l={x:"y",y:"x"}[n],u={x:"height",y:"width"}[n],c=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(e.sourceEndpoint.elementId==e.targetEndpoint.elementId){var d=o+(1-e.sourceEndpoint.anchor[l])*e.sourceInfo[u]+r.maxStub;return{x:[[i,d],[s,d]],y:[[d,i],[d,s]]}[n]}return!c||1==a.so[h]&&i>s||-1==a.so[h]&&i<s?{x:[[i,w],[s,w]],y:[[b,i],[b,s]]}[n]:1==a.so[h]&&i<s||-1==a.so[h]&&i>s?{x:[[b,a.sy],[b,a.ty]],y:[[a.sx,w],[a.tx,w]]}[n]:void 0}}[t.anchorOrientation](t.sourceAxis,g,m,v,y);if(x)for(var C=0;C<x.length;C++)d(n,x[C][0],x[C][1],t);d(n,c[2],c[3],t),d(n,t.tx,t.ty,t),p(this,n,t)}};t.jsPlumbUtil.extend(n,e.Connectors.AbstractConnector),e.registerConnectorType(n,"Flowchart")}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil;e.Connectors.AbstractBezierConnector=function(t){var n,i=!1!==(t=t||{}).showLoopback,r=(t.curviness,t.margin||5),o=(t.proximityLimit,t.orientation&&"clockwise"===t.orientation),s=t.loopbackRadius||25,a=!1;return this.overrideSetEditable=function(){return!a},this._compute=function(t,e){var l=e.sourcePos,u=e.targetPos,c=Math.abs(l[0]-u[0]),d=Math.abs(l[1]-u[1]);if(i&&e.sourceEndpoint.elementId===e.targetEndpoint.elementId){a=!0;var h=e.sourcePos[0],f=e.sourcePos[1]-r,p=h,g=f-s,m=p-s,v=g-s;c=2*s,d=2*s,t.points[0]=m,t.points[1]=v,t.points[2]=c,t.points[3]=d,n.addSegment(this,"Arc",{loopback:!0,x1:h-m+4,y1:f-v,startAngle:0,endAngle:2*Math.PI,r:s,ac:!o,x2:h-m-4,y2:f-v,cx:p-m,cy:g-v})}else a=!1,this._computeBezier(t,e,l,u,c,d)},n=e.Connectors.AbstractConnector.apply(this,arguments)},n.extend(e.Connectors.AbstractBezierConnector,e.Connectors.AbstractConnector);var i=function(t){t=t||{},this.type="Bezier";var n=e.Connectors.AbstractBezierConnector.apply(this,arguments),i=t.curviness||150;this.getCurviness=function(){return i},this._findControlPoint=function(t,e,n,r,o,s,a){var l=[];return s[0]!=a[0]||s[1]==a[1]?(0===a[0]?l.push(n[0]<e[0]?t[0]+10:t[0]-10):l.push(t[0]+i*a[0]),0===a[1]?l.push(n[1]<e[1]?t[1]+10:t[1]-10):l.push(t[1]+i*s[1])):(0===s[0]?l.push(e[0]<n[0]?t[0]+10:t[0]-10):l.push(t[0]-i*s[0]),0===s[1]?l.push(e[1]<n[1]?t[1]+10:t[1]-10):l.push(t[1]+i*a[1])),l},this._computeBezier=function(t,e,i,r,o,s){var a,l,u=this.getGeometry(),c=i[0]<r[0]?o:0,d=i[1]<r[1]?s:0,h=i[0]<r[0]?0:o,f=i[1]<r[1]?0:s;(this.hasBeenEdited()||this.isEditing())&&null!=u&&null!=u.controlPoints&&null!=u.controlPoints[0]&&null!=u.controlPoints[1]?(a=u.controlPoints[0],l=u.controlPoints[1]):(a=this._findControlPoint([c,d],i,r,e.sourceEndpoint,e.targetEndpoint,t.so,t.to),l=this._findControlPoint([h,f],r,i,e.targetEndpoint,e.sourceEndpoint,t.to,t.so)),n.setGeometry({controlPoints:[a,l]},!0),n.addSegment(this,"Bezier",{x1:c,y1:d,x2:h,y2:f,cp1x:a[0],cp1y:a[1],cp2x:l[0],cp2y:l[1]})}};n.extend(i,e.Connectors.AbstractBezierConnector),e.registerConnectorType(i,"Bezier")}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=function(t,e,n,i){return t<=n&&i<=e?1:t<=n&&e<=i?2:n<=t&&i>=e?3:4},i=function(t,e,n,i,r,o,s,a,l){return a<=l?[t,e]:1===n?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&r[2]<=0?[t,e+(i[3]<.5?-1*s:s)]:[t+-1*o,e+-1*s]:2===n?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&r[2]<=0?[t,e+(i[3]<.5?-1*s:s)]:[t+o,e+-1*s]:3===n?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&r[2]>=1?[t,e+(i[3]<.5?-1*s:s)]:[t+-1*o,e+-1*s]:4===n?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&r[2]>=1?[t,e+(i[3]<.5?-1*s:s)]:[t+o,e+-1*s]:void 0},r=function(t){t=t||{},this.type="StateMachine";var r,o=e.Connectors.AbstractBezierConnector.apply(this,arguments),s=t.curviness||10,a=t.margin||5,l=t.proximityLimit||80;t.orientation&&t.orientation;this._computeBezier=function(t,e,u,c,d,h){var f=e.sourcePos[0]<e.targetPos[0]?0:d,p=e.sourcePos[1]<e.targetPos[1]?0:h,g=e.sourcePos[0]<e.targetPos[0]?d:0,m=e.sourcePos[1]<e.targetPos[1]?h:0;0===e.sourcePos[2]&&(f-=a),1===e.sourcePos[2]&&(f+=a),0===e.sourcePos[3]&&(p-=a),1===e.sourcePos[3]&&(p+=a),0===e.targetPos[2]&&(g-=a),1===e.targetPos[2]&&(g+=a),0===e.targetPos[3]&&(m-=a),1===e.targetPos[3]&&(m+=a);var v,y,b,w,$=(f+g)/2,x=(p+m)/2,C=n(f,p,g,m),k=Math.sqrt(Math.pow(g-f,2)+Math.pow(m-p,2)),S=o.getGeometry();(this.hasBeenEdited()||this.isEditing())&&null!=S?(v=S.controlPoints[0][0],b=S.controlPoints[0][1],y=S.controlPoints[1][0],w=S.controlPoints[1][1]):(v=(r=i($,x,C,e.sourcePos,e.targetPos,s,s,k,l))[0],y=r[0],b=r[1],w=r[1],o.setGeometry({controlPoints:[r,r]},!0)),o.addSegment(this,"Bezier",{x1:g,y1:m,x2:f,y2:p,cp1x:v,cp1y:b,cp2x:y,cp2y:w})}};t.jsPlumbUtil.extend(r,e.Connectors.AbstractBezierConnector),e.registerConnectorType(r,"StateMachine")}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},o=function(t,e){for(var n in e)t.setAttribute(n,""+e[n])},s=function(t,e){return e=e||{},e.version="1.1",e.xmlns=r.xhtml,jsPlumb.createElementNS(r.svg,t,null,null,e)},a=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},l=function(t){for(var e=t.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])},u=function(t,e,n,i,r){var o="jsplumb_gradient_"+r._jsPlumb.instance.idstamp();l(t);var a;a=n.gradient.offset?s("radialGradient",{id:o}):s("linearGradient",{id:o,gradientUnits:"userSpaceOnUse"});var u=s("defs");t.appendChild(u),u.appendChild(a);for(var c=0;c<n.gradient.stops.length;c++){var d=1==r.segment||2==r.segment?c:n.gradient.stops.length-1-c,h=n.gradient.stops[d][1],f=s("stop",{offset:Math.floor(100*n.gradient.stops[c][0])+"%","stop-color":h});a.appendChild(f)}var p=n.strokeStyle?"stroke":"fill";e.setAttribute(p,"url(#"+o+")")},c=function(t,e,n,r,o){if(e.setAttribute("fill",n.fillStyle?n.fillStyle:"none"),e.setAttribute("stroke",n.strokeStyle?n.strokeStyle:"none"),n.gradient?u(t,e,n,0,o):(l(t),e.setAttribute("style","")),n.lineWidth&&e.setAttribute("stroke-width",n.lineWidth),n.dashstyle&&n.lineWidth&&!n["stroke-dasharray"]){var s=-1==n.dashstyle.indexOf(",")?" ":",",a="";n.dashstyle.split(s).forEach(function(t){a+=Math.floor(t*n.lineWidth)+s}),e.setAttribute("stroke-dasharray",a)}else n["stroke-dasharray"]&&e.setAttribute("stroke-dasharray",n["stroke-dasharray"]);for(var c in i)n[c]&&e.setAttribute(i[c],n[c])},d=function(t,e,n){t.childNodes.length>n?t.insertBefore(e,t.childNodes[n]):t.appendChild(e)};n.svg={node:s,attr:o,pos:a};var h=function(t){var i=t.pointerEventsSpec||"all",r={};e.jsPlumbUIComponent.apply(this,t.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var l=t.cssClass+" "+(t.originalArgs[0].cssClass||""),u={style:"",width:0,height:0,"pointer-events":i,position:"absolute"};this.svg=s("svg",u),t.useDivWrapper?(this.canvas=jsPlumb.createElement("div",{position:"absolute"}),n.sizeElement(this.canvas,0,0,1,1),this.canvas.className=l):(o(this.svg,{class:l}),this.canvas=this.svg),t._jsPlumb.appendElement(this.canvas,t.originalArgs[0].parent),t.useDivWrapper&&this.canvas.appendChild(this.svg);var c=[this.canvas];return this.getDisplayElements=function(){return c},this.appendDisplayElement=function(t){c.push(t)},this.paint=function(e,i,s){if(null!=e){var l,u=[this.x,this.y],c=[this.w,this.h];null!=s&&(s.xmin<0&&(u[0]+=s.xmin),s.ymin<0&&(u[1]+=s.ymin),c[0]=s.xmax+(s.xmin<0?-s.xmin:0),c[1]=s.ymax+(s.ymin<0?-s.ymin:0)),t.useDivWrapper?(n.sizeElement(this.canvas,u[0],u[1],c[0],c[1]),u[0]=0,u[1]=0,l=a([0,0])):l=a([u[0],u[1]]),r.paint.apply(this,arguments),o(this.svg,{style:l,width:c[0]||0,height:c[1]||0})}},{renderer:r}};n.extend(h,e.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var e=t.getContainer();this.canvas&&null==this.canvas.parentNode&&e.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&e.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),e.ConnectorRenderers.svg=function(t){var n=this,i=h.apply(this,[{cssClass:t._jsPlumb.connectorClass+(this.isEditable()?" "+t._jsPlumb.editableConnectorClass:""),originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]),r=this.setEditable;this.setEditable=function(t){var e=r.apply(this,[t]);jsPlumb[e?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.editableConnectorClass)},i.renderer.paint=function(i,r,a){var l=n.getSegments(),u="",h=[0,0];if(a.xmin<0&&(h[0]=-a.xmin),a.ymin<0&&(h[1]=-a.ymin),l.length>0){for(var f=0;f<l.length;f++)u+=e.Segments.svg.SegmentRenderer.getPath(l[f]),u+=" ";var p={d:u,transform:"translate("+h[0]+","+h[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},g=null;n.x,n.y,n.w,n.h;if(i.outlineColor){var m=i.outlineWidth||1,v=i.lineWidth+2*m;delete(g=e.extend({},i)).gradient,g.strokeStyle=i.outlineColor,g.lineWidth=v,null==n.bgPath?(n.bgPath=s("path",p),e.addClass(n.bgPath,e.connectorOutlineClass),d(n.svg,n.bgPath,0)):o(n.bgPath,p),c(n.svg,n.bgPath,g,0,n)}null==n.path?(n.path=s("path",p),d(n.svg,n.path,i.outlineColor?1:0)):o(n.path,p),c(n.svg,n.path,i,0,n)}}},n.extend(e.ConnectorRenderers.svg,h),e.Segments.svg={SegmentRenderer:{getPath:function(t){return{Straight:function(){var e=t.getCoordinates();return"M "+e.x1+" "+e.y1+" L "+e.x2+" "+e.y2},Bezier:function(){var e=t.params;return"M "+e.x1+" "+e.y1+" C "+e.cp1x+" "+e.cp1y+" "+e.cp2x+" "+e.cp2y+" "+e.x2+" "+e.y2},Arc:function(){var e=t.params,n=t.sweep>Math.PI?1:0,i=t.anticlockwise?0:1;return"M"+t.x1+" "+t.y1+" A "+t.radius+" "+e.r+" 0 "+n+","+i+" "+t.x2+" "+t.y2}}[t.type]()}}};var f=e.SvgEndpoint=function(t){h.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]).renderer.paint=function(t){var n=e.extend({},t);n.outlineColor&&(n.strokeWidth=n.outlineWidth,n.strokeStyle=n.outlineColor),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),c(this.svg,this.node,n,(this.x,this.y,this.w,this.h),this),a(this.node,(this.x,this.y))}.bind(this)};n.extend(f,h),e.Endpoints.svg.Dot=function(){e.Endpoints.Dot.apply(this,arguments),f.apply(this,arguments),this.makeNode=function(t){return s("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){o(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},n.extend(e.Endpoints.svg.Dot,[e.Endpoints.Dot,f]),e.Endpoints.svg.Rectangle=function(){e.Endpoints.Rectangle.apply(this,arguments),f.apply(this,arguments),this.makeNode=function(t){return s("rect",{width:this.w,height:this.h})},this.updateNode=function(t){o(t,{width:this.w,height:this.h})}},n.extend(e.Endpoints.svg.Rectangle,[e.Endpoints.Rectangle,f]),e.Endpoints.svg.Image=e.Endpoints.Image,e.Endpoints.svg.Blank=e.Endpoints.Blank,e.Overlays.svg.Label=e.Overlays.Label,e.Overlays.svg.Custom=e.Overlays.Custom;var p=function(t,n){t.apply(this,n),e.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1;this.path=null,this.paint=function(t,e){if(t.component.svg&&e){null==this.path&&(this.path=s("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var r=n&&1==n.length?n[0].cssClass||"":"",a=[0,0];e.xmin<0&&(a[0]=-e.xmin),e.ymin<0&&(a[1]=-e.ymin),o(this.path,{d:i(t.d),class:r,stroke:t.strokeStyle?t.strokeStyle:null,fill:t.fillStyle?t.fillStyle:null,transform:"translate("+a[0]+","+a[1]+")"})}};var i=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};n.extend(p,[e.jsPlumbUIComponent,e.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t){this.path&&this.canvas&&null==this.path.parentNode&&this.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),e.Overlays.svg.Arrow=function(){p.apply(this,[e.Overlays.Arrow,arguments])},n.extend(e.Overlays.svg.Arrow,[e.Overlays.Arrow,p]),e.Overlays.svg.PlainArrow=function(){p.apply(this,[e.Overlays.PlainArrow,arguments])},n.extend(e.Overlays.svg.PlainArrow,[e.Overlays.PlainArrow,p]),e.Overlays.svg.Diamond=function(){p.apply(this,[e.Overlays.Diamond,arguments])},n.extend(e.Overlays.svg.Diamond,[e.Overlays.Diamond,p]),e.Overlays.svg.GuideLines=function(){var t,n,i=null,r=this;e.Overlays.GuideLines.apply(this,arguments),this.paint=function(e,l){null==i&&(i=s("path"),e.connector.svg.appendChild(i),r.attachListeners(i,e.connector),r.attachListeners(i,r),t=s("path"),e.connector.svg.appendChild(t),r.attachListeners(t,e.connector),r.attachListeners(t,r),n=s("path"),e.connector.svg.appendChild(n),r.attachListeners(n,e.connector),r.attachListeners(n,r));var u=[0,0];l.xmin<0&&(u[0]=-l.xmin),l.ymin<0&&(u[1]=-l.ymin),o(i,{d:a(e.head,e.tail),stroke:"red",fill:null,transform:"translate("+u[0]+","+u[1]+")"}),o(t,{d:a(e.tailLine[0],e.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+u[0]+","+u[1]+")"}),o(n,{d:a(e.headLine[0],e.headLine[1]),stroke:"green",fill:null,transform:"translate("+u[0]+","+u[1]+")"})};var a=function(t,e){return"M "+t.x+","+t.y+" L"+e.x+","+e.y}},n.extend(e.Overlays.svg.GuideLines,e.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=t.Katavorio,r=t.Biltong,o=function(t,e){var n="_katavorio_"+(e=e||"main"),o=t[n],s=t.getEventManager();return o||(o=new i({bind:s.on,unbind:s.off,getSize:jsPlumb.getSize,getPosition:function(e,n){var i=t.getOffset(e,n,e._katavorioDrag?e.offsetParent:null);return[i.left,i.top]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:jsPlumb.addClass,removeClass:jsPlumb.removeClass,intersects:r.intersects,indexOf:function(t,e){return t.indexOf(e)},css:{noSelect:t.dragSelectClass,droppable:"jsplumb-droppable",draggable:"jsplumb-draggable",drag:"jsplumb-drag",selected:"jsplumb-drag-selected",active:"jsplumb-drag-active",hover:"jsplumb-drag-hover",ghostProxy:"jsplumb-ghost-proxy"}}),t[n]=o,t.bind("zoom",o.setZoom)),o},s=function(t,e){var i=function(i){if(null!=e[i]){if(n.isString(e[i])){var r=e[i].match(/-=/)?-1:1,o=e[i].substring(2);return t[i]+r*o}return e[i]}return t[i]};return[i("left"),i("top")]};e.extend(t.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(t){return null==t?null:(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t,"string"==typeof t?document.getElementById(t):t)},removeElement:function(t){o(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,n){n=n||{};var i=this.getOffset(t),r=s(i,e),o=r[0]-i.left,a=r[1]-i.top,l=n.duration||250,u=l/15,c=15/l*o,d=15/l*a,h=0,f=setInterval(function(){jsPlumb.setPosition(t,{left:i.left+c*(h+1),top:i.top+d*(h+1)}),null!=n.step&&n.step(h,Math.ceil(u)),++h>=u&&(window.clearInterval(f),null!=n.complete&&n.complete())},15)},destroyDraggable:function(t,e){o(this,e).destroyDraggable(t)},destroyDroppable:function(t,e){o(this,e).destroyDroppable(t)},initDraggable:function(t,e,n){o(this,n).draggable(t,e)},initDroppable:function(t,e,n){o(this,n).droppable(t,e)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,e){return!0},isDropSupported:function(t,e){return!0},isElementDraggable:function(t){return(t=jsPlumb.getElement(t))._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,e){var n=t[0].el;if(null==n.offsetParent)return null;var i=t[0].finalPos||t[0].pos,r={left:i[0],top:i[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var o=this.getOffset(n.offsetParent);r.left+=o.left,r.top+=o.top}return r},setDragFilter:function(t,e,n){t._katavorioDrag&&t._katavorioDrag.setFilter(e,n)},setElementDraggable:function(t,e){(t=jsPlumb.getElement(t))._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,e){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,e)},setDropScope:function(t,e){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,e)},addToPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),i=o(this);jsPlumb.each(t,function(t){(t=[jsPlumb.getElement(t)]).push.apply(t,n),i.addToPosse.apply(i,t)})},setPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),i=o(this);jsPlumb.each(t,function(t){(t=[jsPlumb.getElement(t)]).push.apply(t,n),i.setPosse.apply(i,t)})},removeFromPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),i=o(this);jsPlumb.each(t,function(t){(t=[jsPlumb.getElement(t)]).push.apply(t,n),i.removeFromPosse.apply(i,t)})},removeFromAllPosses:function(t){var e=o(this);jsPlumb.each(t,function(t){e.removeFromAllPosses(jsPlumb.getElement(t))})},setPosseState:function(t,e,n){var i=o(this);jsPlumb.each(t,function(t){i.setPosseState(jsPlumb.getElement(t),e,n)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){o(this).select(t)},removeFromDragSelection:function(t){o(this).deselect(t)},clearDragSelection:function(){o(this).deselectAll()},trigger:function(t,e,n,i){this.getEventManager().trigger(t,e,n,i)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()}});!function(t){var e=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?t():setTimeout(e,9)};e()}(e.init)}.call("undefined"!=typeof window?window:this),function(){"use strict";angular.module("gantt",["gantt.templates","angularMoment"]).directive("gantt",["Gantt","ganttEnableNgAnimate","$timeout","$templateCache",function(t,e,n,i){return{restrict:"A",transclude:!0,templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"template/gantt.tmpl.html":e.templateUrl,void 0!==e.template&&i.put(n,e.template),n},scope:{sortMode:"=?",filterTask:"=?",filterTaskComparator:"=?",filterRow:"=?",filterRowComparator:"=?",viewScale:"=?",columnWidth:"=?",expandToFit:"=?",shrinkToFit:"=?",showSide:"=?",allowSideResizing:"=?",fromDate:"=?",toDate:"=?",currentDateValue:"=?",currentDate:"=?",daily:"=?",autoExpand:"=?",taskOutOfRange:"=?",taskContent:"=?",rowContent:"=?",maxHeight:"=?",sideWidth:"=?",headers:"=?",headersFormats:"=?",headersScales:"=?",timeFrames:"=?",dateFrames:"=?",timeFramesWorkingMode:"=?",timeFramesNonWorkingMode:"=?",timespans:"=?",columnMagnet:"=?",shiftColumnMagnet:"=?",timeFramesMagnet:"=?",data:"=?",api:"=?",options:"=?"},controller:["$scope","$element",function(n,i){for(var r in n.options)n[r]=n.options[r];e(i,!1),n.gantt=new t(n,i),this.gantt=n.gantt}],link:function(t,e){t.gantt.api.directives.raise.new("gantt",t,e),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("gantt",t,e)}),n(function(){t.gantt.initialized()})}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttApi",["$q","$rootScope","ganttUtils",function(t,e,n){function i(t,n,i,r){return e.$on(t,function(){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r||i.api,t)})}var r=function(t){this.gantt=t,this.listeners=[],this.apiId=n.newId()};return r.prototype.suppressEvents=function(t,e){var n=this,r=[];(angular.isArray(t)?t:[t]).forEach(function(t){r=n.listeners.filter(function(e){return t===e.handler})}),r.forEach(function(t){t.dereg()}),e(),r.forEach(function(t){t.dereg=i(t.eventId,t.handler,n.gantt,t._this)})},r.prototype.registerEvent=function(t,n){var r=this;r[t]||(r[t]={});var o=r[t];o.on||(o.on={},o.raise={});var s="event:gantt:"+this.apiId+":"+t+":"+n;o.raise[n]=function(){e.$emit.apply(e,[s].concat(Array.prototype.slice.call(arguments)))},o.on[n]=function(t,e,n){var o={handler:e,dereg:i(s,e,r.gantt,n),eventId:s,scope:t,_this:n};r.listeners.push(o);var a=function(){o.dereg();var t=r.listeners.indexOf(o);r.listeners.splice(t,1)};return t.$on("$destroy",function(){a()}),a}},r.prototype.registerEventsFromObject=function(t){var e=this,n=[];angular.forEach(t,function(t,e){var i={name:e,events:[]};angular.forEach(t,function(t,e){i.events.push(e)}),n.push(i)}),n.forEach(function(t){t.events.forEach(function(n){e.registerEvent(t.name,n)})})},r.prototype.registerMethod=function(t,e,i,r){this[t]||(this[t]={}),this[t][e]=n.createBoundedWrapper(r||this.gantt,i)},r.prototype.registerMethodsFromObject=function(t,e){var n=this,i=[];angular.forEach(t,function(t,e){var n={name:e,methods:[]};angular.forEach(t,function(t,e){n.methods.push({name:e,fn:t})}),i.push(n)}),i.forEach(function(t){t.methods.forEach(function(i){n.registerMethod(t.name,i.name,i.fn,e)})})},r}])}(),function(){"use strict";angular.module("gantt").factory("GanttOptions",[function(){return function(t,e){this.defaultValues=e,this.values=t,this.defaultValue=function(t){var e=this.defaultValues[t];return angular.isFunction(e)&&(e=e()),e},this.sanitize=function(t,e){if(!e){var n=this.defaultValue(t);if(void 0!==n)return void 0!==e&&"boolean"==typeof n?e:n}return e},this.value=function(t){return this.sanitize(t,this.values[t])},this.set=function(t,e){this.values[t]=e},this.initialize=function(){for(var t in this.values){var e=this.values[t];this.values.hasOwnProperty(t)&&(this.values[t]=this.value(t,e))}return this.values}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttCalendar",["$filter","moment",function(t,e){var n=function(t){void 0===t&&(t={}),this.start=t.start,this.end=t.end,this.working=t.working,this.magnet=void 0===t.magnet||t.magnet,this.default=t.default,this.color=t.color,this.classes=t.classes,this.internal=t.internal};n.prototype.updateView=function(){if(this.$element){var t={};void 0!==this.left?t.left=this.left+"px":t.left="",void 0!==this.width?t.width=this.width+"px":t.width="",void 0!==this.color?t["background-color"]=this.color:t["background-color"]="",this.$element.css(t);var e=["gantt-timeframe"+(this.working?"":"-non")+"-working"];this.classes&&(e=e.concat(this.classes));for(var n=0,i=e.length;n<i;n++)this.$element.toggleClass(e[n],!0)}},n.prototype.getDuration=function(){if(void 0!==this.end&&void 0!==this.start)return this.end.diff(this.start,"milliseconds")},n.prototype.clone=function(){return new n(this)};var i=function(t){this.func=t};i.prototype.getTimeFrames=function(t){var e=this.func(t);return e instanceof Array||(e=[e]),e},i.prototype.clone=function(){return new i(this.func)};var r=function(t){this.evaluator=t.evaluator,t.date?(this.start=e(t.date).startOf("day"),this.end=e(t.date).endOf("day")):(this.start=t.start,this.end=t.end),t.targets instanceof Array?this.targets=t.targets:this.targets=[t.targets],this.default=t.default};r.prototype.dateMatch=function(t){return this.evaluator?this.evaluator(t):!(!this.start||!this.end)&&(t>=this.start&&t<=this.end)},r.prototype.clone=function(){return new r(this)};var o=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}};o.prototype.clear=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}},o.prototype.registerTimeFrames=function(t){angular.forEach(t,function(t,e){this.timeFrames[e]=new n(t)},this)},o.prototype.removeTimeFrames=function(t){angular.forEach(t,function(t){delete this.timeFrames[t]},this)},o.prototype.clearTimeFrames=function(){this.timeFrames={}},o.prototype.registerTimeFrameMappings=function(t){angular.forEach(t,function(t,e){this.timeFrameMappings[e]=new i(t)},this)},o.prototype.removeTimeFrameMappings=function(t){angular.forEach(t,function(t){delete this.timeFrameMappings[t]},this)},o.prototype.clearTimeFrameMappings=function(){this.timeFrameMappings={}},o.prototype.registerDateFrames=function(t){angular.forEach(t,function(t,e){this.dateFrames[e]=new r(t)},this)},o.prototype.removeDateFrames=function(t){angular.forEach(t,function(t){delete this.dateFrames[t]},this)},o.prototype.clearDateFrames=function(){this.dateFrames={}};var s=function(t,e){var n=[];return angular.forEach(t,function(t){t.dateMatch(e)&&n.push(t)}),0===n.length&&angular.forEach(t,function(t){t.default&&n.push(t)}),n};return o.prototype.getTimeFrames=function(t){for(var n=[],i=s(this.dateFrames,t),r=0;r<i.length;r++)if(void 0!==i[r])for(var o=i[r].targets,a=0;a<o.length;a++){var l=this.timeFrameMappings[o[a]];if(void 0!==l)n.push(l.getTimeFrames());else{var u=this.timeFrames[o[a]];void 0!==u&&n.push(u)}}var c=t.year(),d=t.month(),h=t.date(),f=[];for(0===n.length&&angular.forEach(this.timeFrames,function(t){t.default&&n.push(t)}),r=0;r<n.length;r++){var p=n[r].clone();void 0!==p.start&&(p.start.year(c),p.start.month(d),p.start.date(h)),void 0!==p.end&&(p.end.year(c),p.end.month(d),p.end.date(h),e(p.end).startOf("day")===p.end&&p.end.add(1,"day")),f.push(p)}return f},o.prototype.solve=function(i,r,o){for(var s,a,l,u,c=0;c<i.length;c++){var d=i[c];(void 0===l||l>d.start)&&(l=d.start),(void 0===u||u<d.end)&&(u=d.end),void 0===s&&d.color&&(s=d.color),void 0!==d.classes&&(void 0===a&&(a=[]),a=a.concat(d.classes))}void 0===r&&(r=l),void 0===o&&(o=u);var h=[new n({start:r,end:o,internal:!0})];for(i=t("filter")(i,function(t){return(void 0===t.start||t.start<o)&&(void 0===t.end||t.end>r)}),c=0;c<i.length;c++){var f=i[c];f.start||(f.start=r),f.end||(f.end=o)}var p,g=t("orderBy")(i,function(t){return-t.getDuration()});for(c=0;c<g.length;c++){var m=g[c],v=h.slice();p=0;for(var y=!1,b=!1,w=0;w<h.length;w++){var $=h[w];if(!b){if(m.end||m.start)if(m.end>$.start&&m.start<$.end){var x=$.clone();$.end=e(m.start),x.start=e(m.end),v.splice(p+1,0,m.clone(),x),b=!0,y=!1}else!y&&m.start<$.end?($.end=e(m.start),v.splice(p+1,0,m.clone()),y=!0):y&&m.end>$.start&&($.start=e(m.end),y=!1,b=!0);else v.splice(p,0,m),b=!0,y=!1;p++}}h=v}return h=t("filter")(h,function(t){return!t.internal&&(void 0===t.start||t.start<o)&&(void 0===t.end||t.end>r)})},o}])}(),function(){"use strict";angular.module("gantt").factory("GanttCurrentDateManager",["moment",function(t){var e=function(e){var n=this;this.gantt=e,this.date=void 0,this.position=void 0,this.currentDateColumn=void 0,this.gantt.$scope.simplifyMoment=function(e){return t.isMoment(e)?e.unix():e},this.gantt.$scope.$watchGroup(["currentDate","simplifyMoment(currentDateValue)"],function(t,e){t!==e&&n.setCurrentDate(n.gantt.options.value("currentDateValue"))})};return e.prototype.setCurrentDate=function(t){this.date=t;var e,n=this.currentDateColumn;void 0!==this.date&&"column"===this.gantt.options.value("currentDate")&&(e=this.gantt.columnsManager.getColumnByDate(this.date,!0)),this.currentDateColumn=e,n!==e&&(void 0!==n&&(n.currentDate=!1,n.updateView()),void 0!==e&&(e.currentDate=!0,e.updateView())),this.position=this.gantt.getPositionByDate(this.date,!0)},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumn",["moment",function(t){var e=function(t,e,n,i,r,o,s){this.date=t,this.endDate=e,this.left=n,this.width=i,this.calendar=r,this.duration=this.endDate.diff(this.date,"milliseconds"),this.timeFramesWorkingMode=o,this.timeFramesNonWorkingMode=s,this.timeFrames=[],this.currentDate=!1,this.visibleTimeFrames=[],this.daysTimeFrames={},this.cropped=!1,this.originalSize={left:this.left,width:this.width},this.updateTimeFrames()},n=function(t){return t.year()+"-"+t.month()+"-"+t.date()};return e.prototype.updateView=function(){if(this.$element){this.currentDate?this.$element.addClass("gantt-foreground-col-current-date"):this.$element.removeClass("gantt-foreground-col-current-date"),this.$element.css({left:this.left+"px",width:this.width+"px"});for(var t=0,e=this.timeFrames.length;t<e;t++)this.timeFrames[t].updateView()}},e.prototype.updateTimeFrames=function(){var e=this;if(void 0!==e.calendar&&("hidden"!==e.timeFramesNonWorkingMode||"hidden"!==e.timeFramesWorkingMode)){for(var i,r=e.date,o=t(r).startOf("day"),s=o.add(1,"day");r<e.endDate;){var a=e.calendar.getTimeFrames(r),l=t.min(s,e.endDate);a=e.calendar.solve(a,r,l);var u=[];for(i=0;i<a.length;i++){var c=a[i],d=c.start;void 0===d&&(d=r);var h=c.end;void 0===h&&(h=l),d<e.date&&(d=e.date),h>e.endDate&&(h=e.endDate),(c=c.clone()).start=t(d),c.end=t(h),u.push(c)}e.timeFrames=e.timeFrames.concat(u);var f=n(r);e.daysTimeFrames[f]=u,s=(o=t(r=l).startOf("day")).add(1,"day")}for(i=0;i<e.timeFrames.length;i++){var p=e.timeFrames[i],g=p.start.diff(e.date,"milliseconds")/e.duration*e.width,m=p.end.diff(p.start,"milliseconds")/e.duration*e.width,v=!1;p.working&&"visible"!==e.timeFramesWorkingMode?v=!0:p.working||"visible"===e.timeFramesNonWorkingMode||(v=!0),v||e.visibleTimeFrames.push(p),p.hidden=v,p.left=g,p.width=m,p.originalSize={left:p.left,width:p.width}}if("cropped"===e.timeFramesNonWorkingMode||"cropped"===e.timeFramesWorkingMode){for(var y=0,b=0;b<e.timeFrames.length;b++){var w=e.timeFrames[b];(!w.working&&"cropped"!==e.timeFramesNonWorkingMode||w.working&&"cropped"!==e.timeFramesWorkingMode)&&(y+=w.width)}if(y!==e.width){var $=e.width/y,x=0,C=0,k=!0;for(b=0;b<e.timeFrames.length;b++){var S=e.timeFrames[b];!S.working&&"cropped"!==e.timeFramesNonWorkingMode||S.working&&"cropped"!==e.timeFramesWorkingMode?(S.left=(S.left-x)*$,S.width=S.width*$,S.originalSize.left=(S.originalSize.left-C)*$,S.originalSize.width=S.originalSize.width*$,S.cropped=!1,k=!1):(x+=S.width,C+=S.originalSize.width,S.left=void 0,S.width=0,S.originalSize={left:void 0,width:0},S.cropped=!0)}e.cropped=k}else e.cropped=!1}}},e.prototype.clone=function(){return new e(t(this.date),t(this.endDate),this.left,this.width,this.calendar)},e.prototype.containsDate=function(t){return t>this.date&&t<=this.endDate},e.prototype.equals=function(t){return this.date===t.date},e.prototype.roundTo=function(t,e,n,i){"day"===e&&(e="date"),n=n||1;var r=t.get(e);switch(i){case"up":r=Math.ceil(r/n);break;case"down":r=Math.floor(r/n);break;default:r=Math.round(r/n)}var o=["millisecond","second","minute","hour","date","month","year"];t.set(e,r*n);for(var s=o.indexOf(e),a=0;a<s;a++)t.set(o[a],0);return t},e.prototype.getMagnetDate=function(e,n,i,r){if(n>0&&void 0!==i){var o=e;if(e=t(e),"column"===i){var s=this.getPositionByDate(e);e=t(s<this.width/2?this.date:this.endDate)}else(e=this.roundTo(e,i,n))<this.date?e=t(this.date):e>this.endDate&&(e=t(this.endDate));if(r)for(var a,l=Math.abs(o.diff(e,"milliseconds")),u=0;u<this.timeFrames.length;u++){var c=this.timeFrames[u];if(c.magnet){var d,h=this.timeFrames[u-1],f=this.timeFrames[u+1];void 0!==h&&h.working===c.working||(d=Math.abs(o.diff(c.start,"milliseconds")))<l&&(void 0===a||d<a)&&(a=d,e=c.start),void 0!==f&&f.working===c.working||(d=Math.abs(o.diff(c.end,"milliseconds")))<l&&(void 0===a||d<a)&&(a=d,e=c.end)}}}return e},e.prototype.getDateByPositionUsingTimeFrames=function(e){for(var n=0,i=this.timeFrames.length;n<i;n++){var r=this.timeFrames[n];if(!r.cropped&&e>=r.left&&e<=r.left+r.width){var o=r.getDuration()/r.width*(e-r.left);return t(r.start).add(o,"milliseconds")}}},e.prototype.getDateByPosition=function(e,n,i,r){var o,s;return e<0&&(e=0),e>this.width&&(e=this.width),"cropped"!==this.timeFramesNonWorkingMode&&"cropped"!==this.timeFramesWorkingMode||(s=this.getDateByPositionUsingTimeFrames(e)),void 0===s&&(o=this.duration/this.width*e,s=t(this.date).add(o,"milliseconds")),s=this.getMagnetDate(s,n,i,r)},e.prototype.getDayTimeFrame=function(t){var e=this.daysTimeFrames[n(t)];return void 0===e?[]:e},e.prototype.getPositionByDate=function(t){var e,n,i=t;if("cropped"===this.timeFramesNonWorkingMode||"cropped"===this.timeFramesWorkingMode)for(var r=this.getDayTimeFrame(i),o=0;o<r.length;o++){var s=r[o];if(i>=s.start&&i<=s.end){if(!s.cropped)return e=i.diff(s.start,"milliseconds"),n=e/s.getDuration()*s.width,this.left+s.left+n;i=r.length>o+1?r[o+1].start:s.end}}return e=i.diff(this.date,"milliseconds"),(n=e/this.duration*this.width)<0&&(n=0),n>this.width&&(n=this.width),this.left+n},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnBuilder",["GanttColumn",function(t){var e=function(t){this.columnsManager=t};return e.prototype.newColumn=function(e,n,i,r){var o=this.columnsManager.gantt.calendar,s=this.columnsManager.gantt.options.value("timeFramesWorkingMode"),a=this.columnsManager.gantt.options.value("timeFramesNonWorkingMode");return new t(e,n,i,r,o,s,a)},e}])}(),function(){"use strict";angular.module("gantt").service("GanttColumnGenerator",["moment",function(t){var e=function(e,n,i){return t(e).add(n,i).startOf(i)===e},n=function(t){if(["hour","minute","second","millisecond"].indexOf(t)>=0)return 0},i=function(t,e,i){var r=e.get(t),o=i.get(t),s=n(t);void 0!==s&&o!==s&&o<r&&i.set(t,s)};this.generate=function(n,r,o,s,a,l,u,c){if(!o&&!l)throw"to or maximumWidth must be defined";"s"===(s=s.trim()).charAt(s.length-1)&&(s=s.substring(0,s.length-1));var d,h,f;s&&(f=s.split(" ")),f&&f.length>1?(d=parseFloat(f[0]),h=f[f.length-1]):(d=1,h=s);var p=!1;r=t(r).startOf(h),o&&(p=e(o),o=t(o).startOf(h));var g=0,m=t(r).startOf(h);c&&(m.add(-d,h),g-=a);for(var v=[];;){if(l&&Math.abs(g)>l+a)break;var y=t(m),b=t(y).add(d,h);i(h,y,b);var w=n.newColumn(y,b,u?g+u:g,a);if(w.cropped||(v.push(w),c?g-=a:g+=a),o)if(c){if(p&&m<o||!p&&m<=o)break}else if(p&&m>o||!p&&m>=o)break;c?(m.add(-d,h),i(h,m,y)):(m.add(d,h),i(h,y,m))}return c&&(e(r,d,h)&&v.shift(),v.reverse()),v}}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnHeader",["moment","GanttColumn",function(t,e){return function(n,i,r,o,s,a,l){n=t(n),i=t(i);var u=new e(n,i,o,s);return u.name=l,u.unit=r,u.label=angular.isFunction(a)?a(u):n.format(a),u}}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnsManager",["GanttColumnGenerator","GanttColumnBuilder","GanttHeadersGenerator","$filter","$timeout","ganttLayout","ganttBinarySearch","moment",function(t,e,n,i,r,o,s,a){var l=function(t){var n=this;this.gantt=t,this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.scrollAnchor=void 0,this.columnBuilder=new e(this),this.gantt.$scope.$watchGroup(["viewScale","columnWidth","timeFramesWorkingMode","timeFramesNonWorkingMode","fromDate","toDate","autoExpand","taskOutOfRange"],function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headers",function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headersFormats",function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchGroup(["ganttElementWidth","showSide","sideWidth","maxHeight","daily"],function(t,e){t!==e&&n.gantt.rendered&&n.updateColumnsMeta()}),this.gantt.api.data.on.load(this.gantt.$scope,function(){(void 0===n.from||void 0===n.to||n.from>n.gantt.rowsManager.getDefaultFrom()||n.to<n.gantt.rowsManager.getDefaultTo())&&n.gantt.rendered&&n.generateColumns(),n.gantt.rowsManager.sortRows()}),this.gantt.api.data.on.remove(this.gantt.$scope,function(){n.gantt.rowsManager.sortRows()}),this.gantt.api.registerMethod("columns","clear",this.clearColumns,this),this.gantt.api.registerMethod("columns","generate",this.generateColumns,this),this.gantt.api.registerMethod("columns","refresh",this.updateColumnsMeta,this),this.gantt.api.registerMethod("columns","getColumnsWidth",this.getColumnsWidth,this),this.gantt.api.registerMethod("columns","getColumnsWidthToFit",this.getColumnsWidthToFit,this),this.gantt.api.registerMethod("columns","getDateRange",this.getDateRange,this),this.gantt.api.registerEvent("columns","clear"),this.gantt.api.registerEvent("columns","generate"),this.gantt.api.registerEvent("columns","refresh")};l.prototype.setScrollAnchor=function(){if(this.gantt.scroll.$element&&this.columns.length>0){var t=this.gantt.scroll.$element[0],e=t.scrollLeft+t.offsetWidth/2;this.scrollAnchor=this.gantt.getDateByPosition(e)}},l.prototype.scrollToScrollAnchor=function(){var t=this;this.columns.length>0&&void 0!==this.scrollAnchor&&this.gantt.$scope.$$postDigest(function(){t.gantt.api.scroll.toDate(t.scrollAnchor)})},l.prototype.clearColumns=function(){this.setScrollAnchor(),this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.gantt.api.columns.raise.clear()},l.prototype.generateColumns=function(e,i){return e||(e=this.gantt.options.value("fromDate")),i||(i=this.gantt.options.value("toDate")),!((!e||a.isMoment(e)&&!e.isValid())&&!(e=this.gantt.rowsManager.getDefaultFrom()))&&(!((!i||a.isMoment(i)&&!i.isValid())&&!(i=this.gantt.rowsManager.getDefaultTo()))&&(void 0===e||a.isMoment(e)||(e=a(e)),void 0===i||a.isMoment(i)||(i=a(i)),"expand"===this.gantt.options.value("taskOutOfRange")&&(e=this.gantt.rowsManager.getExpandedFrom(e),i=this.gantt.rowsManager.getExpandedTo(i)),this.setScrollAnchor(),this.from=e,this.to=i,this.columns=t.generate(this.columnBuilder,e,i,this.gantt.options.value("viewScale"),this.getColumnsWidth()),this.headers=n.generate(this),this.previousColumns=[],this.nextColumns=[],this.updateColumnsMeta(),this.scrollToScrollAnchor(),void this.gantt.api.columns.raise.generate(this.columns,this.headers)))},l.prototype.updateColumnsMeta=function(){this.gantt.isRefreshingColumns=!0;var t=this.getLastColumn();this.gantt.originalWidth=void 0!==t?t.originalSize.left+t.originalSize.width:0;var e=this.updateColumnsWidths(this.columns,this.headers,this.previousColumns,this.nextColumns);this.gantt.width=void 0!==t?t.left+t.width:0;var n=this.gantt.options.value("showSide"),i=n!==this.gantt.side.isShown();i&&!n&&this.gantt.side.show(!1),this.gantt.rowsManager.updateTasksPosAndSize(),this.gantt.timespansManager.updateTimespansPosAndSize(),this.updateVisibleColumns(e),this.gantt.rowsManager.updateVisibleObjects();var r=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(r),i&&n&&this.gantt.side.show(!0),this.gantt.isRefreshingColumns=!1,this.gantt.api.columns.raise.refresh(this.columns,this.headers)},l.prototype.getLastColumn=function(t){var e=this.columns;return t&&(e=this.nextColumns),e&&e.length>0?e[e.length-1]:void 0},l.prototype.getFirstColumn=function(t){var e=this.columns;return t&&(e=this.previousColumns),e&&e.length>0?e[0]:void 0},l.prototype.getColumnByDate=function(t,e){e||this.expandExtendedColumnsForDate(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),i=s.get(n,t,function(t){return t.date},!0);return void 0===i[0]?i[1]:i[0]},l.prototype.getColumnByPosition=function(t,e){e||this.expandExtendedColumnsForPosition(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),i=s.get(n,t,function(t){return t.left},!0);return void 0===i[0]?i[1]:i[0]},l.prototype.updateColumnsWidths=function(t,e,n,i){var r=this.gantt.options.value("columnWidth"),s=this.gantt.options.value("expandToFit"),a=this.gantt.options.value("shrinkToFit");if(void 0===r||s||a){var l=this.gantt.getBodyAvailableWidth(),u=this.gantt.columnsManager.getLastColumn(!1);if(void 0!==u){var c=u.originalSize.left+u.originalSize.width;if(s&&c<l||a&&c>l||void 0===r){var d=l/c;o.setColumnsWidthFactor(t,d);for(var h=0;h<e.length;h++)o.setColumnsWidthFactor(e[h],d);return n.splice(0,this.previousColumns.length),i.splice(0,this.nextColumns.length),!0}}}return!1},l.prototype.getColumnsWidth=function(){var t=this.gantt.options.value("columnWidth");return void 0===t&&(t=!this.gantt.width||this.gantt.width<=0?20:this.gantt.width/this.columns.length),t},l.prototype.getColumnsWidthToFit=function(){return this.gantt.getBodyAvailableWidth()/this.columns.length},l.prototype.expandExtendedColumnsForPosition=function(e){var n;if(e<0){var i=this.getFirstColumn().date,r=this.getFirstColumn(!0);return(!r||r.left>e)&&(n=this.gantt.options.value("viewScale"),this.previousColumns=t.generate(this.columnBuilder,i,void 0,n,this.getColumnsWidth(),-e,0,!0)),!0}if(e>this.gantt.width){var o=this.getLastColumn(),s=o.getDateByPosition(o.width),a=this.getLastColumn(!0);return(!a||a.left+a.width<e)&&(n=this.gantt.options.value("viewScale"),this.nextColumns=t.generate(this.columnBuilder,s,void 0,n,this.getColumnsWidth(),e-this.gantt.width,this.gantt.width,!1)),!0}return!1},l.prototype.expandExtendedColumnsForDate=function(e){var n,i=this.getFirstColumn();i&&(n=i.date);var r,o=this.getLastColumn();o&&(r=o.endDate);var s;if(n&&e<n){var a=this.getFirstColumn(!0);return(!a||a.date>e)&&(s=this.gantt.options.value("viewScale"),this.previousColumns=t.generate(this.columnBuilder,n,e,s,this.getColumnsWidth(),void 0,0,!0)),!0}if(r&&e>=r){var l=this.getLastColumn(!0);return(!l||l.date<r)&&(s=this.gantt.options.value("viewScale"),this.nextColumns=t.generate(this.columnBuilder,r,e,s,this.getColumnsWidth(),void 0,this.gantt.width,!1)),!0}return!1},l.prototype.getActiveHeadersCount=function(){return this.headers.length},l.prototype.updateVisibleColumns=function(t){var e,n=this.gantt.options.value("columnLimitThreshold");if(void 0===n||n>0&&this.columns.length>=n)for(this.visibleColumns=i("ganttColumnLimit")(this.columns,this.gantt),this.visibleHeaders=[],e=0;e<this.headers.length;e++)this.visibleHeaders.push(i("ganttColumnLimit")(this.headers[e],this.gantt));else this.visibleColumns=this.columns,this.visibleHeaders=this.headers;if(t){for(e=0;e<this.visibleColumns.length;e++)this.visibleColumns[e].updateView();for(e=0;e<this.visibleHeaders.length;e++)for(var r=this.visibleHeaders[e],o=0;o<r.length;o++)r[o].updateView()}var s=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(s)};var u={year:"YYYY",quarter:"[Q]Q YYYY",month:"MMMM YYYY",week:"w",day:"D",hour:"H",minute:"H:mm",second:"H:mm:ss",millisecond:"H:mm:ss:SSS"},c={day:"LL",hour:"H",minute:"H:mm",second:"H:mm:ss",millisecond:"H:mm:ss:SSS"},d={year:"YYYY",quarter:"[Q]Q",month:"MMMM"};return l.prototype.getHeaderFormat=function(t){var e,n=this.gantt.options.value("headersFormats");if(void 0!==n&&(e=n[t]),void 0===e){var i=this.gantt.options.value("viewScale");"s"===(i=i.trim()).charAt(i.length-1)&&(i=i.substring(0,i.length-1));var r,o;i&&(o=i.split(" ")),r=o&&o.length>1?o[o.length-1]:i,["millisecond","second","minute","hour"].indexOf(r)>-1?e=c[t]:["month","quarter","year"].indexOf(r)>-1&&(e=d[t]),void 0===e&&(e=u[t])}return e},l.prototype.getHeaderScale=function(t){var e,n=this.gantt.options.value("headersScales");return void 0!==n&&(e=n[t]),void 0===e&&(e=t),-1===["millisecond","second","minute","hour","day","week","month","quarter","year"].indexOf(e)&&(e="day"),e},l.prototype.getDateRange=function(t){var e,n;return t?this.visibleColumns&&this.visibleColumns.length>0&&(e=this.visibleColumns[0],n=this.visibleColumns[this.visibleColumns.length-1]):(e=this.getFirstColumn(),n=this.getLastColumn()),e&&n?[e.date,n.endDate]:void 0},l}])}(),function(){"use strict";angular.module("gantt").service("GanttHeadersGenerator",["GanttColumnHeader","moment",function(t,e){var n=function(n,i){var r,o,s,a,l=[],u=n.getHeaderScale(i);if(u&&(a=u.split(" ")),a&&a.length>1?(o=parseFloat(a[0]),s=a[a.length-1]):(o=1,s=u),n.columns.length>0)for(var c=n.columns[0],d=e(c.date).startOf(s),h=e(n.columns[n.columns.length-1].endDate);;){var f=c.getPositionByDate(d),p=e.min(e(d).add(o,s),h),g=n.getColumnByDate(p),m=g.getPositionByDate(p)-f;if(m>0){var v=n.getHeaderFormat(i);r=new t(d,p,s,f,m,v,i),l.push(r)}if(p.isSame(h)||p.isAfter(h))break;c=g,d=p}return l};this.generate=function(t){var e=[];if(void 0===t.gantt.options.value("headers")){var i=t.gantt.options.value("viewScale");"s"===(i=i.trim()).charAt(i.length-1)&&(i=i.substring(0,i.length-1));var r,o;i&&(o=i.split(" ")),r=o&&o.length>1?o[o.length-1]:i,["quarter","month"].indexOf(r)>-1&&e.push("year"),["day","week"].indexOf(r)>-1&&e.push("month"),["day"].indexOf(r)>-1&&e.push("week"),["hour"].indexOf(r)>-1&&e.push("day"),["minute","second","millisecond"].indexOf(r)>-1&&e.push("hour"),["second","millisecond"].indexOf(r)>-1&&e.push("minute"),["millisecond"].indexOf(r)>-1&&e.push("second"),e.push(i)}else e=t.gantt.options.value("headers");for(var s=[],a=0;a<e.length;a++)s.push(n(t,e[a]));return s}}])}(),function(){"use strict";angular.module("gantt").factory("Gantt",["GanttApi","GanttOptions","GanttCalendar","GanttScroll","GanttBody","GanttRowHeader","GanttHeader","GanttSide","GanttObjectModel","GanttRowsManager","GanttColumnsManager","GanttTimespansManager","GanttCurrentDateManager","ganttArrays","moment","$document","$timeout",function(t,e,n,i,r,o,s,a,l,u,c,d,h,f,p,g,m){var v=function(o,m){var v=this;this.$scope=o,this.$element=m,this.options=new e(o,{api:angular.noop,data:[],timespans:[],viewScale:"day",columnMagnet:"15 minutes",timeFramesMagnet:!0,showSide:!0,allowSideResizing:!0,currentDate:"line",currentDateValue:p,autoExpand:"none",taskOutOfRange:"truncate",taskContent:"{{task.model.name}}",rowContent:"{{row.model.name}}",maxHeight:0,timeFrames:[],dateFrames:[],timeFramesWorkingMode:"hidden",timeFramesNonWorkingMode:"visible",taskLimitThreshold:100,columnLimitThreshold:500}),this.api=new t(this),this.api.registerEvent("core","ready"),this.api.registerEvent("core","rendered"),this.api.registerEvent("directives","controller"),this.api.registerEvent("directives","preLink"),this.api.registerEvent("directives","postLink"),this.api.registerEvent("directives","new"),this.api.registerEvent("directives","destroy"),this.api.registerEvent("data","change"),this.api.registerEvent("data","load"),this.api.registerEvent("data","remove"),this.api.registerEvent("data","clear"),this.api.registerMethod("core","getDateByPosition",this.getDateByPosition,this),this.api.registerMethod("core","getPositionByDate",this.getPositionByDate,this),this.api.registerMethod("data","load",this.loadData,this),this.api.registerMethod("data","remove",this.removeData,this),this.api.registerMethod("data","clear",this.clearData,this),this.api.registerMethod("data","get",this.getData,this),this.calendar=new n(this),this.calendar.registerTimeFrames(this.options.value("timeFrames")),this.calendar.registerDateFrames(this.options.value("dateFrames")),this.api.registerMethod("timeframes","registerTimeFrames",this.calendar.registerTimeFrames,this.calendar),this.api.registerMethod("timeframes","clearTimeframes",this.calendar.clearTimeFrames,this.calendar),this.api.registerMethod("timeframes","registerDateFrames",this.calendar.registerDateFrames,this.calendar),this.api.registerMethod("timeframes","clearDateFrames",this.calendar.clearDateFrames,this.calendar),this.api.registerMethod("timeframes","registerTimeFrameMappings",this.calendar.registerTimeFrameMappings,this.calendar),this.api.registerMethod("timeframes","clearTimeFrameMappings",this.calendar.clearTimeFrameMappings,this.calendar),o.$watchGroup(["timeFrames","dateFrames"],function(t,e){if(t!==e){var n=t[0],i=t[1],r=e[0],o=e[1],s=!1;angular.equals(n,r)||(v.calendar.clearTimeFrames(),v.calendar.registerTimeFrames(n),s=!0),angular.equals(i,o)||(v.calendar.clearDateFrames(),v.calendar.registerDateFrames(i),s=!0),s&&v.columnsManager.generateColumns()}}),o.$watch("columnMagnet",function(){var t,e=v.options.value("columnMagnet");e&&(t=e.trim().split(" ")),t&&t.length>1?(v.columnMagnetValue=parseFloat(t[0]),v.columnMagnetUnit=p.normalizeUnits(t[t.length-1])):(v.columnMagnetValue=1,v.columnMagnetUnit=p.normalizeUnits(e))}),o.$watchGroup(["shiftColumnMagnet","viewScale"],function(){var t,e=v.options.value("shiftColumnMagnet");e&&(t=e.trim().split(" ")),void 0!==t&&t.length>1?(v.shiftColumnMagnetValue=parseFloat(t[0]),v.shiftColumnMagnetUnit=p.normalizeUnits(t[t.length-1])):(v.shiftColumnMagnetValue=1,v.shiftColumnMagnetUnit=p.normalizeUnits(e))});var y=function(t){return v.shiftKey=t.shiftKey,!0};g.on("keyup keydown",y),o.$on("$destroy",function(){g.off("keyup keydown",y)}),this.scroll=new i(this),this.body=new r(this),this.header=new s(this),this.side=new a(this),this.objectModel=new l(this.api),this.rowsManager=new u(this),this.columnsManager=new c(this),this.timespansManager=new d(this),this.currentDateManager=new h(this),this.originalWidth=0,this.width=0,angular.isFunction(this.$scope.api)&&this.$scope.api(this.api);var b=function(t,e){if(void 0===e||t.length!==e.length)return!0;for(var n=0,i=t.length;n<i;n++)if(t[n].id!==e[n].id)return!0;return!1};o.$watchCollection("data",function(t,e){if(void 0!==e){var n=f.getRemovedIds(t,e);if(n.length===e.length)v.rowsManager.removeAll(),v.api.data.raise.clear();else{for(var i=0,r=n.length;i<r;i++){var o=n[i];v.rowsManager.removeRow(o)}var s=[];for(i=0,r=e.length;i<r;i++)n.indexOf(e[i].id)>-1&&s.push(e[i]);v.api.data.raise.remove(s)}}if(void 0!==t){var a=b(t,e);a&&v.rowsManager.resetNonModelLists();for(var l=0,u=t.length;l<u;l++){var c=t[l];v.rowsManager.addRow(c,a)}v.api.data.raise.change(t,e),v.api.data.raise.load(t)}})};return v.prototype.getMagnetValueAndUnit=function(){if(this.shiftKey){if(void 0!==this.shiftColumnMagnetValue&&void 0!==this.shiftColumnMagnetUnit)return[this.shiftColumnMagnetValue,this.shiftColumnMagnetUnit];var t,e,n,i=this.options.value("viewScale");return(i=i.trim())&&(n=i.split(" ")),n&&n.length>1?(t=parseFloat(n[0]),e=p.normalizeUnits(n[n.length-1])):(t=1,e=p.normalizeUnits(i)),[.25*t,e]}return[this.columnMagnetValue,this.columnMagnetUnit]},v.prototype.getMagnetDate=function(t,e){if(void 0!==t){p.isMoment(p)||(t=p(t));var n=this.columnsManager.getColumnByDate(t,e),i=this.getMagnetValueAndUnit(),r=i[0],o=i[1];return n.getMagnetDate(t,r,o,this.options.value("timeFramesMagnet"))}},v.prototype.getDateByPosition=function(t,e,n){var i=this.columnsManager.getColumnByPosition(t,n);if(void 0!==i){var r,o;if(e){var s=this.getMagnetValueAndUnit();r=s[0],o=s[1]}return i.getDateByPosition(t-i.left,r,o,this.options.value("timeFramesMagnet"))}},v.prototype.getBodyAvailableWidth=function(){var t=this.getWidth()-this.side.getWidth()-(void 0!==this.scroll.getBordersWidth()?this.scroll.getBordersWidth():0);return t-=1},v.prototype.getPositionByDate=function(t,e){if(void 0!==t){p.isMoment(p)||(t=p(t));var n=this.columnsManager.getColumnByDate(t,e);return void 0!==n?n.getPositionByDate(t):void 0}},v.prototype.loadData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0===this.$scope.data)this.$scope.data=t;else for(var e=0,n=t.length;e<n;e++){var i=t[e],r=f.indexOfId(this.$scope.data,i.id);r>-1?this.$scope.data[r]=i:this.$scope.data.push(i)}var o=this.side.getWidth();o>0&&this.options.set("sideWidth",o)},v.prototype.getData=function(){return this.$scope.data},v.prototype.removeData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0!==this.$scope.data)for(var e=0,n=t.length;e<n;e++){var i=t[e],r=f.indexOfId(this.$scope.data,i.id);if(r>-1)if(void 0===i.tasks||0===i.tasks.length)this.$scope.data.splice(r,1);else for(var o=this.$scope.data[r],s=0,a=i.tasks.length;s<a;s++){var l=i.tasks[s],u=f.indexOfId(o.tasks,l.id);u>-1&&o.tasks.splice(u,1)}}},v.prototype.clearData=function(){this.$scope.data=void 0},v.prototype.getWidth=function(){return this.$scope.ganttElementWidth},v.prototype.getHeight=function(){return this.$scope.ganttElementHeight},v.prototype.getContainerWidth=function(){return this.$scope.ganttContainerWidth},v.prototype.getContainerHeight=function(){return this.$scope.ganttContainerHeight},v.prototype.initialized=function(){this.api.core.raise.ready(this.api),this.rendered=!0,this.columnsManager.generateColumns();var t=this;m(function(){var e=t.side.getWidth();e>0&&t.options.set("sideWidth",e),t.api.core.raise.rendered(t.api)})},v}])}(),function(){"use strict";angular.module("gantt").factory("GanttObjectModel",["ganttUtils","moment",function(t,e){var n=function(t){this.api=t,this.api.registerEvent("tasks","clean"),this.api.registerEvent("rows","clean"),this.api.registerEvent("timespans","clean")};return n.prototype.cleanTask=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.tasks.raise.clean(n)},n.prototype.cleanRow=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.rows.raise.clean(n)},n.prototype.cleanTimespan=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.timespans.raise.clean(n)},n}])}(),function(){"use strict";angular.module("gantt").factory("GanttRow",["GanttTask","moment","$filter",function(t,e,n){var i=function(t,e){this.rowsManager=t,this.model=e,this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]};return i.prototype.addTaskImpl=function(t,e){this.tasksMap[t.model.id]=t,this.tasks.push(t),e||(void 0===this.model.tasks&&(this.model.tasks=[]),-1===this.model.tasks.indexOf(t.model)&&this.model.tasks.push(t.model))},i.prototype.addTask=function(e,n){var i,r=!1;if(this.rowsManager.gantt.objectModel.cleanTask(e),e.id in this.tasksMap){if((i=this.tasksMap[e.id]).model===e)return i;i.model=e,r=!0}else i=new t(this,e),this.addTaskImpl(i,n);return this.sortTasks(),this.setFromToByTask(i),n||(r?this.rowsManager.gantt.api.tasks.raise.change(i):this.rowsManager.gantt.api.tasks.raise.add(i)),i},i.prototype.moveTaskToRow=function(t,e){this.rowsManager.gantt.api.tasks.raise.beforeViewRowChange(t,this),e||this.rowsManager.gantt.api.tasks.raise.beforeRowChange(t,this);var n=t.row;n.removeTask(t.model.id,e,!0),t.row=this,this.addTaskImpl(t,e),this.sortTasks(),this.setFromToByTask(t),t.updatePosAndSize(),this.updateVisibleTasks(),n.$scope.$digest(),t.row.$scope.$digest(),this.rowsManager.gantt.api.tasks.raise.viewRowChange(t,n),e||this.rowsManager.gantt.api.tasks.raise.rowChange(t,n)},i.prototype.updateVisibleTasks=function(){var t=this.rowsManager.gantt.options.value("filterTask");if(t){"object"==typeof t&&(t={model:t});var e=this.rowsManager.gantt.options.value("filterTaskComparator");"function"==typeof e&&(e=function(t,n){return e(t.model,n.model)}),this.filteredTasks=n("filter")(this.tasks,t,e)}else this.filteredTasks=this.tasks.slice(0);var i=this.rowsManager.gantt.options.value("taskLimitThreshold");void 0===i||i>0&&this.filteredTasks.length>=i?this.visibleTasks=n("ganttTaskLimit")(this.filteredTasks,this.rowsManager.gantt):this.visibleTasks=this.filteredTasks},i.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.tasks.length;t<e;t++)this.tasks[t].updatePosAndSize()},i.prototype.removeTask=function(t,e,n){if(t in this.tasksMap){var i,r,o=this.tasksMap[t];for(r=this.tasks.length-1;r>=0;r--)if((i=this.tasks[r]).model.id===t){this.tasks.splice(r,1),this.from-i.model.from!=0&&this.to-i.model.to!=0||this.setFromTo();break}for(r=this.filteredTasks.length-1;r>=0;r--)if((i=this.filteredTasks[r]).model.id===t){this.filteredTasks.splice(r,1);break}for(r=this.visibleTasks.length-1;r>=0;r--)if((i=this.visibleTasks[r]).model.id===t){this.visibleTasks.splice(r,1);break}if(!e){if(delete this.tasksMap[t],void 0!==this.model.tasks){var s=this.model.tasks.indexOf(o.model);s>-1&&this.model.tasks.splice(s,1)}n||this.rowsManager.gantt.api.tasks.raise.remove(o)}return o}},i.prototype.removeAllTasks=function(){this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]},i.prototype.setFromTo=function(){this.from=void 0,this.to=void 0;for(var t=0,e=this.tasks.length;t<e;t++)this.setFromToByTask(this.tasks[t])},i.prototype.setFromToByTask=function(t){this.setFromToByValues(t.model.from,t.model.to)},i.prototype.setFromToByValues=function(t,n){void 0!==t&&(void 0===this.from?this.from=e(t):t<this.from&&(this.from=e(t))),void 0!==n&&(void 0===this.to?this.to=e(n):n>this.to&&(this.to=e(n)))},i.prototype.sortTasks=function(){this.tasks.sort(function(t,e){return t.left-e.left})},i.prototype.clone=function(){for(var t=new i(this.rowsManager,angular.copy(this)),e=0,n=this.tasks.length;e<n;e++)t.addTask(this.tasks[e].model);return t},i}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowHeader",[function(){return function(t){this.gantt=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowsManager",["GanttRow","ganttArrays","$filter","$timeout","moment",function(t,e,n,i,r){var o=function(t){var e=this;this.gantt=t,this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[],this.rowsTaskWatchers=[],this._defaultFilterImpl=function(t,e,i){return n("filter")(t,e,i)},this.filterImpl=this._defaultFilterImpl,this.customRowSorters=[],this.customRowFilters=[],this.gantt.$scope.$watchGroup(["filterTask","filterTaskComparator"],function(t,n){t!==n&&e.updateVisibleTasks()}),this.gantt.$scope.$watchGroup(["filterRow","filterRowComparator"],function(t,n){t!==n&&e.updateVisibleRows()}),this.gantt.$scope.$watch("sortMode",function(t,n){t!==n&&e.sortRows()});var r=this.gantt.scroll.isVScrollbarVisible();this.gantt.$scope.$watchGroup(["maxHeight","gantt.rowsManager.visibleRows.length"],function(t,n){t!==n&&i(function(){var t=e.gantt.scroll.isVScrollbarVisible();t!==r&&(r=t,e.gantt.columnsManager.updateColumnsMeta())})}),this.gantt.api.registerMethod("rows","sort",o.prototype.sortRows,this),this.gantt.api.registerMethod("rows","applySort",o.prototype.applySort,this),this.gantt.api.registerMethod("rows","refresh",o.prototype.updateVisibleObjects,this),this.gantt.api.registerMethod("rows","removeRowSorter",o.prototype.removeCustomRowSorter,this),this.gantt.api.registerMethod("rows","addRowSorter",o.prototype.addCustomRowSorter,this),this.gantt.api.registerMethod("rows","removeRowFilter",o.prototype.removeCustomRowFilter,this),this.gantt.api.registerMethod("rows","addRowFilter",o.prototype.addCustomRowFilter,this),this.gantt.api.registerMethod("rows","setFilterImpl",o.prototype.setFilterImpl,this),this.gantt.api.registerEvent("tasks","add"),this.gantt.api.registerEvent("tasks","change"),this.gantt.api.registerEvent("tasks","viewChange"),this.gantt.api.registerEvent("tasks","beforeRowChange"),this.gantt.api.registerEvent("tasks","beforeViewRowChange"),this.gantt.api.registerEvent("tasks","rowChange"),this.gantt.api.registerEvent("tasks","viewRowChange"),this.gantt.api.registerEvent("tasks","remove"),this.gantt.api.registerEvent("tasks","filter"),this.gantt.api.registerEvent("tasks","displayed"),this.gantt.api.registerEvent("rows","add"),this.gantt.api.registerEvent("rows","change"),this.gantt.api.registerEvent("rows","remove"),this.gantt.api.registerEvent("rows","move"),this.gantt.api.registerEvent("rows","displayed"),this.gantt.api.registerEvent("rows","filter"),this.updateVisibleObjects()};return o.prototype.resetNonModelLists=function(){this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[]},o.prototype.addRow=function(n,i){var r,o,s,a=!1;if(this.gantt.objectModel.cleanRow(n),n.id in this.rowsMap){if(r=this.rowsMap[n.id],i&&(this.rows.push(r),this.sortedRows.push(r),this.filteredRows.push(r),this.customFilteredRows.push(r),this.visibleRows.push(r)),r.model===n)return;var l=e.getRemovedIds(n.tasks,r.model.tasks);for(o=0,s=l.length;o<s;o++){var u=l[o];r.removeTask(u)}r.model=n,a=!0}else r=new t(this,n),this.rowsMap[n.id]=r,this.rows.push(r),this.sortedRows.push(r),this.filteredRows.push(r),this.customFilteredRows.push(r),this.visibleRows.push(r);if(void 0!==n.tasks&&n.tasks.length>0){for(o=0,s=n.tasks.length;o<s;o++){var c=n.tasks[o];r.addTask(c)}r.updateVisibleTasks()}if(a?this.gantt.api.rows.raise.change(r):this.gantt.api.rows.raise.add(r),!a){var d=this.gantt.$scope.$watchCollection(function(){return n.tasks},function(t,n){if(t!==n){var i,o,s=e.getRemovedIds(t,n);for(i=0,o=s.length;i<o;i++){var a=s[i];r.removeTask(a)}if(void 0!==t){for(i=0,o=t.length;i<o;i++){var l=t[i];r.addTask(l)}r.updateVisibleTasks()}}});this.rowsTaskWatchers.push(d)}return a},o.prototype.removeRow=function(t){if(t in this.rowsMap){delete this.rowsMap[t];var n,i=e.indexOfId(this.rows,t,["model","id"]);if(i>-1){n=this.rows.splice(i,1)[0];var r=this.rowsTaskWatchers.splice(i,1)[0];r&&r()}return e.removeId(this.sortedRows,t,["model","id"]),e.removeId(this.filteredRows,t,["model","id"]),e.removeId(this.customFilteredRows,t,["model","id"]),e.removeId(this.visibleRows,t,["model","id"]),void this.gantt.api.rows.raise.remove(n)}},o.prototype.removeAll=function(){this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[];for(var t=0,e=this.rowsTaskWatchers.length;t<e;t++)(0,this.rowsTaskWatchers[t])();this.rowsTaskWatchers=[]},o.prototype.sortRows=function(){var t=this.gantt.options.value("sortMode");if(void 0!==t){var e=!1;angular.isString(t)&&"-"===t.charAt(0)&&(e=!0,t=t.substr(1));var i=n("orderBy");this.sortedRows=i(this.rows,t,e)}else this.sortedRows=this.rows.slice();this.sortedRows=this.applyCustomRowSorters(this.sortedRows),this.updateVisibleRows()},o.prototype.removeCustomRowSorter=function(t){var e=this.customRowSorters.indexOf(t);e>-1&&this.customRowSorters.splice(e,1)},o.prototype.addCustomRowSorter=function(t){this.customRowSorters.push(t)},o.prototype.applyCustomRowSorters=function(t){for(var e=0;e<this.customRowSorters.length;e++)t=this.customRowSorters[e](t);return t},o.prototype.applySort=function(){var t=this.gantt.$scope.data;t.splice(0,t.length);for(var e=[],n=0,i=this.sortedRows.length;n<i;n++)t.push(this.sortedRows[n].model),e.push(this.sortedRows[n]);this.rows=e},o.prototype.moveRow=function(t,n){void 0!==this.gantt.options.value("sortMode")&&(this.applySort(),this.gantt.options.set("sortMode",void 0));var i=this.rows.indexOf(n),r=this.rows.indexOf(t);i>-1&&r>-1&&i!==r&&(e.moveToIndex(this.rows,r,i),e.moveToIndex(this.rowsTaskWatchers,r,i),e.moveToIndex(this.gantt.$scope.data,r,i),this.gantt.api.rows.raise.change(t),this.gantt.api.rows.raise.move(t,r,i),this.updateVisibleObjects(),this.sortRows())},o.prototype.updateVisibleObjects=function(){this.updateVisibleRows(),this.updateVisibleTasks()},o.prototype.updateVisibleRows=function(){var t=this.filteredRows,e=this.gantt.options.value("filterRow");if(e){"object"==typeof e&&(e={model:e});var n=this.gantt.options.value("filterRowComparator");if("function"==typeof n){var i=this.gantt;n=function(t,e){return i.options.value("filterRowComparator")(t,e)}}this.filteredRows=this.filterImpl(this.sortedRows,e,n)}else this.filteredRows=this.sortedRows.slice(0);var r=!angular.equals(t,this.filteredRows);this.customFilteredRows=this.applyCustomRowFilters(this.filteredRows),this.visibleRows=this.customFilteredRows,this.gantt.api.rows.raise.displayed(this.sortedRows,this.filteredRows,this.visibleRows),r&&this.gantt.api.rows.raise.filter(this.sortedRows,this.filteredRows)},o.prototype.removeCustomRowFilter=function(t){var e=this.customRowFilters.indexOf(t);e>-1&&this.customRowFilters.splice(e,1)},o.prototype.addCustomRowFilter=function(t){this.customRowFilters.push(t)},o.prototype.applyCustomRowFilters=function(t){for(var e=0;e<this.customRowFilters.length;e++)t=this.customRowFilters[e](t);return t},o.prototype.setFilterImpl=function(t){this.filterImpl=t||this._defaultFilterImpl},o.prototype.updateVisibleTasks=function(){for(var t=[],e=[],n=[],i=[],r=0;r<this.rows.length;r++){var o=this.rows[r];t=t.concat(o.filteredTasks),o.updateVisibleTasks(),e=e.concat(o.filteredTasks),i=i.concat(o.visibleTasks),n=n.concat(o.tasks)}this.gantt.api.tasks.raise.displayed(n,e,i),!angular.equals(t,e)&&this.gantt.api.tasks.raise.filter(n,e,i)},o.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.rows.length;t<e;t++)this.rows[t].updateTasksPosAndSize()},o.prototype.getExpandedFrom=function(t){for(var e=t=t?r(t):t,n=0;n<this.rows.length;n++)(void 0===e||e>this.rows[n].from)&&(e=this.rows[n]);return e&&(!t||e<t)?e:t},o.prototype.getExpandedTo=function(t){for(var e=t=t?r(t):t,n=0;n<this.rows.length;n++)(void 0===e||e<this.rows[n].to)&&(e=this.rows[n].to);var i=this.gantt.options.value("toDate");return e&&(!i||e>i)?e:t},o.prototype.getDefaultFrom=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].from<t)&&(t=this.rows[e].from);return t},o.prototype.getDefaultTo=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].to>t)&&(t=this.rows[e].to);return t},o}])}(),function(){"use strict";angular.module("gantt").factory("GanttTask",["moment",function(t){var e=function(t,e){this.rowsManager=t.rowsManager,this.row=t,this.model=e,this.truncatedLeft=!1,this.truncatedRight=!1};return e.prototype.isMilestone=function(){return!this.model.to||this.model.from-this.model.to==0},e.prototype.isOutOfRange=function(){var t=this.rowsManager.gantt.columnsManager.getFirstColumn(),e=this.rowsManager.gantt.columnsManager.getLastColumn();return void 0===t||this.model.to<t.date||void 0===e||this.model.from>e.endDate},e.prototype.updatePosAndSize=function(){var e=this.left,n=this.width,i=this.truncatedRight,r=this.truncatedLeft;!this.isMoving&&this.isOutOfRange()?(this.modelLeft=void 0,this.modelWidth=void 0):(this.modelLeft=this.rowsManager.gantt.getPositionByDate(this.model.from),this.modelWidth=this.rowsManager.gantt.getPositionByDate(this.model.to)-this.modelLeft);var o=this.rowsManager.gantt.columnsManager.getLastColumn(),s=o?o.left+o.width:0,a=this.modelLeft,l=this.modelWidth;this.rowsManager.gantt.options.value("daily")&&(a=this.rowsManager.gantt.getPositionByDate(t(this.model.from).startOf("day")),l=this.rowsManager.gantt.getPositionByDate(t(this.model.to).endOf("day"))-a);var u=-l;a<u&&(a=u),a>s&&(a=s),void 0===a||void 0===l?(this.left=void 0,this.width=void 0):(this.left=a,this.width=l,a<0?(this.truncatedLeft=!0,this.truncatedLeftOffset=-a,this.truncatedRight=!1,this.truncatedRightOffset=void 0):l+a>this.rowsManager.gantt.width?(this.truncatedRight=!0,this.truncatedRightOffset=l+a-this.rowsManager.gantt.width,this.truncatedLeft=!1,this.truncatedLeftOffset=void 0):(this.truncatedLeft=!1,this.truncatedLeftOffset=void 0,this.truncatedRight=!1,this.truncatedRightOffset=l+a-this.rowsManager.gantt.width),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView(),this.rowsManager.gantt.isRefreshingColumns||e===this.left&&n===this.width&&i===this.truncatedRight&&r===this.truncatedLeft||this.rowsManager.gantt.api.tasks.raise.viewChange(this)},e.prototype.updateView=function(){if(this.$element)if(void 0===this.left||void 0===this.width)this.$element.css("display","none");else{if(this.$element.css({left:this.left+"px",width:this.width+"px",display:""}),this.model.priority>0)for(var t=this.model.priority,e=this.$element.children(),n=0;n<e.length;n++)angular.element(e[n]).css("z-index",t);this.$element.toggleClass("gantt-task-milestone",this.isMilestone())}},e.prototype.getBackgroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-background");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.getContentElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-content");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.getForegroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-foreground");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.setFrom=function(t,e){this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.setTo=function(t,e){this.model.to=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.moveTo=function(t,e){var n,i;t>this.modelLeft?(this.model.to=this.rowsManager.gantt.getDateByPosition(t+this.modelWidth,e),i=(n=this.rowsManager.gantt.getPositionByDate(this.model.to))-this.modelWidth,this.model.from=this.rowsManager.gantt.getDateByPosition(i,!1)):(this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),n=(i=this.rowsManager.gantt.getPositionByDate(this.model.from))+this.modelWidth,this.model.to=this.rowsManager.gantt.getDateByPosition(n,!1)),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.clone=function(){return new e(this.row,angular.copy(this.model))},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttBody",["GanttBodyColumns","GanttBodyRows","GanttBodyBackground","GanttBodyForeground",function(t,e,n,i){return function(r){this.gantt=r,this.background=new n(this),this.foreground=new i(this),this.columns=new t(this),this.rows=new e(this)}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyBackground",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyColumns",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyForeground",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyRows",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeader",["GanttHeaderColumns",function(t){return function(e){this.gantt=e,this.columns=new t(this),this.getHeight=function(){return this.$element[0].offsetHeight}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeaderColumns",[function(){return function(t){this.$element=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttScroll",[function(){var t=function(e){this.gantt=e,this.gantt.api.registerEvent("scroll","scroll"),this.gantt.api.registerMethod("scroll","to",t.prototype.scrollTo,this),this.gantt.api.registerMethod("scroll","toDate",t.prototype.scrollToDate,this),this.gantt.api.registerMethod("scroll","left",t.prototype.scrollToLeft,this),this.gantt.api.registerMethod("scroll","right",t.prototype.scrollToRight,this),this.gantt.api.registerMethod("scroll","setWidth",t.prototype.setWidth,this)};return t.prototype.getScrollLeft=function(){return void 0===this.$element?void 0:(void 0===this.cachedScrollLeft&&(this.cachedScrollLeft=this.$element[0].scrollLeft),this.cachedScrollLeft)},t.prototype.getScrollWidth=function(){return void 0===this.$element?void 0:this.$element[0].scrollWidth},t.prototype.getWidth=function(){return void 0===this.$element?void 0:this.$element[0].offsetWidth},t.prototype.setWidth=function(t){this.$element[0]&&(this.$element[0].offsetWidth=t)},t.prototype.getBordersWidth=function(){if(void 0!==this.$element){if(this.$element[0].clientWidth)return this.$element[0].offsetWidth-this.$element[0].clientWidth;var t=window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width").match(/\d+/)[0]:0,e=window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width").match(/\d+/)[0]:0;return parseInt(t)+parseInt(e)}},t.prototype.getBordersHeight=function(){return void 0===this.$element?void 0:this.$element[0].offsetHeight-this.$element[0].clientHeight},t.prototype.isVScrollbarVisible=function(){if(void 0!==this.$element)return this.$element[0].scrollHeight>this.$element[0].offsetHeight},t.prototype.isHScrollbarVisible=function(){if(void 0!==this.$element)return this.$element[0].scrollWidth>this.$element[0].offsetWidth},t.prototype.scrollTo=function(t){this.$element[0].scrollLeft=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToLeft=function(t){this.$element[0].scrollLeft-=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToRight=function(t){this.$element[0].scrollLeft+=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToDate=function(t){var e=this.gantt.getPositionByDate(t);void 0!==e&&(this.$element[0].scrollLeft=e-this.$element[0].offsetWidth/2)},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttSide",[function(){var t=function(t){this.gantt=t};return t.prototype.getWidth=function(){if(this.gantt.options.value("showSide")){var t=this.gantt.options.value("sideWidth");if(void 0===t&&void 0!==this.$element&&void 0!==this.$element.css("width")&&this.$element.css("width",""),void 0!==this.$element&&(t=this.$element[0].offsetWidth),void 0!==t)return t}return 0},t.prototype.show=function(t){void 0!==this.$element&&this.$element.toggleClass("ng-hide",!t)},t.prototype.isShown=function(){if(void 0!==this.$element)return!this.$element.hasClass("ng-hide")},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespan",[function(){var t=function(t,e){this.gantt=t,this.model=e};return t.prototype.updatePosAndSize=function(){this.modelLeft=this.gantt.getPositionByDate(this.model.from),this.modelWidth=this.gantt.getPositionByDate(this.model.to)-this.modelLeft;var t=this.gantt.columnsManager.getLastColumn(),e=t?t.left+t.width:0,n=this.modelLeft,i=this.modelWidth,r=-i;n<r&&(n=r),n>e&&(n=e),void 0===n||void 0===i?(this.left=void 0,this.width=void 0):(this.left=n,this.width=i,n<0?(this.truncatedLeft=!0,this.truncatedLeftOffset=-n,this.truncatedRight=!1,this.truncatedRightOffset=void 0):i+n>this.gantt.width?(this.truncatedRight=!0,this.truncatedRightOffset=i+n-this.gantt.width,this.truncatedLeft=!1,this.truncatedLeftOffset=void 0):(this.truncatedLeft=!1,this.truncatedLeftOffset=void 0,this.truncatedRight=!1,this.truncatedRightOffset=i+n-this.gantt.width),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView()},t.prototype.updateView=function(){this.$element&&(void 0===this.left||void 0===this.width?this.$element.css("display","none"):(this.$element.css("display",""),this.$element.css("left",this.left+"px"),this.$element.css("width",this.width+"px")))},t.prototype.setFrom=function(t){this.from=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.setTo=function(t){this.to=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.moveTo=function(t){this.from=this.gantt.getDateByPosition(t),this.to=this.gantt.getDateByPosition(t+this.width),this.updatePosAndSize()},t.prototype.clone=function(){return new t(this.gantt,angular.copy(this.model))},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespansManager",["GanttTimespan",function(t){var e=function(t){var e=this;this.gantt=t,this.timespansMap={},this.timespans=[],this.gantt.$scope.$watchCollection("timespans",function(t){e.clearTimespans(),e.loadTimespans(t)}),this.gantt.api.registerMethod("timespans","load",this.loadTimespans,this),this.gantt.api.registerMethod("timespans","remove",this.removeTimespans,this),this.gantt.api.registerMethod("timespans","clear",this.clearTimespans,this),this.gantt.api.registerEvent("timespans","add"),this.gantt.api.registerEvent("timespans","remove"),this.gantt.api.registerEvent("timespans","change")};return e.prototype.loadTimespans=function(t){angular.isArray(t)||(t=void 0!==t?[t]:[]),this.gantt.$scope.timespans=t;for(var e=0,n=t.length;e<n;e++){var i=t[e];this.gantt.objectModel.cleanTimespan(i),this.loadTimespan(i)}},e.prototype.loadTimespan=function(e){var n,i=!1;return e.id in this.timespansMap?((n=this.timespansMap[e.id]).model=e,i=!0,this.gantt.api.timespans.raise.change(n)):(n=new t(this.gantt,e),this.timespansMap[e.id]=n,this.timespans.push(n),this.gantt.api.timespans.raise.add(n)),n.updatePosAndSize(),i},e.prototype.removeTimespans=function(t){angular.isArray(t)||(t=[t]);for(var e=0,n=t.length;e<n;e++){var i=t[e];this.removeTimespan(i.id)}this.updateVisibleObjects()},e.prototype.removeTimespan=function(t){if(t in this.timespansMap){delete this.timespansMap[t];for(var e,n,i=this.timespans.length-1;i>=0;i--)if((n=this.timespans[i]).model.id===t){e=n,this.timespans.splice(i,1);break}return this.gantt.api.timespans.raise.remove(e),e}},e.prototype.clearTimespans=function(){this.timespansMap={},this.timespans=[]},e.prototype.updateTimespansPosAndSize=function(){for(var t=0,e=this.timespans.length;t<e;t++)this.timespans[t].updatePosAndSize()},e}])}(),function(){"use strict";angular.module("gantt").service("ganttArrays",[function(){return{moveToIndex:function(t,e,n){if(n>=t.length)for(var i=n-t.length;1+i--;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t},getRemovedIds:function(t,e,n){void 0===n&&(n="id");var i,r,o=[];if(void 0!==e)for(i=0,r=e.length;i<r;i++)o.push(e[i][n]);if(void 0!==t)for(i=0,r=t.length;i<r;i++){var s=t[i];if(void 0!==s[n]){var a=o.indexOf(s[n]);a>-1&&o.splice(a,1)}}return o},indexOfId:function(t,e,n){var i;if(void 0===n)n="id";else if(n instanceof Array){for(i=t.length-1;i>=0;i--){for(var r=t[i],o=0,s=n.length;o<s;o++)r=r[n[o]];if(r===e)return i}return-1}for(i=t.length-1;i>=0;i--)if(t[i][n]===e)return i;return-1},removeId:function(t,e,n){var i=this.indexOfId(t,e,n);if(i>-1)return t.splice(i,1)[0]},remove:function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}}}])}(),function(){"use strict";angular.module("gantt").service("ganttBinarySearch",[function(){return{getIndicesOnly:function(t,e,n,i){for(var r=-1,o=t.length;o-r>1;){var s=Math.floor((r+o)/2);(i?n(t[s])<e:n(t[s])<=e)?r=s:o=s}return i||void 0===t[r]||n(t[r])!==e||(o=r),[r,o]},get:function(t,e,n,i){var r=this.getIndicesOnly(t,e,n,i);return[t[r[0]],t[r[1]]]}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHierarchy",[function(){return function(){var t=this,e={},n={},i={},r={},o={},s={},a=function(t,e){if(void 0!==e){var n=i[t.model.name];void 0===n&&(n=[],i[t.model.name]=n),n.push(e);var a=r[t.model.id];void 0===a&&(a=[],r[t.model.id]=a),a.push(e),o[e.model.name]=t,s[e.model.id]=t}};this.refresh=function(l){e={},n={},i={},r={},o={},s={};for(var u,c=0;c<l.length;c++)u=l[c],e[u.model.name]=u,n[u.model.id]=u;for(c=0;c<l.length;c++){if(void 0!==(u=l[c]).model.parent){var d=e[u.model.parent];void 0===d&&(d=n[u.model.parent]),void 0!==d&&a(d,u)}if(void 0!==u.model.children)for(var h=u.model.children,f=0;f<h.length;f++){var p=h[f],g=e[p];void 0===g&&(g=n[p]),void 0!==g&&a(u,g)}}var m=[];for(c=0;c<l.length;c++)u=l[c],void 0===t.parent(u)&&m.push(u);return m},this.children=function(t){return r[t.model.id]},this.descendants=function(e){var n=[],i=t.children(e);if(n.push.apply(n,i),void 0!==i)for(var r=0;r<i.length;r++){var o=t.descendants(i[r]);n.push.apply(n,o)}return n},this.parent=function(t){return s[t.model.id]},this.ancestors=function(e){for(var n=[],i=t.parent(e);void 0!==i;)n.push(i),i=t.parent(i);return n}}}])}(),function(){"use strict";angular.module("gantt").service("ganttUtils",[function(){return{createBoundedWrapper:function(t,e){return function(){return e.apply(t,arguments)}},firstProperty:function(t,e,n){for(var i=0,r=t.length;i<r;i++){var o=t[i];if(void 0!==o&&e in o&&void 0!==o[e])return o[e]}return n},angularIndexOf:function(t,e){for(var n=0;n<t.length;n++)if(angular.equals(t[n],e))return n;return-1},random4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},randomUuid:function(){return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},newId:function(){var t=(new Date).getTime();return function(){return t+=1}}()}}])}(),function(){"use strict";angular.module("gantt").filter("ganttColumnLimit",["ganttBinarySearch",function(t){var e=function(t){return t.left};return function(n,i){var r=i.scroll.getScrollLeft(),o=i.getWidth()-i.side.getWidth();if(o>0){var s=t.getIndicesOnly(n,r,e)[0],a=t.getIndicesOnly(n,r+o,e)[1];return n.slice(s,a)}return n.slice()}}])}(),function(){"use strict";angular.module("gantt").filter("ganttTaskLimit",[function(){return function(t,e){var n=e.columnsManager.getFirstColumn(),i=e.columnsManager.getLastColumn();if(void 0!==n&&void 0!==i){for(var r=n.date,o=i.endDate,s=[],a=e.scroll.getScrollLeft(),l=e.getWidth()-e.side.getWidth(),u=0,c=t.length;u<c;u++){var d=t[u];d.active?s.push(d):d.model.to>=r&&d.model.from<=o&&(void 0===d.left&&d.updatePosAndSize(),(!l||d.left>=a&&d.left<=a+l||d.left+d.width>=a&&d.left+d.width<=a+l||d.left<a&&d.left+d.width>a+l)&&s.push(d))}return s}return t.splice()}}])}(),function(){"use strict";angular.module("gantt").directive("ganttResizer",["$document","$parse","$timeout","ganttMouseOffset",function(t,e,n,i){return{restrict:"A",require:"^gantt",scope:{targetElement:"=ganttResizer",enabled:"@?ganttResizerEnabled"},link:function(r,o,s,a){function l(){return a.gantt.options.value(s.resizerWidth)}function u(t){t!==l()&&(a.gantt.options.set(s.resizerWidth,t),void 0!==g&&p[g].raise.resize(t),n(function(){a.gantt.columnsManager.updateColumnsMeta()}))}function c(t){t.preventDefault(),u(void 0)}function d(t){r.$evalAsync(function(){var e=i.getOffsetForElement(r.targetElement[0],t),n=a.gantt.getWidth()-a.gantt.scroll.getBordersWidth();u(Math.min(Math.max(e.x,0),n))})}function h(){void 0!==g&&p[g].raise.resizeEnd(l()),t.unbind("mousemove",d),t.unbind("mouseup",h)}function f(e){e.preventDefault(),void 0!==g&&p[g].raise.resizeBegin(l()),t.on("mousemove",d),t.on("mouseup",h)}var p=a.gantt.api,g=s.ganttResizerEventTopic;void 0===r.enabled&&(r.enabled=!0),s.$observe("ganttResizerEnabled",function(t){r.enabled=e(t)()}),r.$watch("enabled",function(t){void 0===t&&(t=!0),o.toggleClass("gantt-resizer-enabled",t),t?(o.on("dblclick",c),o.on("mousedown",f)):(o.off("dblclick",c),o.off("mousedown",f))}),r.$watch(function(){return l()},function(t,e){t!==e&&(r.targetElement.css("width",t+"px"),r.targetElement[0].offsetWidth>0&&u(r.targetElement[0].offsetWidth))}),g&&(p.registerEvent(g,"resize"),p.registerEvent(g,"resizeBegin"),p.registerEvent(g,"resizeEnd"),p.registerMethod(g,"setWidth",u,this),p.registerMethod(g,"getWidth",l,this))}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttHorizontalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,i){i.registerHorizontalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollable",["GanttDirectiveBuilder","$timeout","ganttDebounce","moment",function(t,e,n,i){var r=new t("ganttScrollable");return r.controller=function(t,r){t.gantt.scroll.$element=r;var o,s,a=function(e,n,r){var o=t.gantt.options.value("autoExpand");if("both"===o||!0===o||o===r){var s,a,l=t.gantt.options.value("viewScale");"s"===(l=l.trim()).charAt(l.length-1)&&(l=l.substring(0,l.length-1));var u,c,d;l&&(d=l.split(" ")),d&&d.length>1?(u=parseFloat(d[0]),c=d[d.length-1]):(u=1,c=l),"left"===r?(s=i(n).add(-5*u,c),t.fromDate=s):(a=i(n).add(5*u,c),t.toDate=a),t.gantt.api.scroll.raise.scroll(e.scrollLeft,n,r)}};r.bind("scroll",n(function(){var n,i,l=r[0],u=l.scrollLeft;t.gantt.scroll.cachedScrollLeft=u,t.gantt.columnsManager.updateVisibleColumns(),t.gantt.rowsManager.updateVisibleObjects(),u<o&&0===u?(n="left",i=t.gantt.columnsManager.from):u>o&&l.offsetWidth+u>=l.scrollWidth-1&&(n="right",i=t.gantt.columnsManager.to),o=u,void 0!==i?(s&&e.cancel(s),s=e(function(){a(l,i,n)},300)):t.gantt.api.scroll.raise.scroll(u)},5)),t.getScrollableCss=function(){var e={},n=t.gantt.options.value("maxHeight");n||(n=t.gantt.getContainerHeight()),n>0&&(e["max-height"]=n-t.gantt.header.getHeight()+"px",e["overflow-y"]="auto",t.gantt.scroll.isVScrollbarVisible()&&(e["border-right"]="none"));var i=this.gantt.options.value("columnWidth"),r=0!==t.gantt.width&&t.gantt.width<t.gantt.getWidth()-t.gantt.side.getWidth();return void 0!==i&&r&&(e.width=t.gantt.width+this.gantt.scroll.getBordersWidth()+"px"),e}},r.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollManager",function(){return{restrict:"A",scope:{},controller:["$scope",function(t){t.horizontal=[],t.vertical=[],this.registerVerticalReceiver=function(e){e.css("position","relative"),t.vertical.push(e[0])},this.registerHorizontalReceiver=function(e){e.css("position","relative"),t.horizontal.push(e[0])},this.getHorizontalRecievers=function(){return t.horizontal},this.getVerticalRecievers=function(){return t.vertical}}]}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollSender",[function(){return{restrict:"A",require:["^gantt","^ganttScrollManager"],link:function(t,e,n,i){var r=e[0],o=function(){var t,e,n=i[1].getVerticalRecievers();for(t=0,e=n.length;t<e;t++){var o=n[t];o.parentNode.scrollTop!==r.scrollTop&&(o.parentNode.scrollTop=r.scrollTop)}var s=i[1].getHorizontalRecievers();for(t=0,e=s.length;t<e;t++){var a=s[t];a.parentNode.scrollLeft!==r.scrollLeft&&(a.parentNode.scrollLeft=r.scrollLeft)}};e.bind("scroll",o),t.$watch(function(){return i[0].gantt.width},function(t,e){if(t!==e)for(var n=i[1].getHorizontalRecievers(),r=0,o=n.length;r<o;r++)n[r].style.width=t+"px"})}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttVerticalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,i){i.registerVerticalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttContainerHeightListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttContainerHeightListener;""===i&&(i="ganttContainerHeight");for(var r=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),r=r.$parent;r.$watch(function(){var t=e[0].parentElement?e[0].parentElement.parentElement:void 0;if(t){var n=t.offsetHeight,i=getComputedStyle(t);return n=n-parseInt(i.marginTop)-parseInt(i.marginBottom)}return 0},function(t){t>0&&(r[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttContainerWidthListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttContainerWidthListener;""===i&&(i="ganttContainerWidth");for(var r=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),r=r.$parent;r.$watch(function(){var t=e[0].parentElement?e[0].parentElement.parentElement:void 0;if(t){var n=t.offsetWidth,i=getComputedStyle(t);return n=n-parseInt(i.marginLeft)-parseInt(i.marginRight)}return 0},function(t){t>0&&(r[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttElementHeightListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttElementHeightListener;""===i&&(i="ganttElementHeight");for(var r=e[0],o=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),o=o.$parent;o.$watch(function(){return r.clientHeight},function(t){t>0&&(o[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttElementWidthListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttElementWidthListener;""===i&&(i="ganttElementWidth");for(var r=e[0],o=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),o=o.$parent;o.$watch(function(){return r.clientWidth},function(t){t>0&&(o[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttBody",["GanttDirectiveBuilder",function(t){var e=new t("ganttBody");return e.controller=function(t,e){t.gantt.body.$element=e,t.gantt.body.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyBackground");return e.controller=function(t,e){t.gantt.body.background.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyColumns");return e.controller=function(t,e){t.gantt.body.columns.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyForeground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyForeground");return e.controller=function(t,e){t.gantt.body.foreground.$element=e,t.gantt.body.foreground.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyRows",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyRows");return e.controller=function(t,e){t.gantt.body.rows.$element=e,t.gantt.body.rows.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumn",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumn");return e.controller=function(t,e){t.column.$element=e,t.column.$scope=t,t.column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumnHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumnHeader");return e.controller=function(t,e){t.column.$element=e,t.column.$scope=t,t.column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeader");return e.controller=function(t,e){t.gantt.header.$element=e,t.gantt.header.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeaderColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeaderColumns");return e.controller=function(t,e){t.gantt.header.columns.$element=e,t.gantt.header.columns.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRow",["GanttDirectiveBuilder",function(t){var e=new t("ganttRow");return e.controller=function(t,e){t.row.$element=e,t.row.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowBackground",["GanttDirectiveBuilder",function(t){return new t("ganttRowBackground").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollableHeader",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttScrollableHeader");return n.controller=function(t){var n=e.getScrollBarWidth();t.getScrollableHeaderCss=function(){var e={},i=t.gantt.scroll.isVScrollbarVisible(),r=i?n:0,o=this.gantt.options.value("columnWidth"),s=0!==t.gantt.width&&t.gantt.width<t.gantt.getWidth()-t.gantt.side.getWidth();return void 0!==o&&s?e.width=t.gantt.width-r+this.gantt.scroll.getBordersWidth()+"px":i&&(e.width=t.gantt.getWidth()-t.gantt.side.getWidth()-r+"px"),e}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSide",["GanttDirectiveBuilder",function(t){var e=new t("ganttSide");return e.controller=function(t,e){t.gantt.side.$element=e,t.gantt.side.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideBackground",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideBackground");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={},i=t.maxHeight;i||(i=t.gantt.getContainerHeight());var r=t.gantt.scroll.isHScrollbarVisible()?n:0;return e["max-height"]=i-r-t.gantt.header.getHeight()+"px",e}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideContent",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContent");return n.controller=function(t){var n=e.getScrollBarHeight();t.getSideCss=function(){var e={},i=t.maxHeight;i||(i=t.gantt.getContainerHeight());var r=t.gantt.scroll.isHScrollbarVisible()?n:0;return e["max-height"]=i-r+"px",e}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTask",["GanttDirectiveBuilder","moment",function(t,e){var n=new t("ganttTask");return n.controller=function(t,n){t.task.$element=n,t.task.$scope=t,t.getTaskContent=function(){return void 0!==t.task.model.content?t.task.model.content:t.task.rowsManager.gantt.options.value("taskContent")},t.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.from)","simplifyMoment(task.model.to)"],function(){t.task.updatePosAndSize()})},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskBackground",["GanttDirectiveBuilder",function(t){return new t("ganttTaskBackground").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskContent",["GanttDirectiveBuilder",function(t){return new t("ganttTaskContent").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskForeground",["GanttDirectiveBuilder",function(t){return new t("ganttTaskForeground").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimeFrame",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimeFrame");return e.controller=function(t,e){t.timeFrame.$element=e,t.timeFrame.$scope=t,t.timeFrame.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimespan",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimespan");return e.controller=function(t,e){t.timespan.$element=e,t.timespan.$scope=t,t.timespan.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").factory("ganttDebounce",["$timeout",function(t){function e(e,n,i){var r=0;return function(){var o=this,s=arguments,a=function(t){return function(){if(t===r)return e.apply(o,s)}}(++r);return t(a,n,void 0===i||i)}}return e}])}(),function(){"use strict";angular.module("gantt").service("GanttDirectiveBuilder",["$templateCache",function(t){return function(e,n,i,r){var o=this;this.directiveName=e,this.templateUrl=void 0===n?"template/"+e+".tmpl.html":n,this.require=void 0===i?"^gantt":i,this.restrict=void 0===r?"E":r,this.scope=!1,this.transclude=!0,this.replace=!0,this.build=function(){var e=o.directiveName,n=o.templateUrl,i=o.controller,r={restrict:o.restrict,require:o.require,transclude:o.transclude,replace:o.replace,scope:o.scope,templateUrl:function(e,i){return void 0!==i.templateUrl&&(n=i.templateUrl),void 0!==i.template&&t.put(n,i.template),n},compile:function(){return{pre:function(t,n,i,r){t.gantt.api.directives.raise.preLink(e,t,n,i,r)},post:function(t,n,i,r){t.gantt.api.directives.raise.postLink(e,t,n,i,r)}}},controller:["$scope","$element","$attrs",function(t,n,r){var o=this;void 0!==i&&i(t,n,r,o),t.gantt.api.directives.raise.controller(e,t,n,r,o),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy(e,t,n,r,o)}),t.$applyAsync(function(){t.gantt.api.directives.raise.new(e,t,n,r,o)})}]};return n||(delete r.templateUrl,delete r.replace,delete r.transclude),r}}}])}(),function(){"use strict";angular.module("gantt").service("ganttDom",["$document",function(t){return{elementFromPoint:function(e,n){return t[0].elementFromPoint(e,n)},elementsFromPoint:function(t,e,n){for(var i,r,o,s,a=[],l=[],u=0;(i=this.elementFromPoint(t,e))&&-1===a.indexOf(i)&&null!==i&&(void 0===n||u<n);)a.push(i),l.push({value:i.style.getPropertyValue("visibility"),priority:i.style.getPropertyPriority("visibility")}),i.style.setProperty("visibility","hidden","important"),u++;for(r=0,o=l.length;r<o;r++)s=l[r],a[r].style.setProperty("visibility",s.value?s.value:"",s.priority);return a},findElementFromPoint:function(t,e,n){for(var i,r,o,s,a,l=[],u=[],c=0;(i=this.elementFromPoint(t,e))&&-1===l.indexOf(i)&&null!==i;)if(l.push(i),u.push({value:i.style.getPropertyValue("visibility"),priority:i.style.getPropertyPriority("visibility")}),i.style.setProperty("visibility","hidden","important"),c++,n(i)){r=i;break}for(o=0,s=u.length;o<s;o++)a=u[o],l[o].style.setProperty("visibility",a.value?a.value:"",a.priority);return r},isElementVisible:function(t){return void 0!==t.offsetParent&&null!==t.offsetParent}}}])}(),function(){"use strict";angular.module("gantt").service("ganttEnableNgAnimate",["$injector",function(t){var e;try{e=t.get("$animate")}catch(t){}return void 0!==e?function(t,n){angular.version.major>=1&&angular.version.minor>=4?e.enabled(t,n):e.enabled(n,t)}:angular.noop}])}(),function(){"use strict";angular.module("gantt").directive("ganttBindCompileHtml",["$compile",function(t){return{restrict:"A",require:"^gantt",link:function(e,n,i,r){e.scope=r.gantt.$scope.$parent,e.$watch(function(){return e.$eval(i.ganttBindCompileHtml)},function(i){n.html(i),t(n.contents())(e)})}}}])}(),function(){"use strict";angular.module("gantt").service("ganttLayout",["$document",function(t){return{getScrollBarWidth:function(){var e=t[0].createElement("p");e.style.width="100%",e.style.height="200px";var n=t[0].createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(e),t[0].body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var r=e.offsetWidth;return i===r&&(r=n.clientWidth),t[0].body.removeChild(n),i-r},getScrollBarHeight:function(){var e=t[0].createElement("p");e.style.width="200px;",e.style.height="100%";var n=t[0].createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="150px",n.style.height="200px",n.style.overflow="hidden",n.appendChild(e),t[0].body.appendChild(n);var i=e.offsetHeight;n.style.overflow="scroll";var r=e.offsetHeight;return i===r&&(r=n.clientHeight),t[0].body.removeChild(n),i-r},setColumnsWidthFactor:function(t,e,n){if(t){n||(n=0);for(var i=0;i<t.length;i++){var r=t[i];r.left=e*(r.originalSize.left+n)-n,r.width=e*r.originalSize.width;for(var o=0;o<r.timeFrames.length;o++){var s=r.timeFrames[o];s.left=e*s.originalSize.left,s.width=e*s.originalSize.width}}}}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseButton",[function(){return{getButton:function(t){return t=t||window.event,t.which?t.which:void 0===t.button?1:t.button<2?1:4===t.button?2:3}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseOffset",[function(){return{getTouch:function(t){return void 0!==t.touches?t.touches[0]:t},getOffset:function(t){return t.offsetX&&t.offsetY?{x:t.offsetX,y:t.offsetY}:t.layerX&&t.layerY?{x:t.layerX,y:t.layerY}:this.getOffsetForElement(t.target,t)},getOffsetForElement:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}}])}(),function(){"use strict";angular.module("gantt").factory("ganttSmartEvent",[function(){function t(t,e,n,i){return t.$on("$destroy",function(){e.unbind(n,i)}),{bindOnce:function(){e.one(n,i)},bind:function(){e.bind(n,i)},unbind:function(){e.unbind(n,i)}}}return t}])}(),angular.module("gantt.templates",[]).run(["$templateCache",function(t){t.put("template/gantt.tmpl.html",'<div class="gantt unselectable" ng-cloak gantt-scroll-manager\n     gantt-container-height-listener="ganttContainerHeight"\n     gantt-container-width-listener="ganttContainerWidth"\n     gantt-element-height-listener="ganttElementHeight"\n     gantt-element-width-listener="ganttElementWidth">\n    <gantt-side>\n        <gantt-side-background>\n        </gantt-side-background>\n        <gantt-side-content>\n        </gantt-side-content>\n        <div gantt-resizer="gantt.side.$element" gantt-resizer-event-topic="side" gantt-resizer-enabled="{{$parent.gantt.options.value(\'allowSideResizing\')}}" resizer-width="sideWidth" class="gantt-resizer">\n            <div ng-show="$parent.gantt.options.value(\'allowSideResizing\')" class="gantt-resizer-display"></div>\n        </div>\n    </gantt-side>\n    <gantt-scrollable-header>\n        <gantt-header gantt-element-height-listener="$parent.ganttHeaderHeight">\n            <gantt-header-columns>\n                <div ng-repeat="header in gantt.columnsManager.visibleHeaders track by $index">\n                    <div class="gantt-header-row" ng-class="{\'gantt-header-row-last\': $last, \'gantt-header-row-first\': $first}">\n                        <gantt-column-header ng-repeat="column in header"></gantt-column-header>\n                    </div>\n                </div>\n            </gantt-header-columns>\n        </gantt-header>\n    </gantt-scrollable-header>\n    <gantt-scrollable>\n        <gantt-body>\n            <gantt-body-background>\n                <gantt-row-background ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"></gantt-row-background>\n            </gantt-body-background>\n            <gantt-body-foreground>\n                <div class="gantt-current-date-line" ng-show="currentDate === \'line\' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width" ng-style="{\'left\': gantt.currentDateManager.position + \'px\' }"></div>\n            </gantt-body-foreground>\n            <gantt-body-columns>\n                <gantt-column ng-repeat="column in gantt.columnsManager.visibleColumns">\n                    <gantt-time-frame ng-repeat="timeFrame in column.visibleTimeFrames"></gantt-time-frame>\n                </gantt-column>\n            </gantt-body-columns>\n            <div ng-if="gantt.columnsManager.visibleColumns == 0" style="background-color: #808080"></div>\n            <gantt-body-rows>\n                <gantt-timespan ng-repeat="timespan in gantt.timespansManager.timespans track by timespan.model.id"></gantt-timespan>\n                <gantt-row ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                    <gantt-task ng-repeat="task in row.visibleTasks track by task.model.id">\n                    </gantt-task>\n                </gantt-row>\n            </gantt-body-rows>\n        </gantt-body>\n    </gantt-scrollable>\n\n    \x3c!-- Plugins --\x3e\n    <ng-transclude></ng-transclude>\n\n    \x3c!--\n    ******* Inline templates *******\n    You can specify your own templates by either changing the default ones below or by\n    adding an attribute template-url="<url to your template>" on the specific element.\n    --\x3e\n\n    \x3c!-- Body template --\x3e\n    <script type="text/ng-template" id="template/ganttBody.tmpl.html">\n        <div ng-transclude class="gantt-body" ng-style="{\'width\': gantt.width > 0 ? gantt.width +\'px\' : undefined}"></div>\n    <\/script>\n\n    \x3c!-- Header template --\x3e\n    <script type="text/ng-template" id="template/ganttHeader.tmpl.html">\n        <div ng-transclude class="gantt-header"\n             ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"></div>\n    <\/script>\n\n    \x3c!-- Side template --\x3e\n    <script type="text/ng-template" id="template/ganttSide.tmpl.html">\n        <div ng-transclude class="gantt-side" style="width: auto;"></div>\n    <\/script>\n\n    \x3c!-- Side content template--\x3e\n    <script type="text/ng-template" id="template/ganttSideContent.tmpl.html">\n        <div class="gantt-side-content" ng-style="getSideCss()">\n        </div>\n    <\/script>\n\n    \x3c!-- Header columns template --\x3e\n    <script type="text/ng-template" id="template/ganttHeaderColumns.tmpl.html">\n        <div ng-transclude class="gantt-header-columns"\n              gantt-horizontal-scroll-receiver></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttColumnHeader.tmpl.html">\n        <div class="gantt-column-header" ng-class="{\'gantt-column-header-last\': $last, \'gantt-column-header-first\': $first}">{{::column.label}}</div>\n    <\/script>\n\n    \x3c!-- Body background template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyBackground.tmpl.html">\n        <div ng-transclude class="gantt-body-background"></div>\n    <\/script>\n\n    \x3c!-- Body foreground template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyForeground.tmpl.html">\n        <div ng-transclude class="gantt-body-foreground"></div>\n    <\/script>\n\n    \x3c!-- Body columns template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyColumns.tmpl.html">\n        <div ng-transclude class="gantt-body-columns"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttColumn.tmpl.html">\n        <div ng-transclude class="gantt-column gantt-foreground-col" ng-class="{\'gantt-column-last\': $last, \'gantt-column-first\': $first}"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttTimeFrame.tmpl.html">\n        <div class="gantt-timeframe"></div>\n    <\/script>\n\n    \x3c!-- Scrollable template --\x3e\n    <script type="text/ng-template" id="template/ganttScrollable.tmpl.html">\n        <div ng-transclude class="gantt-scrollable" gantt-scroll-sender ng-style="getScrollableCss()"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttScrollableHeader.tmpl.html">\n        <div ng-transclude class="gantt-scrollable-header" ng-style="getScrollableHeaderCss()"></div>\n    <\/script>\n\n    \x3c!-- Rows template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyRows.tmpl.html">\n        <div ng-transclude class="gantt-body-rows"></div>\n    <\/script>\n\n    \x3c!-- Timespan template --\x3e\n    <script type="text/ng-template" id="template/ganttTimespan.tmpl.html">\n        <div class="gantt-timespan" ng-class="timespan.model.classes">\n        </div>\n    <\/script>\n\n    \x3c!-- Task template --\x3e\n    <script type="text/ng-template" id="template/ganttTask.tmpl.html">\n        <div class="gantt-task" ng-class="task.model.classes">\n            <gantt-task-background></gantt-task-background>\n            <gantt-task-foreground></gantt-task-foreground>\n            <gantt-task-content></gantt-task-content>\n        </div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttTaskBackground.tmpl.html">\n        <div class="gantt-task-background" ng-style="{\'background-color\': task.model.color}"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttTaskForeground.tmpl.html">\n        <div class="gantt-task-foreground">\n            <div ng-if="task.truncatedRight" class="gantt-task-truncated-right" ng-style="{\'padding-right\': task.truncatedRightOffset + \'px\'}">&gt;</div>\n            <div ng-if="task.truncatedLeft" class="gantt-task-truncated-left" ng-style="{\'padding-left\': task.truncatedLeftOffset + \'px\'}">&lt;</div>\n        </div>\n    <\/script>\n\n    \x3c!-- Task content template --\x3e\n    <script type="text/ng-template" id="template/ganttTaskContent.tmpl.html">\n        <div class="gantt-task-content" unselectable="on"><span unselectable="on" gantt-bind-compile-html="getTaskContent()"/></div>\n    <\/script>\n\n\n    \x3c!-- Row background template --\x3e\n    <script type="text/ng-template" id="template/ganttRowBackground.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div class="gantt-row-background"\n                 ng-style="{\'background-color\': row.model.color}">\n            </div>\n        </div>\n    <\/script>\n\n    \x3c!-- Row template --\x3e\n    <script type="text/ng-template" id="template/ganttRow.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div ng-transclude class="gantt-row-content"></div>\n        </div>\n    <\/script>\n\n    \x3c!-- Side background template --\x3e\n    <script type="text/ng-template" id="template/ganttSideBackground.tmpl.html">\n        <div class="gantt-side-background">\n            <div class="gantt-side-background-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n                <div ng-show="$parent.ganttHeaderHeight" class="gantt-header-row gantt-side-header-row"></div>\n            </div>\n            <div class="gantt-side-background-body" ng-style="getMaxHeightCss()">\n                <div gantt-vertical-scroll-receiver>\n                    <div class="gantt-row gantt-row-height "\n                         ng-class-odd="\'gantt-row-odd\'"\n                         ng-class-even="\'gantt-row-even\'"\n                         ng-class="row.model.classes"\n                         ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"\n                         ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-row-label gantt-row-background"\n                             ng-style="{\'background-color\': row.model.color}">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <\/script>\n</div>\n')}]),function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(i,r,o,s){var a=s.gantt.api;if(i.options&&"object"==typeof i.options.bounds)for(var l in i.options.bounds)i[l]=i.options.bounds[l];void 0===i.enabled&&(i.enabled=!0),a.directives.on.new(i,function(t,r,s){if("ganttTask"===t){var a=r.$new();a.pluginScope=i;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var u=n[0].createElement("gantt-task-bounds");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),s.append(e(l)(a))}}),a.tasks.on.clean(i,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.corner",["gantt","gantt.corner.templates"]).directive("ganttCorner",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",headersLabels:"=?",headersLabelsTemplates:"=?"},link:function(t,i,r,o){var s=o.gantt.api;if(t.options&&"object"==typeof t.options.corner)for(var a in t.options.corner)t[a]=t.options.corner[a];void 0===t.enabled&&(t.enabled=!0),s.directives.on.new(t,function(i,r,o){if("ganttSideBackground"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("gantt-corner-area");var l=n[0].createElement("gantt-corner-area");angular.element(a).append(l),o[0].parentNode.insertBefore(e(a)(s)[0],o[0].nextSibling)}})}}}])}(),function(){"use strict";angular.module("gantt.dependencies",["gantt","gantt.dependencies.templates"]).directive("ganttDependencies",["$timeout","$document","ganttDebounce","GanttDependenciesManager","GanttDependenciesChecker",function(t,e,n,i,r){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",readOnly:"=?",jsPlumbDefaults:"=?",endpoints:"=?",fallbackEndpoints:"=?",conflictChecker:"=?"},link:function(t,e,o,s){function a(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint arrow-right"></span></span>')}function l(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint arrow-right"></span></span>')}function u(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint fallback-endpoint"></span></span>')}function c(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint fallback-endpoint"></span></span>')}var d=s.gantt.api;if(t.options&&"object"==typeof t.options.dependencies)for(var h in t.options.dependencies)t[h]=t.options.dependencies[h];void 0===t.enabled&&(t.enabled=!0),void 0===t.readOnly&&(t.readOnly=!1),void 0===t.jsPlumbDefaults&&(t.jsPlumbDefaults={Endpoint:["Dot",{radius:4}],EndpointStyle:{fillStyle:"#456",strokeStyle:"#456",lineWidth:1},PaintStyle:{strokeWidth:3,stroke:"rgb(68, 85, 102)"},Connector:"Flowchart",ConnectionOverlays:[["Arrow",{location:1,length:12,width:12}]]}),void 0===t.endpoints&&(t.endpoints=[{anchor:"Left",isSource:!1,isTarget:!0,maxConnections:-1,cssClass:"gantt-endpoint start-endpoint target-endpoint",overlays:[["Custom",{create:a}]]},{anchor:"Right",isSource:!0,isTarget:!1,maxConnections:-1,cssClass:"gantt-endpoint end-endpoint source-endpoint",overlays:[["Custom",{create:l}]]}]),void 0===t.fallbackEndpoints&&(t.fallbackEndpoints=[{endpoint:"Blank",anchor:"Left",isSource:!1,isTarget:!0,maxConnections:0,cssClass:"gantt-endpoint start-endpoint fallback-endpoint",overlays:[["Custom",{create:u}]]},{endpoint:"Blank",anchor:"Right",isSource:!0,isTarget:!1,maxConnections:0,cssClass:"gantt-endpoint end-endpoint fallback-endpoint",overlays:[["Custom",{create:c}]]}]),void 0===t.conflictChecker&&(t.conflictChecker=!1);var f=new i(s.gantt,t,d),p=new r(f,t,d);t.$watchGroup(["conflictChecker","enabled"],function(e,n){if(e!==n){for(var i=s.gantt.rowsManager.rows,r=[],o=0;o<i.length;o++)r.push.apply(r,i[o].tasks);t.conflictChecker&&t.enabled?p.refresh(r):p.clear(r)}}),d.directives.on.new(t,function(t,e,n){"ganttBody"===t&&f.plumb.setContainer(n)}),d.tasks.on.add(t,function(t){f.addDependenciesFromTask(t,!0)}),d.tasks.on.remove(t,function(t){f.removeDependenciesFromTask(t)}),d.tasks.on.displayed(t,n(function(e){f.setTasks(e),f.refresh(),t.conflictChecker&&t.enabled&&p.refresh(e)})),d.rows.on.displayed(t,function(){f.refresh()}),d.tasks.on.viewChange(t,function(e){e.$element&&f.plumb.revalidate(e.$element[0]),t.conflictChecker&&t.enabled&&p.refresh([e])}),d.tasks.on.viewRowChange(t,function(e){f.setTask(e),t.conflictChecker&&t.enabled&&p.refresh([e])}),d.dependencies.on.add(t,function(e){t.conflictChecker&&t.enabled&&p.refresh([e.getFromTask(),e.getToTask()])}),d.dependencies.on.change(t,function(e){t.conflictChecker&&t.enabled&&p.refresh([e.getFromTask(),e.getToTask()])}),d.dependencies.on.remove(t,function(e){if(t.conflictChecker&&t.enabled){var n=e.getFromTask(),i=e.getToTask();n&&i?p.refresh([n,i]):n?p.removeConflictClass(n):p.removeConflictClass(i)}})}}}])}(),function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","ganttUtils","moment",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskFactory:"=?"},link:function(r,o,s,a){var l=a.gantt.api;if(r.options&&"object"==typeof r.options.drawtask)for(var u in r.options.drawtask)r[u]=r.options.drawtask[u];void 0===r.enabled&&(r.enabled=!0),void 0===r.moveThreshold&&(r.moveThreshold=0),void 0===r.taskFactory&&(r.taskFactory=function(){return{}}),l.registerEvent("tasks","draw"),l.registerEvent("tasks","drawBegin"),l.registerEvent("tasks","drawEnd");var c=function(t){return t.model.drawTask&&angular.isFunction(t.model.drawTask.taskFactory)?t.model.drawTask.taskFactory():r.taskFactory()};l.directives.on.new(r,function(o,s,a){if("ganttRow"===o){var u=function(t){var e=l.core.getDateByPosition(t,!0),n=i(e),r=c(s.row);r.from=e,r.to=n;var o=s.row.addTask(r);return o.isResizing=!0,o.updatePosAndSize(),s.row.updateVisibleTasks(),s.row.$scope.$digest(),o},d=function(e){var n=function(){s.row.rowsManager.gantt.api.tasks.raise.draw(e)};s.row.rowsManager.gantt.api.tasks.raise.drawBegin(e),t.on("mousemove",n),t.one("mouseup",function(){s.row.rowsManager.gantt.api.tasks.raise.drawEnd(e),t.off("mousemove",n)})},h=function(n){var i=function(t){var o=e.getOffset(t).x;if(Math.abs(n-o)>=r.moveThreshold){a.off("mousemove",i);var s=u(n);d(s)}};a.on("mousemove",i),t.one("mouseup",function(){a.off("mousemove",i)})},f=function(t){var i=t.target?t.target:t.srcElement,o=s.row.model.drawTask;("boolean"==typeof o||angular.isFunction(o))&&(o={enabled:o});var a=n.firstProperty([o],"enabled",r.enabled);if((angular.isFunction(a)?a(t,s.row):a)&&i.className.indexOf("gantt-row")>-1){var l=e.getOffset(t).x;if(0===r.moveThreshold){var c=u(l);d(c)}else h(l)}};a.on("mousedown",f),s.drawTaskHandler=f}}),l.directives.on.destroy(r,function(t,e,n){"ganttRow"===t&&(n.off("mousedown",e.drawTaskHandler),delete e.drawTaskHandler)})}}}])}(),function(){"use strict";angular.module("gantt.groups",["gantt","gantt.groups.templates"]).directive("ganttGroups",["ganttUtils","GanttHierarchy","$compile","$document",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(t,r,o,s){function a(){t.hierarchy.refresh(s.gantt.rowsManager.filteredRows)}var l=s.gantt.api;if(t.options&&"object"==typeof t.options.groups)for(var u in t.options.groups)t[u]=t.options.groups[u];void 0===t.enabled&&(t.enabled=!0),void 0===t.display&&(t.display="group"),t.hierarchy=new e,s.gantt.api.registerMethod("groups","refresh",a,this),s.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){a()}),l.directives.on.new(t,function(e,r,s){if("ganttRow"===e){var a=r.$new();a.pluginScope=t;var l=i[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=i[0].createElement("gantt-task-group");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),s.append(n(l)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.labels",["gantt","gantt.labels.templates"]).directive("ganttLabels",["ganttUtils","$compile","$document","$log",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(t,r,o,s){function a(){for(var t=s.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),e=0,n=0;n<t.length;n++){var i=t[n].children[0].offsetWidth;e=Math.max(e,i)}e>=0&&l.side.setWidth(e)}var l=s.gantt.api;if(i.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),t.options&&"object"==typeof t.options.labels)for(var u in t.options.labels)t[u]=t.options.labels[u];void 0===t.enabled&&(t.enabled=!0),void 0===t.header&&(t.header="Name"),l.directives.on.new(t,function(i,r,o){if("ganttSideContent"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("side-element");var l=n[0].createElement("gantt-side-content-labels");angular.element(a).append(l),o.append(e(a)(s))}}),l.registerMethod("labels","fitSideWidth",a,this)}}}])}(),function(){"use strict";angular.module("gantt.movable",["gantt"]).directive("ganttMovable",["ganttMouseButton","ganttMouseOffset","ganttSmartEvent","ganttMovableOptions","ganttUtils","ganttDom","$window","$document","$timeout",function(t,e,n,i,r,o,s,a,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function(u,c,d,h){var f=h.gantt.api;if(u.options&&"object"==typeof u.options.movable)for(var p in u.options.movable)u[p]=u.options.movable[p];i.initialize(u),f.registerEvent("tasks","move"),f.registerEvent("tasks","moveBegin"),f.registerEvent("tasks","moveEnd"),f.registerEvent("tasks","resize"),f.registerEvent("tasks","resizeBegin"),f.registerEvent("tasks","resizeEnd"),f.registerEvent("tasks","change");var g,m,v="ontouchstart"in s||s.DocumentTouch&&a[0]instanceof s.DocumentTouch;f.directives.on.new(u,function(i,c,d){if("ganttTask"===i){var f,p=angular.element(s),y=c.row.rowsManager.gantt.body.$element,b=c.row.rowsManager.gantt.scroll.$element,w=!1,$=!1,x=c.task.getForegroundElement(),C=c.task.getContentElement(),k=function(n){n.preventDefault(),v&&(n=e.getTouch(n));var i=c.task.model.movable,o=c.task.row.model.movable;("boolean"==typeof i||angular.isFunction(i))&&(i={enabled:i}),("boolean"==typeof o||angular.isFunction(o))&&(o={enabled:o});var s=r.firstProperty([i,o],"enabled",u.enabled);if(angular.isFunction(s)?s(n,c.task):s){var a=e.getOffsetForElement(x[0],n).x,l=P(a);if(""!==l&&1===t.getButton(n)){var d=e.getOffsetForElement(y[0],n).x;A(l,d)}c.$digest()}};x.on("touchstart mousedown",k),C.on("touchstart mousedown",k);var S=function(t){var n=c.task.model.movable,i=c.task.row.model.movable;("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n}),("boolean"==typeof i||angular.isFunction(i))&&(i={enabled:i});var o=r.firstProperty([n,i],"enabled",u.enabled);if((angular.isFunction(o)?o(t,c.task):o)&&!c.task.isMoving){var s=e.getOffsetForElement(x[0],t).x,a=P(s);""!==a&&"M"!==a?(x.css("cursor",M(a)),C.css("cursor",M(a))):(x.css("cursor",""),C.css("cursor",""))}};x.on("mousemove",S),C.on("mousemove",S);var E=function(t){c.task.isMoving&&!c.destroyed&&(T(),D(t),_(t))},D=function(t){var n=w,i=e.getOffsetForElement(y[0],t).x;c.task.mouseOffsetX=i;var s=c.task.row.rowsManager.gantt.options.value("taskOutOfRange"),l=c.task.model.movable,d=c.task.row.model.movable;if(("boolean"==typeof l||angular.isFunction(l))&&(l={enabled:l}),("boolean"==typeof d||angular.isFunction(d))&&(d={enabled:d}),"M"===c.task.moveMode){var f=r.firstProperty([l,d],"allowRowSwitching",u.allowRowSwitching);if(f){var p=b[0].getBoundingClientRect(),m=p.left+p.width/2,v=angular.element(a[0].querySelectorAll(".gantt-body"));v.css("pointer-events","auto");var x=o.findElementFromPoint(m,t.clientY,function(t){return angular.element(t).hasClass("gantt-row")});v.css("pointer-events","");for(var C,k=h.gantt.rowsManager.rows,S=0,E=k.length;S<E;S++)if(x===k[S].$element[0]){C=k[S];break}var D=c.task.row;void 0!==C&&D!==C&&(angular.isFunction(f)&&!f(c.task,C)||(C.moveTaskToRow(c.task,!0),w=!0))}r.firstProperty([l,d],"allowMoving",u.allowMoving)&&(i-=g,"truncate"!==s&&(i<0?i=0:i+c.task.width>=c.gantt.width&&(i=c.gantt.width-c.task.width)),c.task.moveTo(i,!0),c.$digest(),w&&c.row.rowsManager.gantt.api.tasks.raise.move(c.task),w=!0)}else"E"===c.task.moveMode?(i<=c.task.left&&(i=c.task.left,c.task.moveMode="W",j(M(c.task.moveMode))),"truncate"!==s&&i>=c.gantt.width&&(i=c.gantt.width),c.task.setTo(i,!0),c.$digest(),w&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),w=!0):(i>c.task.left+c.task.width&&(i=c.task.left+c.task.width,c.task.moveMode="E",j(M(c.task.moveMode))),"truncate"!==s&&i<0&&(i=0),c.task.setFrom(i,!0),c.$digest(),w&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),w=!0);n||!w||$||("M"===c.task.moveMode?c.row.rowsManager.gantt.api.tasks.raise.moveBegin(c.task):c.row.rowsManager.gantt.api.tasks.raise.resizeBegin(c.task))},_=function(t){var n=e.getOffsetForElement(y[0],t),i=b[0].scrollLeft,r=b[0].offsetWidth,o=b[0].scrollWidth,s=i+r,a=!1;n.x<m?i>0&&n.x<=i+5&&(n.x-=15,a=!0,c.row.rowsManager.gantt.api.scroll.left(15)):s<o&&n.x>=s-5&&(n.x+=15,a=!0,c.row.rowsManager.gantt.api.scroll.right(15)),a&&(f=l(function(){E(t)},100,!0))},T=function(){void 0!==f&&(l.cancel(f),f=void 0)},P=function(t){var e=0,n=c.task.model.movable,i=c.task.row.model.movable;"boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof i&&(i={enabled:i});var o=r.firstProperty([n,i],"allowResizing",u.allowResizing),s=r.firstProperty([n,i],"allowRowSwitching",u.allowRowSwitching),a=r.firstProperty([n,i],"allowMoving",u.allowMoving);return o&&(e=x[0].offsetWidth<15?3:5),o&&t>x[0].offsetWidth-e?"E":o&&t<e?"W":(a||s)&&t>=e&&t<=x[0].offsetWidth-e?"M":""},M=function(t){switch(t){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},j=function(t){d.css("cursor",t),angular.element(a[0].body).css({"-moz-user-select":""===t?"":"-moz-none","-webkit-user-select":""===t?"":"none","-ms-user-select":""===t?"":"none","user-select":""===t?"":"none",cursor:t})},A=function(t,i){void 0===c.task.originalModel&&(c.task.originalRow=c.task.row,c.task.originalModel=c.task.model,c.task.model=angular.copy(c.task.originalModel)),$||(m=i,g=i-c.task.modelLeft),w=!1,c.task.moveMode=t,c.task.isMoving=!0,c.task.active=!0;var r=c.task.$element;"M"===c.task.moveMode?r.addClass("gantt-task-resizing"):r.addClass("gantt-task-moving");var o=n(c,p,"touchmove mousemove",function(t){t.stopImmediatePropagation(),v&&(t=e.getTouch(t)),E(t)});o.bind(),n(c,p,"touchend mouseup",function(t){v&&(t=e.getTouch(t)),o.unbind(),O(t),c.$digest()}).bindOnce(),j(M(t))},O=function(){if(void 0!==c.task.originalModel){if(c.task.originalModel.from=c.task.model.from,c.task.originalModel.to=c.task.model.to,c.task.originalModel.lct=c.task.model.lct,c.task.originalModel.est=c.task.model.est,c.task.model=c.task.originalModel,c.task.row.model.id!==c.task.originalRow.model.id){var t=c.task.row;t.removeTask(c.task.model.id,!1,!0),c.task.row=c.task.originalRow,t.moveTaskToRow(c.task,!1)}delete c.task.originalModel,delete c.task.originalRow,c.$apply()}$=!1,c.task.isMoving=!1,c.task.active=!1;var e=c.task.$element;e.removeClass("gantt-task-moving"),e.removeClass("gantt-task-resizing"),T(),j(""),!0===w&&("M"===c.task.moveMode?c.row.rowsManager.gantt.api.tasks.raise.moveEnd(c.task):c.row.rowsManager.gantt.api.tasks.raise.resizeEnd(c.task),w=!1,c.task.row.sortTasks(),c.row.rowsManager.gantt.api.tasks.raise.change(c.task)),c.task.moveMode=void 0};c.$on("$destroy",function(){c.destroyed=!0,T()}),c.task.isResizing?($=!0,A("E",c.task.mouseOffsetX),delete c.task.isResizing):c.task.isMoving&&($=!0,A("M",c.task.mouseOffsetX))}})}}}])}(),function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment","$timeout",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(n,i,r,o){function s(t){var e,n;return t.model.from.isBefore(t.model.to)?(e=t.model.from,n=t.model.to):(e=t.model.to,n=t.model.from),[e,n]}function a(e){var n=s(e);return t().range(n[0],n[1])}function l(t,e){e.model.id in t||!e.$element||(e.$element.addClass("gantt-task-overlaps"),t[e.model.id]=e)}function u(t,e){for(var n=0,i=e.length;n<i;n++){var r=e[n];r.model.id in t||!r.$element||r.$element.removeClass("gantt-task-overlaps")}}function c(t){var e={};if(t.length>1)for(var n=t[0],i=a(n),r=1,o=t.length;r<o;r++){var s=t[r],c=a(s);c.overlaps(i)&&(l(e,s),l(e,n)),n.left+n.width<s.left+s.width&&(n=s,i=c)}u(e,t)}function d(t,e){return t.sort(function(t,n){return e(t)<e(n)?-1:e(t)>e(n)?1:0})}function h(t){for(var e=[],n=0;n<t.length;n++)e.push.apply(e,t[n].tasks);c(e=d(e,function(t){return t.model.from}))}var f=o.gantt.api;if(n.options&&"object"==typeof n.options.overlap)for(var p in n.options.overlap)n[p]=n.options.overlap[p];void 0===n.enabled&&(n.enabled=!0),void 0===n.global&&(n.global=!1),n.enabled&&(f.data.on.change(n,function(){e(function(){var t=f.gantt.rowsManager.rows;if(n.global)h(t);else for(var e=0;e<t.length;e++)c(t[e].tasks)})}),f.tasks.on.change(n,function(t){n.global?h(t.row.rowsManager.rows):c(t.row.tasks)}),f.tasks.on.rowChange(n,function(t,e){n.global?h(t.row.rowsManager.rows):(c(e.tasks),c(t.row.tasks))}),f.tasks.on.add(n,function(t){e(function(){n.global?h(t.row.rowsManager.rows):c(t.row.tasks)})}))}}}])}(),function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(i,r,o,s){var a=s.gantt.api;if(i.options&&"object"==typeof i.options.progress)for(var l in i.options.progress)i[l]=i.options.progress[l];void 0===i.enabled&&(i.enabled=!0),a.directives.on.new(i,function(t,r,s){if("ganttTaskBackground"===t){var a=r.$new();a.pluginScope=i;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var u=n[0].createElement("gantt-task-progress");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),s.append(e(l)(a))}}),a.tasks.on.clean(i,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.resizeSensor",["gantt"]).directive("ganttResizeSensor",[function(){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(t,e,n,i){function r(){var t=i.gantt.$element[0];return[new ResizeSensor(t,function(){var e=!1;Math.abs(t.clientWidth-i.gantt.$scope.ganttElementWidth)>1&&(i.gantt.$scope.ganttElementWidth=t.clientWidth,e=!0),Math.abs(t.clientHeight-i.gantt.$scope.ganttElementHeight)>1&&(i.gantt.$scope.ganttElementHeight=t.clientHeight,e=!0),e&&i.gantt.$scope.$apply()}),new ResizeSensor(t.parentElement,function(){var e=t.parentElement,n=e.offsetHeight,r=getComputedStyle(e);n=n-parseInt(r.marginTop)-parseInt(r.marginBottom),i.gantt.$scope.ganttContainerHeight=n;var o=e.offsetWidth;r=getComputedStyle(e),o=o-parseInt(r.marginLeft)-parseInt(r.marginRight),i.gantt.$scope.ganttContainerWidth=o,i.gantt.$scope.$apply()})]}function o(t){for(var e=0;e<t;e++)t[e].detach()}var s=i.gantt.api;if(t.options&&"object"==typeof t.options.resizeSensor)for(var a in t.options.resizeSensor)t[a]=t.options.resizeSensor[a];void 0===t.enabled&&(t.enabled=!0);var l=!1,u=[];s.core.on.rendered(t,function(){l=!0,o(u),t.enabled&&(ElementQueries.update(),u=r())}),t.$watch("enabled",function(t){l&&(t?(ElementQueries.update(),u=r()):t||(o(u),u=[]))})}}}])}(),function(){"use strict";angular.module("gantt.sections",["gantt","gantt.sections.templates"]).directive("ganttSections",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",keepProportions:"=?",disableMagnet:"=?",disableDaily:"=?"},link:function(t,i,r,o){var s=o.gantt.api;if(t.options&&"object"==typeof t.options.sections)for(var a in t.options.sections)t[a]=t.options.sections[a];void 0===t.enabled&&(t.enabled=!0),void 0===t.keepProportions&&(t.keepProportions=!0),s.directives.on.new(t,function(i,o,s){if("ganttTaskForeground"===i){var a=o.$new();a.pluginScope=t,a.task=o.task;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.sections !== undefined && pluginScope.enabled"),angular.element(l).attr("class","gantt-task-foreground-sections");var u=n[0].createElement("gantt-task-sections");void 0!==r.templateUrl&&angular.element(u).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(u).attr("data-template",r.template),angular.element(l).append(u),s.append(e(l)(a))}})}}}])}(),function(){"use strict";for(var t,e=["gantt",{module:"ang-drag-drop",url:"https://github.com/ganarajpr/angular-dragdrop.git#master"}],n=[],i=[],r=0,o=e.length;r<o;r++){var s=e[r];try{angular.isString(s)&&(s={module:s},e[r]=s),angular.module(s.module),i.push(s.module)}catch(t){s.exception=t,n.push(s)}}n.length>0?angular.module("gantt.sortable",[]).directive("ganttSortable",["$log",function(e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(){e.warn("gantt.sortable module can't require some dependencies:");for(var i=0,r=n.length;i<r;i++){var o=(t=n[i]).module;t.url&&(o+=" ("+t.url+")"),t.exception&&t.exception.message&&(o+=": "+t.exception.message),e.warn(o)}e.warn("ganttSortable plugin directive won't be available")}}}]):angular.module("gantt.sortable",i).directive("ganttSortable",["ganttUtils","$compile",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,i,r,o){var s=o.gantt.api;if(n.options&&"object"==typeof n.options.sortable)for(var a in n.options.sortable)n[a]=n.options.sortable[a];void 0===n.enabled&&(n.enabled=!0),s.directives.on.new(n,function(i,r,o){"ganttRowLabel"===i&&void 0===o.attr("drag")&&(r.checkDraggable=function(){var e=r.row.model.sortable;return"boolean"==typeof e&&(e={enabled:e}),t.firstProperty([e],"enabled",n.enabled)},r.onDropSuccess=function(){r.$evalAsync()},r.onDrop=function(t,e){var n=r.row.rowsManager.rowsMap[e.id];n!==r&&(r.row.rowsManager.moveRow(n,r.row),r.$evalAsync())},o.attr("ui-draggable","{{checkDraggable()}}"),o.attr("drag-channel","'sortable'"),o.attr("ui-on-drop","onDrop($event, $data)"),o.attr("on-drop-success","onDropSuccess()"),o.attr("drop-channel","'sortable'"),o.attr("drag","row.model"),e(o)(r))})}}}])}(),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(t,i,r,o){var s=o.gantt.api;if(t.options&&"object"==typeof t.options.table)for(var a in t.options.table)t[a]=t.options.table[a];void 0===t.enabled&&(t.enabled=!0),void 0===t.columns&&(t.columns=["model.name"]),void 0===t.headers&&(t.headers={"model.name":"Name"}),void 0===t.contents&&(t.contents={}),void 0===t.headerContents&&(t.headerContents={}),void 0===t.classes&&(t.classes={}),void 0===t.formatters&&(t.formatters={}),s.directives.on.new(t,function(i,r,o){if("ganttSideContent"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("side-element");var l=n[0].createElement("gantt-side-content-table");angular.element(a).append(l),o.append(e(a)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,i,r,o){var s=o.gantt.api;if(n.options&&"object"==typeof n.options.tooltips)for(var a in n.options.tooltips)n[a]=n.options.tooltips[a];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=s,s.directives.on.new(n,function(i,o,s){if("ganttTask"===i){var a=o.$new();a.pluginScope=n;var l=e[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=e[0].createElement("gantt-tooltip");void 0!==r.templateUrl&&angular.element(u).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(u).attr("data-template",r.template),angular.element(l).append(u),s.append(t(l)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.tree",["gantt","gantt.tree.templates","ui.tree"]).directive("ganttTree",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?",content:"=?",headerContent:"=?",keepAncestorOnFilterRow:"=?"},link:function(t,i,r,o){var s=o.gantt.api;if(t.options&&"object"==typeof t.options.tree)for(var a in t.options.tree)t[a]=t.options.tree[a];void 0===t.enabled&&(t.enabled=!0),void 0===t.header&&(t.header="Name"),void 0===t.headerContent&&(t.headerContent="{{getHeader()}}"),void 0===t.keepAncestorOnFilterRow&&(t.keepAncestorOnFilterRow=!1),s.directives.on.new(t,function(i,r,o){if("ganttSideContent"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("side-element");var l=n[0].createElement("gantt-side-content-tree");angular.element(a).append(l),o.append(e(a)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(t,e){return{restrict:"E",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl,n.template&&t.put(i,n.template),i},replace:!0,scope:!0,controller:["$scope","$element",function(t,n){n.toggleClass("ng-hide",!0),t.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var e=t.task.rowsManager.gantt.getPositionByDate(t.task.model.est),i=t.task.rowsManager.gantt.getPositionByDate(t.task.model.lct);n.css("left",e-t.task.left+"px"),n.css("width",i-e+"px"),n.toggleClass("gantt-task-bounds-in",!1),n.toggleClass("gantt-task-bounds-out",!1),void 0===t.task.model.est||void 0===t.task.model.lct?n.toggleClass("gantt-task-bounds-in",!0):t.task.model.est>t.task.model.from?n.toggleClass("gantt-task-bounds-out",!0):t.task.model.lct<t.task.model.to?n.toggleClass("gantt-task-bounds-out",!0):n.toggleClass("gantt-task-bounds-in",!0)}),t.task.$element.bind("mouseenter",function(){n.toggleClass("ng-hide",!1)}),t.task.$element.bind("mouseleave",function(){n.toggleClass("ng-hide",!0)}),t.task.rowsManager.gantt.api.directives.raise.new("ganttBounds",t,n),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",t,n)})}]}}])}(),function(){"use strict";angular.module("gantt.corner").directive("ganttCornerArea",["GanttDirectiveBuilder",function(t){var e=new t("ganttCornerArea","plugins/corner/corner.tmpl.html");return e.controller=function(t){function e(e){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=r[0].name,s={columns:r,unit:r[0].unit,name:o};n.push(s)}t.headers=n}e(t.gantt.columnsManager.headers),t.getLabel=function(e){var n=e.name;return t.pluginScope.headersLabels&&e.name in t.pluginScope.headersLabels?(n=t.pluginScope.headersLabels[e.name],angular.isFunction(n)&&(n=n(e.name,e.unit,e.columns))):angular.isFunction(t.pluginScope.headersLabels)&&(n=t.pluginScope.headersLabels(e.name,e.unit,e.columns)),n},t.getLabelContent=function(e){var n;return void 0===n&&void 0!==t.pluginScope.headersLabelsTemplates&&(n=t.pluginScope.headersLabelsTemplates,angular.isObject(n)&&e.name in n&&(n=n[e.name]),angular.isFunction(n)&&(n=n(e.name,e.unit,e.columns))),void 0===n?"{{getLabel(header)}}":n},t.gantt.api.columns.on.generate(t,function(t,n){e(n)})},e.build()}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesChecker",[function(){return function(t){function e(t,e){e.model.id in t||!e.$element||(e.$element.addClass("gantt-task-conflict"),t[e.model.id]=e)}function n(t,e){for(var n=0,i=e.length;n<i;n++){var r=e[n];r.model.id in t||!r.$element||r.$element.removeClass("gantt-task-conflict")}}this.refresh=function(i){for(var r=i.slice(0),o=[],s=0;s<i.length;s++)for(var a=t.getTaskDependencies(i[s]),l=0;l<a.length;l++){var u=a[l],c=u.getFromTask(),d=u.getToTask();c in r||r.push(c),d in r||r.push(d),c.model.to>d.model.from&&(e(o,c),e(o,d))}n(o,r)},this.removeConflictClass=function(t){t.$element.removeClass("gantt-task-conflict")},this.clear=function(t){n([],t.slice(0))}}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesEvents",[function(){return function(t){var e=this;this.manager=t;var n=function(){return!e.manager.pluginScope.readOnly};this.manager.plumb.bind("beforeDrag",n),this.manager.plumb.bind("beforeStartDetach",n);var i=function(t){return t.sourceId!==t.targetId};this.manager.plumb.bind("beforeDrop",i),this.manager.plumb.bind("connectionDrag",function(t){e.manager.setDraggingConnection(t)}),this.manager.plumb.bind("connectionDragStop",function(){e.manager.setDraggingConnection(void 0)}),this.manager.plumb.bind("beforeDrop",function(){return e.manager.setDraggingConnection(void 0),!0});var r=function(t,n){if(n){var i;t.connection.$dependency&&(i=t.connection.$dependency);var r=t.sourceEndpoint,o=t.targetEndpoint,s=r.$task.model,a=s.dependencies;void 0===a&&(a=[],s.dependencies=a);var l={to:o.$task.model.id};a.push(l),i&&(i.removeFromTaskModel(),e.manager.removeDependency(i,!0));var u=e.manager.addDependency(r.$task,l);t.connection.$dependency=u,u.connection=t.connection,u.connection.setParameter("from",r.$task),u.connection.setParameter("to",o.$task),u.connection.canvas.setAttribute("data-fromId",r.$task.model.id),u.connection.canvas.setAttribute("data-toId",o.$task.model.id),e.manager.api.dependencies.raise.add(u)}},o=function(t,n){if(n){var i;t.connection.$dependency&&(i=t.connection.$dependency);var r=t.newSourceEndpoint,o=t.newTargetEndpoint,s=r.$task.model,a=s.dependencies;void 0===a&&(a=[],s.dependencies=a);var l={to:o.$task.model.id};a.push(l),i&&(i.removeFromTaskModel(),e.manager.removeDependency(i,!0));var u=e.manager.addDependency(r.$task,l);t.connection.$dependency=u,u.connection=t.connection,u.connection.setParameter("from",r.$task),u.connection.setParameter("to",o.$task),u.connection.canvas.setAttribute("data-fromId",r.$task.model.id),u.connection.canvas.setAttribute("data-toId",o.$task.model.id),e.manager.api.dependencies.raise.change(u,i)}},s=function(t,n){if(n){var i=t.connection.$dependency;i.removeFromTaskModel(),e.manager.removeDependency(i,!0),e.manager.api.dependencies.raise.remove(i)}};this.manager.plumb.bind("connectionMoved",o),this.manager.plumb.bind("connection",r),this.manager.plumb.bind("connectionDetached",s)}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesManager",["GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler",function(t,e,n){return function(i,r,o){var s=this;this.gantt=i,this.pluginScope=r,this.api=o,this.api.registerEvent("dependencies","add"),this.api.registerEvent("dependencies","change"),this.api.registerEvent("dependencies","remove"),this.plumb=jsPlumb.getInstance(),this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults),this.dependenciesFrom={},this.dependenciesTo={},this.tasksList=[],this.tasks={},this.events=new e(this),this.pluginScope.$watch("enabled",function(t,e){t!==e&&s.refresh()}),this.pluginScope.$watch("readOnly",function(t,e){t!==e&&(s.setTasks(s.tasksList),s.refresh())}),this.pluginScope.$watch("jsPlumbDefaults",function(t,e){t!==e&&(s.plumb.importDefaults(t),s.refresh())},!0),this.addDependenciesFromTask=function(t,e){if(this.pluginScope.enabled){var n=t.model.dependencies;if(void 0!==n&&n){angular.isArray(n)||(n=[n],t.model.dependencies=n);for(var i=0,r=n.length;i<r;i++){var o=s.addDependency(t,n[i],e);o&&o.connect()}}}},this.removeDependenciesFromTask=function(t,e){var n=this.getTaskDependencies(t);if(n)for(var i=0;i<n.length;i++)e||n[i].disconnect(),s.removeDependency(n[i])},this.addDependency=function(e,n,i){var r=new t(this,e,n),o=r.getFromTaskId(),s=r.getFromTask(),a=r.getToTaskId(),l=r.getToTask(),u=r.manager;return o in this.dependenciesFrom||(this.dependenciesFrom[o]=[]),a in this.dependenciesTo||(this.dependenciesTo[a]=[]),i||l&&s?(o&&this.dependenciesFrom[o].push(r),a&&this.dependenciesTo[a].push(r),r):(this.removeDependency(r,!0),u.api.dependencies.raise.remove(r),null)},this.removeDependency=function(t,e){var n,i=this.dependenciesFrom[t.getFromTaskId()],r=[];if(i)for(n=0;n<i.length;n++)t===i[n]&&r.push(t);var o=this.dependenciesTo[t.getToTaskId()],s=[];if(o)for(n=0;n<o.length;n++)t===o[n]&&s.push(t);for(n=0;n<r.length;n++)e||r[n].disconnect(),i.splice(i.indexOf(t),1);for(n=0;n<s.length;n++)e||s[n].disconnect(),o.splice(o.indexOf(t),1);this.dependenciesFrom[t.getFromTaskId()]&&0===this.dependenciesFrom[t.getFromTaskId()].length&&delete this.dependenciesFrom[t.getFromTaskId()],this.dependenciesTo[t.getToTaskId()]&&0===this.dependenciesTo[t.getToTaskId()].length&&delete this.dependenciesTo[t.getToTaskId()]},this.getTaskDependencies=function(t){var e=[],n=s.dependenciesFrom[t.model.id];n&&(e=e.concat(n));var i=s.dependenciesTo[t.model.id];return i&&(e=e.concat(i)),e},this.setDraggingConnection=function(t){t?(s.draggingConnection=t,angular.forEach(s.tasks,function(t){t.dependencies.mouseHandler.release()})):(s.draggingConnection=void 0,angular.forEach(s.tasks,function(t){t.dependencies.mouseHandler.install()}))};var a=function(t){var e=t.row.model.dependencies;if(void 0!==e)return!1!==e;var n=t.model.dependencies;return void 0===n||!1!==n},l=function(t){if(t.dependencies||(t.dependencies={}),t.dependencies.endpoints=[],s.pluginScope.endpoints&&t.$element)for(var e=0;e<s.pluginScope.endpoints.length;e++){var n=s.plumb.addEndpoint(t.$element,s.pluginScope.endpoints[e]);n.setVisible(!1,!0,!0),n.$task=t,t.dependencies.endpoints.push(n)}},u=function(t){if(t.dependencies.endpoints){for(var e=0;e<t.dependencies.endpoints.length;e++){var n=t.dependencies.endpoints[e];s.plumb.deleteEndpoint(n),n.$task=void 0}t.dependencies.endpoints=void 0}},c=function(t){t.dependencies||(t.dependencies={}),s.pluginScope.readOnly||(t.dependencies.mouseHandler=new n(s,t),t.dependencies.mouseHandler.install())},d=function(t){t.dependencies.mouseHandler&&(t.dependencies.mouseHandler.release(),t.dependencies.mouseHandler=void 0)};this.setTasks=function(t){angular.forEach(s.tasks,function(t){d(t),u(t)});for(var e={},n=[],i=0;i<t.length;i++){var r=t[i];a(r)&&(e[r.model.id]=r,n.push(r),l(r),c(r))}s.tasks=e,s.tasksList=t};var h=function(t){var e=s.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].disconnect();return e},f=function(t){var e=s.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].connect();return e};this.setTask=function(t){s.plumb.setSuspendDrawing(!0);try{var e=s.tasks[t.model.id];void 0!==e&&(h(e),d(e),u(e)),a(t)&&(s.tasks[t.model.id]=t,l(t),c(t),f(t))}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.getTask=function(t){return s.tasks[t]};var p=function(t){return t.dependencies.endpoints.filter(function(t){return t.isSource})},g=function(t){return t.dependencies.endpoints.filter(function(t){return t.isTarget})};this.connect=function(t,e,n){var i=p(t),r=g(e);if(i&&r){var o,a;o=n.connectParameters&&n.connectParameters.sourceEndpointIndex?i[n.connectParameters.sourceEndpointIndex]:i[0],a=n.connectParameters&&n.connectParameters.targetEndpointIndex?r[n.connectParameters.targetEndpointIndex]:r[0];var l=s.plumb.connect({source:o,target:a,parameters:{from:t,to:e}},n.connectParameters);return l.canvas.setAttribute("data-fromId",t.model.id),l.canvas.setAttribute("data-toId",e.model.id),l}},this.getDependencies=function(){var t=[];return angular.forEach(this.dependenciesFrom,function(e){for(var n=0;n<e.length;n++)e[n]in t||t.push(e[n])}),t},this.refresh=function(t){s.plumb.setSuspendDrawing(!0);try{var e,n;t&&!angular.isArray(t)&&(t=[t]),void 0===t?(t=this.tasks,e=this.getDependencies()):(e=[],angular.forEach(t,function(t){var n=s.getTaskDependencies(t);angular.forEach(n,function(t){t in e||e.push(t)})}));for(n=0;n<e.length;n++)s.removeDependency(e[n]);angular.forEach(t,function(t){s.addDependenciesFromTask(t)})}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.api.registerMethod("dependencies","refresh",this.refresh,this)}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependency",["ganttUtils","ganttDom",function(t,e){return function(n,i,r){var o=this;this.manager=n,this.task=i,this.model=r,this.connection=void 0,this.fallbackEndpoints=[],this.isConnected=function(){return!!this.connection},this.disconnect=function(){this.connection&&(this.connection.endpoints&&this.manager.plumb.detach(this.connection),this.connection.$dependency=void 0,this.connection=void 0),this.deleteFallbackEndpoints()},this.deleteFallbackEndpoints=function(){if(this.fallbackEndpoints){for(var t=0;t<this.fallbackEndpoints.length;t++)o.manager.plumb.deleteEndpoint(this.fallbackEndpoints[t]);this.fallbackEndpoints=[]}},this.getFromTaskId=function(){return void 0!==this.model.from?this.model.from:this.task.model.id},this.getToTaskId=function(){return void 0!==this.model.to?this.model.to:this.task.model.id},this.getFromTask=function(){return void 0!==this.model.from?this.manager.getTask(this.model.from):this.task},this.getToTask=function(){return void 0!==this.model.to?this.manager.getTask(this.model.to):this.task},this.removeFromTaskModel=function(){var e=t.angularIndexOf(this.task.model.dependencies,this.model);return e>=0&&this.task.model.dependencies.splice(e,1),e};var s=function(t){if(void 0===t||void 0===t.$element)return!1;var n=t.$element[0];return e.isElementVisible(n)};this.connect=function(){var t=this.getFromTask(),e=this.getToTask();if(s(t)||(t=void 0),s(e)||(e=void 0),t&&e){var n=this.manager.connect(t,e,this.model);if(n)return n.$dependency=this,this.connection=n,!0}if(this.deleteFallbackEndpoints(),void 0!==t){var i=this.manager.pluginScope.fallbackEndpoints[1];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(t.$element,i))}if(void 0!==e){var r=this.manager.pluginScope.fallbackEndpoints[0];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(e.$element,r))}return!1}}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependencyTaskMouseHandler",["$timeout",function(t){return function(e,n){var i=this;this.manager=e,this.task=n,this.installed=!1,this.elementHandlers=[],this.display=!0,this.hideEndpointsPromise=void 0;var r=function(e){this.element=e,this.mouseExitHandler=function(){t.cancel(i.hideEndpointsPromise),i.hideEndpointsPromise=t(i.hideEndpoints,1e3,!1)},this.mouseEnterHandler=function(){t.cancel(i.hideEndpointsPromise),i.displayEndpoints()},this.install=function(){this.element.bind("mouseenter",this.mouseEnterHandler),this.element.bind("mouseleave",this.mouseExitHandler)},this.release=function(){this.element.unbind("mouseenter",this.mouseEnterHandler),this.element.unbind("mouseleave",this.mouseExitHandler),t.cancel(i.hideEndpointsPromise)}};this.install=function(){i.installed||(i.hideEndpoints(),i.task.getContentElement()&&(i.elementHandlers.push(new r(i.task.getContentElement())),angular.forEach(i.task.dependencies.endpoints,function(t){i.elementHandlers.push(new r(angular.element(t.canvas)))}),angular.forEach(i.elementHandlers,function(t){t.install()}),i.installed=!0))},this.release=function(){i.installed&&(angular.forEach(i.elementHandlers,function(t){t.release()}),i.elementHandlers=[],i.displayEndpoints(),i.installed=!1)},this.displayEndpoints=function(){i.display=!0,angular.forEach(i.task.dependencies.endpoints,function(t){t.setVisible(!0,!0,!0)})},this.hideEndpoints=function(){angular.forEach(i.task.dependencies.endpoints,function(t){t.setVisible(!1,!0,!0)}),i.display=!1}}}])}(),function(){"use strict";angular.module("gantt.groups").controller("GanttGroupController",["$scope","GanttTaskGroup","ganttUtils",function(t,e,n){var i=function(){var i=t.row.model.groups;"boolean"==typeof i&&(i={enabled:i}),n.firstProperty([i],"enabled",t.pluginScope.enabled)?(t.display=n.firstProperty([i],"display",t.pluginScope.display),t.taskGroup=new e(t.row,t.pluginScope),t.row.setFromTo(),t.row.setFromToByValues(t.taskGroup.from,t.taskGroup.to)):(t.taskGroup=void 0,t.display=void 0)};t.gantt.api.tasks.on.viewChange(t,function(e){void 0!==t.taskGroup&&(t.taskGroup.tasks.indexOf(e)>-1?(i(),t.$$phase||t.$root.$$phase||t.$digest()):t.pluginScope.hierarchy.descendants(t.row).indexOf(e.row)>-1&&(i(),t.$$phase||t.$root.$$phase||t.$digest()))});var r=t.pluginScope.$watch("display",i);t.$watchCollection("gantt.rowsManager.filteredRows",i),t.gantt.api.columns.on.refresh(t,i),t.$on("$destroy",r)}])}(),function(){"use strict";angular.module("gantt.groups").directive("ganttTaskGroup",["GanttDirectiveBuilder",function(t){return new t("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt").factory("GanttTaskGroup",["ganttUtils","GanttTask",function(t,e){return function(n,i){var r=this;r.row=n,r.pluginScope=i,r.descendants=r.pluginScope.hierarchy.descendants(r.row),r.tasks=[],r.overviewTasks=[],r.promotedTasks=[],r.showGrouping=!1;var o=r.row.model.groups;"boolean"==typeof o&&(o={enabled:o});for(var s=0;s<r.descendants.length;s++)for(var a=r.descendants[s].tasks,l=0;l<a.length;l++){var u=a[l],c=function(e){var n=e.model.groups;"boolean"==typeof n&&(n={enabled:n});var i=e.row.model.groups;if("boolean"==typeof i&&(i={enabled:i}),t.firstProperty([n,i,o],"enabled",r.pluginScope.enabled))return t.firstProperty([n,i,o],"display",r.pluginScope.display)}(u);if(void 0!==c){r.tasks.push(u);var d=new e(r.row,u.model);"overview"===c?r.overviewTasks.push(d):"promote"===c?r.promotedTasks.push(d):r.showGrouping=!0}}if(r.from=void 0,o&&(r.from=o.from),void 0===r.from)for(s=0;s<r.tasks.length;s++)(void 0===r.from||r.tasks[s].model.from<r.from)&&(r.from=r.tasks[s].model.from);if(r.to=void 0,o&&(r.to=o.to),void 0===r.to)for(s=0;s<r.tasks.length;s++)(void 0===r.to||r.tasks[s].model.to>r.to)&&(r.to=r.tasks[s].model.to);r.showGrouping&&(r.left=n.rowsManager.gantt.getPositionByDate(r.from),r.width=n.rowsManager.gantt.getPositionByDate(r.to)-r.left)}}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskOverview",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return e.controller=function(t,e){t.task.$element=e,t.task.$scope=t,t.task.updatePosAndSize()},e.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getLabelsCss=function(){var e={},i=t.maxHeight;i||(i=t.gantt.getContainerHeight());var r=t.gantt.scroll.isHScrollbarVisible()?n:0;return e["max-height"]=i-r-t.gantt.header.getHeight()+"px",e}},n.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsHeader",["GanttDirectiveBuilder",function(t){return new t("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttSideContentLabels",["GanttDirectiveBuilder",function(t){return new t("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.movable").factory("ganttMovableOptions",[function(){return{initialize:function(t){return t.enabled=void 0===t.enabled||t.enabled,t.allowMoving=void 0===t.allowMoving||!!t.allowMoving,t.allowResizing=void 0===t.allowResizing||!!t.allowResizing,angular.isFunction(t.allowRowSwitching)||(t.allowRowSwitching=void 0===t.allowRowSwitching||!!t.allowRowSwitching),t}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(t){return{restrict:"E",requires:"^ganttTask",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/progress/taskProgress.tmpl.html":n.templateUrl,void 0!==n.template&&t.put(i,n.template),i},replace:!0,scope:!0,controller:["$scope","$element",function(t,e){t.getClasses=function(){var e=[];return"object"==typeof t.task.model.progress&&(e=t.task.model.progress.classes),e},t.getCss=function(){var e,n={};return void 0!==t.task.model.progress&&(e="object"==typeof t.task.model.progress?t.task.model.progress:{percent:t.task.model.progress}),e&&(e.color?n["background-color"]=e.color:n["background-color"]="#6BC443",n.width=e.percent+"%"),n},t.task.rowsManager.gantt.api.directives.raise.new("ganttTaskProgress",t,e),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",t,e)})}]}}])}(),function(){"use strict";angular.module("gantt.sections").directive("ganttTaskSection",["$templateCache",function(t){return{restrict:"E",requires:"^ganttTaskSections",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/sections/taskSection.tmpl.html":n.templateUrl,void 0!==n.template&&t.put(i,n.template),i},replace:!0,scope:{section:"=",task:"=",index:"=",options:"=?"},controller:["$scope","$element","ganttUtils","moment",function(t,e,n,i){var r=i(t.section.from).isSame(i(t.task.model.from)),o=i(t.section.to).isSame(i(t.task.model.to));!function(){if(t.task._movingTaskSections){var e=t.task._movingTaskSections,n=e["$$index_"+t.index];t.section=n.section,t.sectionCss=n.sectionCss,r=n.fromTask,o=n.toTask,delete e["$$index_"+t.index]}var i=!0;for(var s in t.task._movingTaskSections)if(t.task._movingTaskSections.hasOwnProperty(s)){i=!1;break}i&&delete t.task._movingTaskSections}();var s=function(){if(r)return 0;var e,o=t.task.rowsManager.gantt,s=t.task.left;return e=n.firstProperty([t.section,t.options],"disableMagnet",t.$parent.pluginScope.disableMagnet)?t.section.from:o.getMagnetDate(t.section.from),!n.firstProperty([t.section,t.options],"disableDaily",t.$parent.pluginScope.disableDaily)&&o.options.value("daily")&&(e=i(e).startOf("day")),o.getPositionByDate(e)-s},a=function(){var e=n.firstProperty([t.section,t.options],"keepProportions",t.$parent.pluginScope.keepProportions);if(o&&e)return t.task.width;var r=t.task.rowsManager.gantt,s=t.task.left,a=n.firstProperty([t.section,t.options],"disableMagnet",t.$parent.pluginScope.disableMagnet)?t.section.to:r.getMagnetDate(t.section.to);return!n.firstProperty([t.section,t.options],"disableDaily",t.$parent.pluginScope.disableDaily)&&r.options.value("daily")&&(a=i(a).startOf("day")),r.getPositionByDate(a)-s},l=function(e){return e/t.task.width*100},u=function(){var e=s(),i=a()-e;n.firstProperty([t.section,t.options],"keepProportions",t.$parent.pluginScope.keepProportions)?(t.sectionCss.left=l(e)+"%",t.sectionCss.width=l(i)+"%"):(t.sectionCss.left=e+"px",t.sectionCss.width=i+"px")};void 0===t.sectionCss&&(t.sectionCss={},u(),function(){t.section.color?t.sectionCss["background-color"]=t.section.color:t.sectionCss["background-color"]=void 0}());var c=function(i){if(i===t.task){var s,a=t.task.rowsManager.gantt,l=e[0].offsetLeft,c=n.firstProperty([t.section,t.options],"disableMagnet",t.$parent.pluginScope.disableMagnet);s=r?t.task.model.from:a.getDateByPosition(t.task.modelLeft+l,!c);var d;if(o)d=t.task.model.to;else{var h=l+e[0].offsetWidth;d=a.getDateByPosition(t.task.modelLeft+h,!c)}t.section.from=s,t.section.to=d,u()}},d=function(e){if(e.id===t.task.model.id){var n=t.section;void 0===n.from||i.isMoment(n.from)||(n.from=i(n.from)),void 0===n.to||i.isMoment(n.to)||(n.to=i(n.to))}};d(t.task.model),t.task.rowsManager.gantt.api.tasks.on.clean(t,d),t.task.rowsManager.gantt.api.tasks.on.change(t,c);var h=function(e){var n=e._movingTaskSections;n||(n={},e._movingTaskSections=n),n["$$index_"+t.index]={section:t.section,sectionCss:t.sectionCss,fromTask:r,toTask:o}};t.task.rowsManager.gantt.api.tasks.on.beforeViewRowChange(t,h),t.task.rowsManager.gantt.api.directives.raise.new("ganttTaskSection",t,e),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskSection",t,e)})}]}}])}(),function(){"use strict";angular.module("gantt.sections").directive("ganttTaskSections",["$templateCache",function(t){return{restrict:"E",requires:"^ganttTask",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/sections/taskSections.tmpl.html":n.templateUrl,void 0!==n.template&&t.put(i,n.template),i},replace:!0,scope:!0,controller:["$scope","$element",function(t,e){t.task.rowsManager.gantt.api.directives.raise.new("ganttTaskSections",t,e),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskSections",t,e)})}]}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={},i=t.maxHeight;i||(i=t.gantt.getContainerHeight());var r=t.gantt.scroll.isHScrollbarVisible()?n:0;return e["max-height"]=i-r-t.gantt.header.getHeight()+"px",e}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(t){t.getHeader=function(){var e=t.pluginScope.headers[t.column];return void 0!==e?e:(void 0!==t.pluginScope.headerFormatter&&(e=t.pluginScope.headerFormatter(t.column)),e)},t.getHeaderContent=function(){var e=t.pluginScope.headerContents[t.column];return void 0===e?"{{getHeader()}}":e},t.getClass=function(){return t.pluginScope.classes[t.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope",function(t){t.getValue=function(){var e=t.$eval(t.column,t.row),n=t.pluginScope.formatters[t.column];return void 0!==n&&(e=n(e,t.column,t.row)),e},t.getRowContent=function(){var e;return t.row.model.columnContents&&(e=t.row.model.columnContents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.model.content),void 0===e&&(e=t.pluginScope.contents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.rowsManager.gantt.options.value("rowContent")),void 0===e&&void 0!==t.pluginScope.content&&(e=t.pluginScope.content),void 0===e?"{{getValue()}}":e}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(t,e,n,i,r,o,s){return{restrict:"E",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/tooltips/tooltip.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(t,n,r){var a,l,u,c=angular.element(i[0].body),d=t.task.$element,h=!1,f=function(){var t=i[0];return t.documentElement.clientWidth||t.documentElement.getElementById("body")[0].clientWidth},p=function(e){e+n[0].offsetWidth>f()?(n.css("left",e+20-n[0].offsetWidth+"px"),t.isRightAligned=!0):(n.css("left",e-20+"px"),t.isRightAligned=!1)},g=function(e){h=!0,u.bind(),t.displayed=!0,t.$evalAsync(function(){var i;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),i=!0),t.elementHeight=n[0].offsetHeight,i&&n.addClass("ng-hide"),t.taskRect=d[0].getBoundingClientRect(),p(e)})},m=function(){h=!1,u.unbind(),t.$evalAsync(function(){t.displayed=!1})},v=function(n,i){a&&e.cancel(a);var o=t.task.model.tooltips,s=t.task.row.model.tooltips;if("boolean"==typeof o&&(o={enabled:o}),"boolean"==typeof s&&(s={enabled:s}),r.firstProperty([o,s],"enabled",t.pluginScope.enabled)&&!h&&void 0!==l&&n){var u=r.firstProperty([o,s],"content",t.pluginScope.content);t.content=u,i?a=e(function(){g(l)},t.pluginScope.delay,!1):g(l)}else n||t.task.active||m()};u=s(t,c,"mousemove",o(function(e){h?((!t.taskRect||e.clientX<t.taskRect.left||e.clientX>t.taskRect.right||e.clientY>t.taskRect.bottom||e.clientY<t.taskRect.top)&&v(!1,!1),p(e.clientX)):(l=e.clientX,v(!0,!1))},5,!1)),t.getFromLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.from.format(i)},t.getToLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.to.format(i)},t.task.getContentElement().bind("mousemove",function(t){l=t.clientX}),t.task.getContentElement().bind("mouseenter",function(t){l=t.clientX,v(!0,!0)}),t.task.getContentElement().bind("mouseleave",function(){v(!1)}),t.pluginScope.api.tasks.on.moveBegin&&(t.pluginScope.api.tasks.on.moveBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.moveEnd(t,function(e){e===t.task&&v(!1)}),t.pluginScope.api.tasks.on.resizeBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.resizeEnd(t,function(e){e===t.task&&v(!1)})),t.task.isMoving&&v(!0,!1),t.gantt.api.directives.raise.new("ganttTooltip",t,n),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("ganttTooltip",t,n)})}]}}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttRowTreeLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowTreeLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttSideContentTree",["GanttDirectiveBuilder",function(t){return new t("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.tree").controller("GanttTreeController",["$scope","$filter","GanttHierarchy",function(t,e,n){t.rootRows=[],t.getHeader=function(){return t.pluginScope.header};var i=new n;t.pluginScope.$watchGroup(["keepAncestorOnFilterRow","enabled"],function(n){if(n[0]&&n[1]){var r=function(t,n,r){i.refresh(t);for(var o=[],s=0;s<t.length;s++){var a=i.children(t[s]);a&&0!==a.length||o.push(t[s])}var l=e("filter")(o,n,r),u=function(t){if(l.indexOf(t)>-1)return!0;for(var e=i.descendants(t),n=0;n<e.length;n++)if(l.indexOf(e[n])>-1)return!0;return!1};return e("filter")(t,u,r)};t.gantt.rowsManager.setFilterImpl(r)}else t.gantt.rowsManager.setFilterImpl(!1)});var r=function(e){for(var n=t.parent(e);void 0!==n;){if(void 0!==n&&n._collapsed)return!1;n=t.parent(n)}return!0},o=function(t){return t.filter(function(t){return r(t)})},s=function(e){for(var n=[],i=[],r=0;r<e.length;r++)void 0===t.parent(e[r])?i.push(e[r]):!0;var o=function(i){n.push(i);var r=t.children(i);if(void 0!==r&&r.length>0)for(var s=r.sort(function(t,n){return e.indexOf(t)-e.indexOf(n)}),a=0;a<s.length;a++)o(s[a])};for(r=0;r<i.length;r++)o(i[r]);return n};t.gantt.api.rows.addRowSorter(s),t.gantt.api.rows.addRowFilter(o),t.$on("$destroy",function(){t.gantt.api.rows.removeRowSorter(s),t.gantt.api.rows.removeRowFilter(o)});var a=function(){t.rootRows=i.refresh(t.gantt.rowsManager.filteredRows),t.gantt.rowsManager.filteredRows.length>0&&(t.gantt.api.rows.sort(),t.gantt.api.rows.refresh())};t.gantt.api.rows.on.remove(t,a),t.gantt.api.rows.on.add(t,a);var l=function(e){var n;if(void 0!==(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e))return void 0!==n._collapsed&&n._collapsed},u=function(e){var n;if(void 0!==(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e)){var i=t.nodeScopes[n.model.id];i.collapsed&&i.toggle()}},c=function(e){var n;if(void 0!==(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e)){var i=t.nodeScopes[n.model.id];i.collapsed||i.toggle()}},d=function(){return i};t.getHeaderContent=function(){return t.pluginScope.headerContent},t.gantt.api.registerMethod("tree","refresh",a,this),t.gantt.api.registerMethod("tree","isCollapsed",l,this),t.gantt.api.registerMethod("tree","expand",u,this),t.gantt.api.registerMethod("tree","collapse",c,this),t.gantt.api.registerEvent("tree","collapsed"),t.gantt.api.registerMethod("tree","getHierarchy",d,this),t.$watchCollection("gantt.rowsManager.filteredRows",function(){a()}),t.children=function(e){return void 0===e?t.rootRows:i.children(e)},t.parent=function(t){return i.parent(t)},t.nodeScopes={}}]).controller("GanttUiTreeController",["$scope",function(t){var e=function(){t.$broadcast("angular-ui-tree:collapse-all")},n=function(){t.$broadcast("angular-ui-tree:expand-all")};t.gantt.api.registerMethod("tree","collapseAll",e,t),t.gantt.api.registerMethod("tree","expandAll",n,t)}]).controller("GanttTreeNodeController",["$scope",function(t){t.$parent.nodeScopes[t.row.model.id]=t,t.$on("$destroy",function(){delete t.$parent.nodeScopes[t.row.model.id]}),t.$watch("children(row)",function(e){if(e){for(var n=t.row.rowsManager.filteredRows,i=[],r=0;r<e.length;r++){var o=e[r];n.indexOf(o)>-1&&i.push(o)}t.$parent.childrenRows=i}else t.$parent.childrenRows=e}),t.isCollapseDisabled=function(){return!t.$parent.childrenRows||0===t.$parent.childrenRows.length},t.getValue=function(){return t.row.model.name},t.getRowContent=function(){if(void 0!==t.row.model.content)return t.row.model.content;if(void 0!==t.pluginScope.content)return t.pluginScope.content;var e=t.row.rowsManager.gantt.options.value("rowContent");return void 0===e&&(e="{{row.model.name}}"),e},t.$watch("collapsed",function(e){if(t.$modelValue._collapsed!==e){var n=t.$modelValue._collapsed;t.$modelValue._collapsed=e,void 0!==n&&e!==n&&(t.gantt.api.tree.raise.collapsed(t,t.$modelValue,e),t.gantt.api.rows.refresh())}})}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getLabelsCss=function(){var e={},i=t.maxHeight;i||(i=t.gantt.getContainerHeight());var r=t.gantt.scroll.isHScrollbarVisible()?n:0;return e["max-height"]=i-r-t.gantt.header.getHeight()+"px",e}},n.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeHeader",["GanttDirectiveBuilder",function(t){return new t("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html").build()}])}(),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(t){t.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.corner.templates",[]).run(["$templateCache",function(t){t.put("plugins/corner/corner.tmpl.html",'<div class="gantt-corner-area-content">\n    <div ng-show="$parent.ganttHeaderHeight" class="gantt-header-row" ng-repeat="header in headers">\n        <div class="gantt-column-header" ><span class="gantt-label-text" gantt-bind-compile-html="getLabelContent(header)"></span></div>\n    </div>\n</div>\n')}]),angular.module("gantt.dependencies.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.groups.templates",[]).run(["$templateCache",function(t){t.put("plugins/groups/taskGroup.tmpl.html",'<div ng-controller="GanttGroupController">\n    <div class="gantt-task-group-overview" ng-if="taskGroup.overviewTasks.length > 0">\n        <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview>\n    </div>\n    <div class="gantt-task-group-promote" ng-if="taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0">\n        <gantt-task ng-repeat="task in taskGroup.promotedTasks"></gantt-task>\n    </div>\n    <div class="gantt-task-group"\n         ng-if="taskGroup.showGrouping"\n         ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}">\n        <div class="gantt-task-group-left-main"></div>\n        <div class="gantt-task-group-right-main"></div>\n        <div class="gantt-task-group-left-symbol"></div>\n        <div class="gantt-task-group-right-symbol"></div>\n    </div>\n</div>\n\n'),t.put("plugins/groups/taskOverview.tmpl.html",'<div class="gantt-task gantt-task-overview" ng-class="task.model.classes">\n    <gantt-task-background></gantt-task-background>\n    <gantt-task-content></gantt-task-content>\n    <gantt-task-foreground></gantt-task-foreground>\n</div>\n\n')}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(t){t.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n            <div gantt-row-label\n                 class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}">\n                <span class="gantt-label-text">{{row.model.name}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height" ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(t){t.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.resizeSensor.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.sections.templates",[]).run(["$templateCache",function(t){t.put("plugins/sections/taskSection.tmpl.html",'<div ng-style="sectionCss"\n     ng-class="section.classes"\n     class="gantt-task-section"></div>\n'),t.put("plugins/sections/taskSections.tmpl.html",'<div ng-cloak class="gantt-task-sections">\n    <gantt-task-section section="section"\n                        task="task"\n                        options="task.model.sections"\n                        index="$index"\n                        ng-repeat="section in task.model.sections.items track by $index">\n    </gantt-task-section>\n</div>\n')}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.table.templates",[]).run(["$templateCache",function(t){t.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(t){t.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="content"></div>\n    </div>\n</div>\n')}]),angular.module("gantt.tree.templates",[]).run(["$templateCache",function(t){t.put("plugins/tree/sideContentTree.tmpl.html",'<div class="gantt-side-content-tree" ng-controller="GanttTreeController">\n    <gantt-tree-header>\n    </gantt-tree-header>\n    <gantt-tree-body>\n    </gantt-tree-body>\n</div>\n'),t.put("plugins/tree/treeBody.tmpl.html",'<div class="gantt-tree-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div class="gantt-row-label-background">\n            <div class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}"\n                 ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                &nbsp;\n            </div>\n        </div>\n        <div ui-tree ng-controller="GanttUiTreeController" data-drag-enabled="false" data-empty-place-holder-enabled="false">\n            <ol class="gantt-tree-root" ui-tree-nodes ng-model="rootRows">\n                <li ng-repeat="row in rootRows" ui-tree-node\n                    ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/tree/treeBodyChildren.tmpl.html",'<div ng-controller="GanttTreeNodeController"\n     class="gantt-row-label gantt-row-height"\n     ng-class="row.model.classes"\n     ng-style="{\'height\': row.model.height}">\n    <div class="gantt-valign-container">\n        <div class="gantt-valign-content">\n            <a ng-disabled="isCollapseDisabled()" data-nodrag\n               class="gantt-tree-handle-button btn btn-xs"\n               ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"\n               ng-click="!isCollapseDisabled() && toggle()"><span\n                class="gantt-tree-handle glyphicon glyphicon-chevron-down"\n                ng-class="{\n                \'glyphicon-chevron-right\': collapsed, \'glyphicon-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span>\n            </a>\n            <span gantt-row-label class="gantt-label-text" gantt-bind-compile-html="getRowContent()"/>\n        </div>\n    </div>\n</div>\n<ol ui-tree-nodes ng-class="{hidden: collapsed}" ng-model="childrenRows">\n    <li ng-repeat="row in childrenRows" ui-tree-node>\n        <div ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"></div>\n    </li>\n</ol>\n'),t.put("plugins/tree/treeHeader.tmpl.html",'<div class="gantt-tree-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n    <div ng-if="$parent.ganttHeaderHeight" class="gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row"><span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/></div>\n</div>\n')}]);